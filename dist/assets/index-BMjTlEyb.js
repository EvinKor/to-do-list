(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))a(r);new MutationObserver(r=>{for(const i of r)if(i.type==="childList")for(const l of i.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&a(l)}).observe(document,{childList:!0,subtree:!0});function n(r){const i={};return r.integrity&&(i.integrity=r.integrity),r.referrerPolicy&&(i.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?i.credentials="include":r.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function a(r){if(r.ep)return;r.ep=!0;const i=n(r);fetch(r.href,i)}})();function Kc(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var k0={exports:{}},Zs={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Vy=Symbol.for("react.transitional.element"),Yy=Symbol.for("react.fragment");function R0(e,t,n){var a=null;if(n!==void 0&&(a=""+n),t.key!==void 0&&(a=""+t.key),"key"in t){n={};for(var r in t)r!=="key"&&(n[r]=t[r])}else n=t;return t=n.ref,{$$typeof:Vy,type:e,key:a,ref:t!==void 0?t:null,props:n}}Zs.Fragment=Yy;Zs.jsx=R0;Zs.jsxs=R0;k0.exports=Zs;var y=k0.exports,C0={exports:{}},ie={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Pc=Symbol.for("react.transitional.element"),Ky=Symbol.for("react.portal"),Py=Symbol.for("react.fragment"),Xy=Symbol.for("react.strict_mode"),Jy=Symbol.for("react.profiler"),Qy=Symbol.for("react.consumer"),Zy=Symbol.for("react.context"),Fy=Symbol.for("react.forward_ref"),Wy=Symbol.for("react.suspense"),ev=Symbol.for("react.memo"),O0=Symbol.for("react.lazy"),tv=Symbol.for("react.activity"),vf=Symbol.iterator;function nv(e){return e===null||typeof e!="object"?null:(e=vf&&e[vf]||e["@@iterator"],typeof e=="function"?e:null)}var N0={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},j0=Object.assign,D0={};function Gr(e,t,n){this.props=e,this.context=t,this.refs=D0,this.updater=n||N0}Gr.prototype.isReactComponent={};Gr.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};Gr.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function U0(){}U0.prototype=Gr.prototype;function Xc(e,t,n){this.props=e,this.context=t,this.refs=D0,this.updater=n||N0}var Jc=Xc.prototype=new U0;Jc.constructor=Xc;j0(Jc,Gr.prototype);Jc.isPureReactComponent=!0;var bf=Array.isArray;function Du(){}var ke={H:null,A:null,T:null,S:null},M0=Object.prototype.hasOwnProperty;function Qc(e,t,n){var a=n.ref;return{$$typeof:Pc,type:e,key:t,ref:a!==void 0?a:null,props:n}}function av(e,t){return Qc(e.type,t,e.props)}function Zc(e){return typeof e=="object"&&e!==null&&e.$$typeof===Pc}function rv(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return t[n]})}var wf=/\/+/g;function Do(e,t){return typeof e=="object"&&e!==null&&e.key!=null?rv(""+e.key):t.toString(36)}function iv(e){switch(e.status){case"fulfilled":return e.value;case"rejected":throw e.reason;default:switch(typeof e.status=="string"?e.then(Du,Du):(e.status="pending",e.then(function(t){e.status==="pending"&&(e.status="fulfilled",e.value=t)},function(t){e.status==="pending"&&(e.status="rejected",e.reason=t)})),e.status){case"fulfilled":return e.value;case"rejected":throw e.reason}}throw e}function er(e,t,n,a,r){var i=typeof e;(i==="undefined"||i==="boolean")&&(e=null);var l=!1;if(e===null)l=!0;else switch(i){case"bigint":case"string":case"number":l=!0;break;case"object":switch(e.$$typeof){case Pc:case Ky:l=!0;break;case O0:return l=e._init,er(l(e._payload),t,n,a,r)}}if(l)return r=r(e),l=a===""?"."+Do(e,0):a,bf(r)?(n="",l!=null&&(n=l.replace(wf,"$&/")+"/"),er(r,t,n,"",function(u){return u})):r!=null&&(Zc(r)&&(r=av(r,n+(r.key==null||e&&e.key===r.key?"":(""+r.key).replace(wf,"$&/")+"/")+l)),t.push(r)),1;l=0;var s=a===""?".":a+":";if(bf(e))for(var o=0;o<e.length;o++)a=e[o],i=s+Do(a,o),l+=er(a,t,n,i,r);else if(o=nv(e),typeof o=="function")for(e=o.call(e),o=0;!(a=e.next()).done;)a=a.value,i=s+Do(a,o++),l+=er(a,t,n,i,r);else if(i==="object"){if(typeof e.then=="function")return er(iv(e),t,n,a,r);throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.")}return l}function kl(e,t,n){if(e==null)return e;var a=[],r=0;return er(e,a,"","",function(i){return t.call(n,i,r++)}),a}function lv(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(n){(e._status===0||e._status===-1)&&(e._status=1,e._result=n)},function(n){(e._status===0||e._status===-1)&&(e._status=2,e._result=n)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var _f=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)},sv={map:kl,forEach:function(e,t,n){kl(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return kl(e,function(){t++}),t},toArray:function(e){return kl(e,function(t){return t})||[]},only:function(e){if(!Zc(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};ie.Activity=tv;ie.Children=sv;ie.Component=Gr;ie.Fragment=Py;ie.Profiler=Jy;ie.PureComponent=Xc;ie.StrictMode=Xy;ie.Suspense=Wy;ie.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=ke;ie.__COMPILER_RUNTIME={__proto__:null,c:function(e){return ke.H.useMemoCache(e)}};ie.cache=function(e){return function(){return e.apply(null,arguments)}};ie.cacheSignal=function(){return null};ie.cloneElement=function(e,t,n){if(e==null)throw Error("The argument must be a React element, but you passed "+e+".");var a=j0({},e.props),r=e.key;if(t!=null)for(i in t.key!==void 0&&(r=""+t.key),t)!M0.call(t,i)||i==="key"||i==="__self"||i==="__source"||i==="ref"&&t.ref===void 0||(a[i]=t[i]);var i=arguments.length-2;if(i===1)a.children=n;else if(1<i){for(var l=Array(i),s=0;s<i;s++)l[s]=arguments[s+2];a.children=l}return Qc(e.type,r,a)};ie.createContext=function(e){return e={$$typeof:Zy,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null},e.Provider=e,e.Consumer={$$typeof:Qy,_context:e},e};ie.createElement=function(e,t,n){var a,r={},i=null;if(t!=null)for(a in t.key!==void 0&&(i=""+t.key),t)M0.call(t,a)&&a!=="key"&&a!=="__self"&&a!=="__source"&&(r[a]=t[a]);var l=arguments.length-2;if(l===1)r.children=n;else if(1<l){for(var s=Array(l),o=0;o<l;o++)s[o]=arguments[o+2];r.children=s}if(e&&e.defaultProps)for(a in l=e.defaultProps,l)r[a]===void 0&&(r[a]=l[a]);return Qc(e,i,r)};ie.createRef=function(){return{current:null}};ie.forwardRef=function(e){return{$$typeof:Fy,render:e}};ie.isValidElement=Zc;ie.lazy=function(e){return{$$typeof:O0,_payload:{_status:-1,_result:e},_init:lv}};ie.memo=function(e,t){return{$$typeof:ev,type:e,compare:t===void 0?null:t}};ie.startTransition=function(e){var t=ke.T,n={};ke.T=n;try{var a=e(),r=ke.S;r!==null&&r(n,a),typeof a=="object"&&a!==null&&typeof a.then=="function"&&a.then(Du,_f)}catch(i){_f(i)}finally{t!==null&&n.types!==null&&(t.types=n.types),ke.T=t}};ie.unstable_useCacheRefresh=function(){return ke.H.useCacheRefresh()};ie.use=function(e){return ke.H.use(e)};ie.useActionState=function(e,t,n){return ke.H.useActionState(e,t,n)};ie.useCallback=function(e,t){return ke.H.useCallback(e,t)};ie.useContext=function(e){return ke.H.useContext(e)};ie.useDebugValue=function(){};ie.useDeferredValue=function(e,t){return ke.H.useDeferredValue(e,t)};ie.useEffect=function(e,t){return ke.H.useEffect(e,t)};ie.useEffectEvent=function(e){return ke.H.useEffectEvent(e)};ie.useId=function(){return ke.H.useId()};ie.useImperativeHandle=function(e,t,n){return ke.H.useImperativeHandle(e,t,n)};ie.useInsertionEffect=function(e,t){return ke.H.useInsertionEffect(e,t)};ie.useLayoutEffect=function(e,t){return ke.H.useLayoutEffect(e,t)};ie.useMemo=function(e,t){return ke.H.useMemo(e,t)};ie.useOptimistic=function(e,t){return ke.H.useOptimistic(e,t)};ie.useReducer=function(e,t,n){return ke.H.useReducer(e,t,n)};ie.useRef=function(e){return ke.H.useRef(e)};ie.useState=function(e){return ke.H.useState(e)};ie.useSyncExternalStore=function(e,t,n){return ke.H.useSyncExternalStore(e,t,n)};ie.useTransition=function(){return ke.H.useTransition()};ie.version="19.2.4";C0.exports=ie;var x=C0.exports;const ov=Kc(x);var z0={exports:{}},Fs={},B0={exports:{}},L0={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(H,V){var Z=H.length;H.push(V);e:for(;0<Z;){var me=Z-1>>>1,A=H[me];if(0<r(A,V))H[me]=V,H[Z]=A,Z=me;else break e}}function n(H){return H.length===0?null:H[0]}function a(H){if(H.length===0)return null;var V=H[0],Z=H.pop();if(Z!==V){H[0]=Z;e:for(var me=0,A=H.length,T=A>>>1;me<T;){var G=2*(me+1)-1,X=H[G],J=G+1,F=H[J];if(0>r(X,Z))J<A&&0>r(F,X)?(H[me]=F,H[J]=Z,me=J):(H[me]=X,H[G]=Z,me=G);else if(J<A&&0>r(F,Z))H[me]=F,H[J]=Z,me=J;else break e}}return V}function r(H,V){var Z=H.sortIndex-V.sortIndex;return Z!==0?Z:H.id-V.id}if(e.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var i=performance;e.unstable_now=function(){return i.now()}}else{var l=Date,s=l.now();e.unstable_now=function(){return l.now()-s}}var o=[],u=[],c=1,h=null,d=3,f=!1,v=!1,b=!1,E=!1,p=typeof setTimeout=="function"?setTimeout:null,m=typeof clearTimeout=="function"?clearTimeout:null,g=typeof setImmediate<"u"?setImmediate:null;function w(H){for(var V=n(u);V!==null;){if(V.callback===null)a(u);else if(V.startTime<=H)a(u),V.sortIndex=V.expirationTime,t(o,V);else break;V=n(u)}}function S(H){if(b=!1,w(H),!v)if(n(o)!==null)v=!0,k||(k=!0,Ce());else{var V=n(u);V!==null&&ze(S,V.startTime-H)}}var k=!1,R=-1,U=5,M=-1;function q(){return E?!0:!(e.unstable_now()-M<U)}function fe(){if(E=!1,k){var H=e.unstable_now();M=H;var V=!0;try{e:{v=!1,b&&(b=!1,m(R),R=-1),f=!0;var Z=d;try{t:{for(w(H),h=n(o);h!==null&&!(h.expirationTime>H&&q());){var me=h.callback;if(typeof me=="function"){h.callback=null,d=h.priorityLevel;var A=me(h.expirationTime<=H);if(H=e.unstable_now(),typeof A=="function"){h.callback=A,w(H),V=!0;break t}h===n(o)&&a(o),w(H)}else a(o);h=n(o)}if(h!==null)V=!0;else{var T=n(u);T!==null&&ze(S,T.startTime-H),V=!1}}break e}finally{h=null,d=Z,f=!1}V=void 0}}finally{V?Ce():k=!1}}}var Ce;if(typeof g=="function")Ce=function(){g(fe)};else if(typeof MessageChannel<"u"){var De=new MessageChannel,Ft=De.port2;De.port1.onmessage=fe,Ce=function(){Ft.postMessage(null)}}else Ce=function(){p(fe,0)};function ze(H,V){R=p(function(){H(e.unstable_now())},V)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(H){H.callback=null},e.unstable_forceFrameRate=function(H){0>H||125<H?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):U=0<H?Math.floor(1e3/H):5},e.unstable_getCurrentPriorityLevel=function(){return d},e.unstable_next=function(H){switch(d){case 1:case 2:case 3:var V=3;break;default:V=d}var Z=d;d=V;try{return H()}finally{d=Z}},e.unstable_requestPaint=function(){E=!0},e.unstable_runWithPriority=function(H,V){switch(H){case 1:case 2:case 3:case 4:case 5:break;default:H=3}var Z=d;d=H;try{return V()}finally{d=Z}},e.unstable_scheduleCallback=function(H,V,Z){var me=e.unstable_now();switch(typeof Z=="object"&&Z!==null?(Z=Z.delay,Z=typeof Z=="number"&&0<Z?me+Z:me):Z=me,H){case 1:var A=-1;break;case 2:A=250;break;case 5:A=1073741823;break;case 4:A=1e4;break;default:A=5e3}return A=Z+A,H={id:c++,callback:V,priorityLevel:H,startTime:Z,expirationTime:A,sortIndex:-1},Z>me?(H.sortIndex=Z,t(u,H),n(o)===null&&H===n(u)&&(b?(m(R),R=-1):b=!0,ze(S,Z-me))):(H.sortIndex=A,t(o,H),v||f||(v=!0,k||(k=!0,Ce()))),H},e.unstable_shouldYield=q,e.unstable_wrapCallback=function(H){var V=d;return function(){var Z=d;d=V;try{return H.apply(this,arguments)}finally{d=Z}}}})(L0);B0.exports=L0;var uv=B0.exports,H0={exports:{}},ft={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var cv=x;function q0(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var n=2;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function Bn(){}var dt={d:{f:Bn,r:function(){throw Error(q0(522))},D:Bn,C:Bn,L:Bn,m:Bn,X:Bn,S:Bn,M:Bn},p:0,findDOMNode:null},dv=Symbol.for("react.portal");function fv(e,t,n){var a=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:dv,key:a==null?null:""+a,children:e,containerInfo:t,implementation:n}}var wi=cv.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function Ws(e,t){if(e==="font")return"";if(typeof t=="string")return t==="use-credentials"?t:""}ft.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=dt;ft.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)throw Error(q0(299));return fv(e,t,null,n)};ft.flushSync=function(e){var t=wi.T,n=dt.p;try{if(wi.T=null,dt.p=2,e)return e()}finally{wi.T=t,dt.p=n,dt.d.f()}};ft.preconnect=function(e,t){typeof e=="string"&&(t?(t=t.crossOrigin,t=typeof t=="string"?t==="use-credentials"?t:"":void 0):t=null,dt.d.C(e,t))};ft.prefetchDNS=function(e){typeof e=="string"&&dt.d.D(e)};ft.preinit=function(e,t){if(typeof e=="string"&&t&&typeof t.as=="string"){var n=t.as,a=Ws(n,t.crossOrigin),r=typeof t.integrity=="string"?t.integrity:void 0,i=typeof t.fetchPriority=="string"?t.fetchPriority:void 0;n==="style"?dt.d.S(e,typeof t.precedence=="string"?t.precedence:void 0,{crossOrigin:a,integrity:r,fetchPriority:i}):n==="script"&&dt.d.X(e,{crossOrigin:a,integrity:r,fetchPriority:i,nonce:typeof t.nonce=="string"?t.nonce:void 0})}};ft.preinitModule=function(e,t){if(typeof e=="string")if(typeof t=="object"&&t!==null){if(t.as==null||t.as==="script"){var n=Ws(t.as,t.crossOrigin);dt.d.M(e,{crossOrigin:n,integrity:typeof t.integrity=="string"?t.integrity:void 0,nonce:typeof t.nonce=="string"?t.nonce:void 0})}}else t==null&&dt.d.M(e)};ft.preload=function(e,t){if(typeof e=="string"&&typeof t=="object"&&t!==null&&typeof t.as=="string"){var n=t.as,a=Ws(n,t.crossOrigin);dt.d.L(e,n,{crossOrigin:a,integrity:typeof t.integrity=="string"?t.integrity:void 0,nonce:typeof t.nonce=="string"?t.nonce:void 0,type:typeof t.type=="string"?t.type:void 0,fetchPriority:typeof t.fetchPriority=="string"?t.fetchPriority:void 0,referrerPolicy:typeof t.referrerPolicy=="string"?t.referrerPolicy:void 0,imageSrcSet:typeof t.imageSrcSet=="string"?t.imageSrcSet:void 0,imageSizes:typeof t.imageSizes=="string"?t.imageSizes:void 0,media:typeof t.media=="string"?t.media:void 0})}};ft.preloadModule=function(e,t){if(typeof e=="string")if(t){var n=Ws(t.as,t.crossOrigin);dt.d.m(e,{as:typeof t.as=="string"&&t.as!=="script"?t.as:void 0,crossOrigin:n,integrity:typeof t.integrity=="string"?t.integrity:void 0})}else dt.d.m(e)};ft.requestFormReset=function(e){dt.d.r(e)};ft.unstable_batchedUpdates=function(e,t){return e(t)};ft.useFormState=function(e,t,n){return wi.H.useFormState(e,t,n)};ft.useFormStatus=function(){return wi.H.useHostTransitionStatus()};ft.version="19.2.4";function $0(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE($0)}catch(e){console.error(e)}}$0(),H0.exports=ft;var G0=H0.exports;const hv=Kc(G0);/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ze=uv,I0=x,gv=G0;function D(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var n=2;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function V0(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function il(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function Y0(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function K0(e){if(e.tag===31){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function Sf(e){if(il(e)!==e)throw Error(D(188))}function mv(e){var t=e.alternate;if(!t){if(t=il(e),t===null)throw Error(D(188));return t!==e?null:e}for(var n=e,a=t;;){var r=n.return;if(r===null)break;var i=r.alternate;if(i===null){if(a=r.return,a!==null){n=a;continue}break}if(r.child===i.child){for(i=r.child;i;){if(i===n)return Sf(r),e;if(i===a)return Sf(r),t;i=i.sibling}throw Error(D(188))}if(n.return!==a.return)n=r,a=i;else{for(var l=!1,s=r.child;s;){if(s===n){l=!0,n=r,a=i;break}if(s===a){l=!0,a=r,n=i;break}s=s.sibling}if(!l){for(s=i.child;s;){if(s===n){l=!0,n=i,a=r;break}if(s===a){l=!0,a=i,n=r;break}s=s.sibling}if(!l)throw Error(D(189))}}if(n.alternate!==a)throw Error(D(190))}if(n.tag!==3)throw Error(D(188));return n.stateNode.current===n?e:t}function P0(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e;for(e=e.child;e!==null;){if(t=P0(e),t!==null)return t;e=e.sibling}return null}var Re=Object.assign,pv=Symbol.for("react.element"),Rl=Symbol.for("react.transitional.element"),gi=Symbol.for("react.portal"),lr=Symbol.for("react.fragment"),X0=Symbol.for("react.strict_mode"),Uu=Symbol.for("react.profiler"),J0=Symbol.for("react.consumer"),bn=Symbol.for("react.context"),Fc=Symbol.for("react.forward_ref"),Mu=Symbol.for("react.suspense"),zu=Symbol.for("react.suspense_list"),Wc=Symbol.for("react.memo"),Ln=Symbol.for("react.lazy"),Bu=Symbol.for("react.activity"),yv=Symbol.for("react.memo_cache_sentinel"),xf=Symbol.iterator;function ii(e){return e===null||typeof e!="object"?null:(e=xf&&e[xf]||e["@@iterator"],typeof e=="function"?e:null)}var vv=Symbol.for("react.client.reference");function Lu(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===vv?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case lr:return"Fragment";case Uu:return"Profiler";case X0:return"StrictMode";case Mu:return"Suspense";case zu:return"SuspenseList";case Bu:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case gi:return"Portal";case bn:return e.displayName||"Context";case J0:return(e._context.displayName||"Context")+".Consumer";case Fc:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case Wc:return t=e.displayName||null,t!==null?t:Lu(e.type)||"Memo";case Ln:t=e._payload,e=e._init;try{return Lu(e(t))}catch{}}return null}var mi=Array.isArray,te=I0.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ge=gv.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Ra={pending:!1,data:null,method:null,action:null},Hu=[],sr=-1;function ln(e){return{current:e}}function et(e){0>sr||(e.current=Hu[sr],Hu[sr]=null,sr--)}function xe(e,t){sr++,Hu[sr]=e.current,e.current=t}var an=ln(null),Bi=ln(null),Fn=ln(null),ps=ln(null);function ys(e,t){switch(xe(Fn,t),xe(Bi,e),xe(an,null),t.nodeType){case 9:case 11:e=(e=t.documentElement)&&(e=e.namespaceURI)?Ch(e):0;break;default:if(e=t.tagName,t=t.namespaceURI)t=Ch(t),e=mp(t,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}et(an),xe(an,e)}function kr(){et(an),et(Bi),et(Fn)}function qu(e){e.memoizedState!==null&&xe(ps,e);var t=an.current,n=mp(t,e.type);t!==n&&(xe(Bi,e),xe(an,n))}function vs(e){Bi.current===e&&(et(an),et(Bi)),ps.current===e&&(et(ps),Xi._currentValue=Ra)}var Uo,Ef;function wa(e){if(Uo===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);Uo=t&&t[1]||"",Ef=-1<n.stack.indexOf(`
    at`)?" (<anonymous>)":-1<n.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Uo+e+Ef}var Mo=!1;function zo(e,t){if(!e||Mo)return"";Mo=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var a={DetermineComponentFrameRoot:function(){try{if(t){var h=function(){throw Error()};if(Object.defineProperty(h.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(h,[])}catch(f){var d=f}Reflect.construct(e,[],h)}else{try{h.call()}catch(f){d=f}e.call(h.prototype)}}else{try{throw Error()}catch(f){d=f}(h=e())&&typeof h.catch=="function"&&h.catch(function(){})}}catch(f){if(f&&d&&typeof f.stack=="string")return[f.stack,d.stack]}return[null,null]}};a.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var r=Object.getOwnPropertyDescriptor(a.DetermineComponentFrameRoot,"name");r&&r.configurable&&Object.defineProperty(a.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var i=a.DetermineComponentFrameRoot(),l=i[0],s=i[1];if(l&&s){var o=l.split(`
`),u=s.split(`
`);for(r=a=0;a<o.length&&!o[a].includes("DetermineComponentFrameRoot");)a++;for(;r<u.length&&!u[r].includes("DetermineComponentFrameRoot");)r++;if(a===o.length||r===u.length)for(a=o.length-1,r=u.length-1;1<=a&&0<=r&&o[a]!==u[r];)r--;for(;1<=a&&0<=r;a--,r--)if(o[a]!==u[r]){if(a!==1||r!==1)do if(a--,r--,0>r||o[a]!==u[r]){var c=`
`+o[a].replace(" at new "," at ");return e.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",e.displayName)),c}while(1<=a&&0<=r);break}}}finally{Mo=!1,Error.prepareStackTrace=n}return(n=e?e.displayName||e.name:"")?wa(n):""}function bv(e,t){switch(e.tag){case 26:case 27:case 5:return wa(e.type);case 16:return wa("Lazy");case 13:return e.child!==t&&t!==null?wa("Suspense Fallback"):wa("Suspense");case 19:return wa("SuspenseList");case 0:case 15:return zo(e.type,!1);case 11:return zo(e.type.render,!1);case 1:return zo(e.type,!0);case 31:return wa("Activity");default:return""}}function Tf(e){try{var t="",n=null;do t+=bv(e,n),n=e,e=e.return;while(e);return t}catch(a){return`
Error generating stack: `+a.message+`
`+a.stack}}var $u=Object.prototype.hasOwnProperty,ed=Ze.unstable_scheduleCallback,Bo=Ze.unstable_cancelCallback,wv=Ze.unstable_shouldYield,_v=Ze.unstable_requestPaint,Rt=Ze.unstable_now,Sv=Ze.unstable_getCurrentPriorityLevel,Q0=Ze.unstable_ImmediatePriority,Z0=Ze.unstable_UserBlockingPriority,bs=Ze.unstable_NormalPriority,xv=Ze.unstable_LowPriority,F0=Ze.unstable_IdlePriority,Ev=Ze.log,Tv=Ze.unstable_setDisableYieldValue,ll=null,Ct=null;function Kn(e){if(typeof Ev=="function"&&Tv(e),Ct&&typeof Ct.setStrictMode=="function")try{Ct.setStrictMode(ll,e)}catch{}}var Ot=Math.clz32?Math.clz32:Rv,Av=Math.log,kv=Math.LN2;function Rv(e){return e>>>=0,e===0?32:31-(Av(e)/kv|0)|0}var Cl=256,Ol=262144,Nl=4194304;function _a(e){var t=e&42;if(t!==0)return t;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return e&261888;case 262144:case 524288:case 1048576:case 2097152:return e&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function eo(e,t,n){var a=e.pendingLanes;if(a===0)return 0;var r=0,i=e.suspendedLanes,l=e.pingedLanes;e=e.warmLanes;var s=a&134217727;return s!==0?(a=s&~i,a!==0?r=_a(a):(l&=s,l!==0?r=_a(l):n||(n=s&~e,n!==0&&(r=_a(n))))):(s=a&~i,s!==0?r=_a(s):l!==0?r=_a(l):n||(n=a&~e,n!==0&&(r=_a(n)))),r===0?0:t!==0&&t!==r&&!(t&i)&&(i=r&-r,n=t&-t,i>=n||i===32&&(n&4194048)!==0)?t:r}function sl(e,t){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&t)===0}function Cv(e,t){switch(e){case 1:case 2:case 4:case 8:case 64:return t+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function W0(){var e=Nl;return Nl<<=1,!(Nl&62914560)&&(Nl=4194304),e}function Lo(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function ol(e,t){e.pendingLanes|=t,t!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function Ov(e,t,n,a,r,i){var l=e.pendingLanes;e.pendingLanes=n,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=n,e.entangledLanes&=n,e.errorRecoveryDisabledLanes&=n,e.shellSuspendCounter=0;var s=e.entanglements,o=e.expirationTimes,u=e.hiddenUpdates;for(n=l&~n;0<n;){var c=31-Ot(n),h=1<<c;s[c]=0,o[c]=-1;var d=u[c];if(d!==null)for(u[c]=null,c=0;c<d.length;c++){var f=d[c];f!==null&&(f.lane&=-536870913)}n&=~h}a!==0&&eg(e,a,0),i!==0&&r===0&&e.tag!==0&&(e.suspendedLanes|=i&~(l&~t))}function eg(e,t,n){e.pendingLanes|=t,e.suspendedLanes&=~t;var a=31-Ot(t);e.entangledLanes|=t,e.entanglements[a]=e.entanglements[a]|1073741824|n&261930}function tg(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var a=31-Ot(n),r=1<<a;r&t|e[a]&t&&(e[a]|=t),n&=~r}}function ng(e,t){var n=t&-t;return n=n&42?1:td(n),n&(e.suspendedLanes|t)?0:n}function td(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function nd(e){return e&=-e,2<e?8<e?e&134217727?32:268435456:8:2}function ag(){var e=ge.p;return e!==0?e:(e=window.event,e===void 0?32:Ap(e.type))}function Af(e,t){var n=ge.p;try{return ge.p=e,t()}finally{ge.p=n}}var da=Math.random().toString(36).slice(2),it="__reactFiber$"+da,bt="__reactProps$"+da,Ir="__reactContainer$"+da,Gu="__reactEvents$"+da,Nv="__reactListeners$"+da,jv="__reactHandles$"+da,kf="__reactResources$"+da,ul="__reactMarker$"+da;function ad(e){delete e[it],delete e[bt],delete e[Gu],delete e[Nv],delete e[jv]}function or(e){var t=e[it];if(t)return t;for(var n=e.parentNode;n;){if(t=n[Ir]||n[it]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=Uh(e);e!==null;){if(n=e[it])return n;e=Uh(e)}return t}e=n,n=e.parentNode}return null}function Vr(e){if(e=e[it]||e[Ir]){var t=e.tag;if(t===5||t===6||t===13||t===31||t===26||t===27||t===3)return e}return null}function pi(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e.stateNode;throw Error(D(33))}function br(e){var t=e[kf];return t||(t=e[kf]={hoistableStyles:new Map,hoistableScripts:new Map}),t}function We(e){e[ul]=!0}var rg=new Set,ig={};function La(e,t){Rr(e,t),Rr(e+"Capture",t)}function Rr(e,t){for(ig[e]=t,e=0;e<t.length;e++)rg.add(t[e])}var Dv=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Rf={},Cf={};function Uv(e){return $u.call(Cf,e)?!0:$u.call(Rf,e)?!1:Dv.test(e)?Cf[e]=!0:(Rf[e]=!0,!1)}function Wl(e,t,n){if(Uv(t))if(n===null)e.removeAttribute(t);else{switch(typeof n){case"undefined":case"function":case"symbol":e.removeAttribute(t);return;case"boolean":var a=t.toLowerCase().slice(0,5);if(a!=="data-"&&a!=="aria-"){e.removeAttribute(t);return}}e.setAttribute(t,""+n)}}function jl(e,t,n){if(n===null)e.removeAttribute(t);else{switch(typeof n){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(t);return}e.setAttribute(t,""+n)}}function dn(e,t,n,a){if(a===null)e.removeAttribute(n);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(n);return}e.setAttributeNS(t,n,""+a)}}function Bt(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function lg(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function Mv(e,t,n){var a=Object.getOwnPropertyDescriptor(e.constructor.prototype,t);if(!e.hasOwnProperty(t)&&typeof a<"u"&&typeof a.get=="function"&&typeof a.set=="function"){var r=a.get,i=a.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return r.call(this)},set:function(l){n=""+l,i.call(this,l)}}),Object.defineProperty(e,t,{enumerable:a.enumerable}),{getValue:function(){return n},setValue:function(l){n=""+l},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Iu(e){if(!e._valueTracker){var t=lg(e)?"checked":"value";e._valueTracker=Mv(e,t,""+e[t])}}function sg(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),a="";return e&&(a=lg(e)?e.checked?"true":"false":e.value),e=a,e!==n?(t.setValue(e),!0):!1}function ws(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var zv=/[\n"\\]/g;function qt(e){return e.replace(zv,function(t){return"\\"+t.charCodeAt(0).toString(16)+" "})}function Vu(e,t,n,a,r,i,l,s){e.name="",l!=null&&typeof l!="function"&&typeof l!="symbol"&&typeof l!="boolean"?e.type=l:e.removeAttribute("type"),t!=null?l==="number"?(t===0&&e.value===""||e.value!=t)&&(e.value=""+Bt(t)):e.value!==""+Bt(t)&&(e.value=""+Bt(t)):l!=="submit"&&l!=="reset"||e.removeAttribute("value"),t!=null?Yu(e,l,Bt(t)):n!=null?Yu(e,l,Bt(n)):a!=null&&e.removeAttribute("value"),r==null&&i!=null&&(e.defaultChecked=!!i),r!=null&&(e.checked=r&&typeof r!="function"&&typeof r!="symbol"),s!=null&&typeof s!="function"&&typeof s!="symbol"&&typeof s!="boolean"?e.name=""+Bt(s):e.removeAttribute("name")}function og(e,t,n,a,r,i,l,s){if(i!=null&&typeof i!="function"&&typeof i!="symbol"&&typeof i!="boolean"&&(e.type=i),t!=null||n!=null){if(!(i!=="submit"&&i!=="reset"||t!=null)){Iu(e);return}n=n!=null?""+Bt(n):"",t=t!=null?""+Bt(t):n,s||t===e.value||(e.value=t),e.defaultValue=t}a=a??r,a=typeof a!="function"&&typeof a!="symbol"&&!!a,e.checked=s?e.checked:!!a,e.defaultChecked=!!a,l!=null&&typeof l!="function"&&typeof l!="symbol"&&typeof l!="boolean"&&(e.name=l),Iu(e)}function Yu(e,t,n){t==="number"&&ws(e.ownerDocument)===e||e.defaultValue===""+n||(e.defaultValue=""+n)}function wr(e,t,n,a){if(e=e.options,t){t={};for(var r=0;r<n.length;r++)t["$"+n[r]]=!0;for(n=0;n<e.length;n++)r=t.hasOwnProperty("$"+e[n].value),e[n].selected!==r&&(e[n].selected=r),r&&a&&(e[n].defaultSelected=!0)}else{for(n=""+Bt(n),t=null,r=0;r<e.length;r++){if(e[r].value===n){e[r].selected=!0,a&&(e[r].defaultSelected=!0);return}t!==null||e[r].disabled||(t=e[r])}t!==null&&(t.selected=!0)}}function ug(e,t,n){if(t!=null&&(t=""+Bt(t),t!==e.value&&(e.value=t),n==null)){e.defaultValue!==t&&(e.defaultValue=t);return}e.defaultValue=n!=null?""+Bt(n):""}function cg(e,t,n,a){if(t==null){if(a!=null){if(n!=null)throw Error(D(92));if(mi(a)){if(1<a.length)throw Error(D(93));a=a[0]}n=a}n==null&&(n=""),t=n}n=Bt(t),e.defaultValue=n,a=e.textContent,a===n&&a!==""&&a!==null&&(e.value=a),Iu(e)}function Cr(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var Bv=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Of(e,t,n){var a=t.indexOf("--")===0;n==null||typeof n=="boolean"||n===""?a?e.setProperty(t,""):t==="float"?e.cssFloat="":e[t]="":a?e.setProperty(t,n):typeof n!="number"||n===0||Bv.has(t)?t==="float"?e.cssFloat=n:e[t]=(""+n).trim():e[t]=n+"px"}function dg(e,t,n){if(t!=null&&typeof t!="object")throw Error(D(62));if(e=e.style,n!=null){for(var a in n)!n.hasOwnProperty(a)||t!=null&&t.hasOwnProperty(a)||(a.indexOf("--")===0?e.setProperty(a,""):a==="float"?e.cssFloat="":e[a]="");for(var r in t)a=t[r],t.hasOwnProperty(r)&&n[r]!==a&&Of(e,r,a)}else for(var i in t)t.hasOwnProperty(i)&&Of(e,i,t[i])}function rd(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Lv=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Hv=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function es(e){return Hv.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}function wn(){}var Ku=null;function id(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var ur=null,_r=null;function Nf(e){var t=Vr(e);if(t&&(e=t.stateNode)){var n=e[bt]||null;e:switch(e=t.stateNode,t.type){case"input":if(Vu(e,n.value,n.defaultValue,n.defaultValue,n.checked,n.defaultChecked,n.type,n.name),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll('input[name="'+qt(""+t)+'"][type="radio"]'),t=0;t<n.length;t++){var a=n[t];if(a!==e&&a.form===e.form){var r=a[bt]||null;if(!r)throw Error(D(90));Vu(a,r.value,r.defaultValue,r.defaultValue,r.checked,r.defaultChecked,r.type,r.name)}}for(t=0;t<n.length;t++)a=n[t],a.form===e.form&&sg(a)}break e;case"textarea":ug(e,n.value,n.defaultValue);break e;case"select":t=n.value,t!=null&&wr(e,!!n.multiple,t,!1)}}}var Ho=!1;function fg(e,t,n){if(Ho)return e(t,n);Ho=!0;try{var a=e(t);return a}finally{if(Ho=!1,(ur!==null||_r!==null)&&(ho(),ur&&(t=ur,e=_r,_r=ur=null,Nf(t),e)))for(t=0;t<e.length;t++)Nf(e[t])}}function Li(e,t){var n=e.stateNode;if(n===null)return null;var a=n[bt]||null;if(a===null)return null;n=a[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(a=!a.disabled)||(e=e.type,a=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!a;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(D(231,t,typeof n));return n}var An=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Pu=!1;if(An)try{var li={};Object.defineProperty(li,"passive",{get:function(){Pu=!0}}),window.addEventListener("test",li,li),window.removeEventListener("test",li,li)}catch{Pu=!1}var Pn=null,ld=null,ts=null;function hg(){if(ts)return ts;var e,t=ld,n=t.length,a,r="value"in Pn?Pn.value:Pn.textContent,i=r.length;for(e=0;e<n&&t[e]===r[e];e++);var l=n-e;for(a=1;a<=l&&t[n-a]===r[i-a];a++);return ts=r.slice(e,1<a?1-a:void 0)}function ns(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Dl(){return!0}function jf(){return!1}function wt(e){function t(n,a,r,i,l){this._reactName=n,this._targetInst=r,this.type=a,this.nativeEvent=i,this.target=l,this.currentTarget=null;for(var s in e)e.hasOwnProperty(s)&&(n=e[s],this[s]=n?n(i):i[s]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?Dl:jf,this.isPropagationStopped=jf,this}return Re(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Dl)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Dl)},persist:function(){},isPersistent:Dl}),t}var Ha={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},to=wt(Ha),cl=Re({},Ha,{view:0,detail:0}),qv=wt(cl),qo,$o,si,no=Re({},cl,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:sd,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==si&&(si&&e.type==="mousemove"?(qo=e.screenX-si.screenX,$o=e.screenY-si.screenY):$o=qo=0,si=e),qo)},movementY:function(e){return"movementY"in e?e.movementY:$o}}),Df=wt(no),$v=Re({},no,{dataTransfer:0}),Gv=wt($v),Iv=Re({},cl,{relatedTarget:0}),Go=wt(Iv),Vv=Re({},Ha,{animationName:0,elapsedTime:0,pseudoElement:0}),Yv=wt(Vv),Kv=Re({},Ha,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Pv=wt(Kv),Xv=Re({},Ha,{data:0}),Uf=wt(Xv),Jv={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Qv={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Zv={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Fv(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=Zv[e])?!!t[e]:!1}function sd(){return Fv}var Wv=Re({},cl,{key:function(e){if(e.key){var t=Jv[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=ns(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?Qv[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:sd,charCode:function(e){return e.type==="keypress"?ns(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?ns(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),eb=wt(Wv),tb=Re({},no,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Mf=wt(tb),nb=Re({},cl,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:sd}),ab=wt(nb),rb=Re({},Ha,{propertyName:0,elapsedTime:0,pseudoElement:0}),ib=wt(rb),lb=Re({},no,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),sb=wt(lb),ob=Re({},Ha,{newState:0,oldState:0}),ub=wt(ob),cb=[9,13,27,32],od=An&&"CompositionEvent"in window,_i=null;An&&"documentMode"in document&&(_i=document.documentMode);var db=An&&"TextEvent"in window&&!_i,gg=An&&(!od||_i&&8<_i&&11>=_i),zf=" ",Bf=!1;function mg(e,t){switch(e){case"keyup":return cb.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function pg(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var cr=!1;function fb(e,t){switch(e){case"compositionend":return pg(t);case"keypress":return t.which!==32?null:(Bf=!0,zf);case"textInput":return e=t.data,e===zf&&Bf?null:e;default:return null}}function hb(e,t){if(cr)return e==="compositionend"||!od&&mg(e,t)?(e=hg(),ts=ld=Pn=null,cr=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return gg&&t.locale!=="ko"?null:t.data;default:return null}}var gb={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Lf(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!gb[e.type]:t==="textarea"}function yg(e,t,n,a){ur?_r?_r.push(a):_r=[a]:ur=a,t=Ls(t,"onChange"),0<t.length&&(n=new to("onChange","change",null,n,a),e.push({event:n,listeners:t}))}var Si=null,Hi=null;function mb(e){fp(e,0)}function ao(e){var t=pi(e);if(sg(t))return e}function Hf(e,t){if(e==="change")return t}var vg=!1;if(An){var Io;if(An){var Vo="oninput"in document;if(!Vo){var qf=document.createElement("div");qf.setAttribute("oninput","return;"),Vo=typeof qf.oninput=="function"}Io=Vo}else Io=!1;vg=Io&&(!document.documentMode||9<document.documentMode)}function $f(){Si&&(Si.detachEvent("onpropertychange",bg),Hi=Si=null)}function bg(e){if(e.propertyName==="value"&&ao(Hi)){var t=[];yg(t,Hi,e,id(e)),fg(mb,t)}}function pb(e,t,n){e==="focusin"?($f(),Si=t,Hi=n,Si.attachEvent("onpropertychange",bg)):e==="focusout"&&$f()}function yb(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return ao(Hi)}function vb(e,t){if(e==="click")return ao(t)}function bb(e,t){if(e==="input"||e==="change")return ao(t)}function wb(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var jt=typeof Object.is=="function"?Object.is:wb;function qi(e,t){if(jt(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),a=Object.keys(t);if(n.length!==a.length)return!1;for(a=0;a<n.length;a++){var r=n[a];if(!$u.call(t,r)||!jt(e[r],t[r]))return!1}return!0}function Gf(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function If(e,t){var n=Gf(e);e=0;for(var a;n;){if(n.nodeType===3){if(a=e+n.textContent.length,e<=t&&a>=t)return{node:n,offset:t-e};e=a}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=Gf(n)}}function wg(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?wg(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function _g(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var t=ws(e.document);t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=ws(e.document)}return t}function ud(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}var _b=An&&"documentMode"in document&&11>=document.documentMode,dr=null,Xu=null,xi=null,Ju=!1;function Vf(e,t,n){var a=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Ju||dr==null||dr!==ws(a)||(a=dr,"selectionStart"in a&&ud(a)?a={start:a.selectionStart,end:a.selectionEnd}:(a=(a.ownerDocument&&a.ownerDocument.defaultView||window).getSelection(),a={anchorNode:a.anchorNode,anchorOffset:a.anchorOffset,focusNode:a.focusNode,focusOffset:a.focusOffset}),xi&&qi(xi,a)||(xi=a,a=Ls(Xu,"onSelect"),0<a.length&&(t=new to("onSelect","select",null,t,n),e.push({event:t,listeners:a}),t.target=dr)))}function ya(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var fr={animationend:ya("Animation","AnimationEnd"),animationiteration:ya("Animation","AnimationIteration"),animationstart:ya("Animation","AnimationStart"),transitionrun:ya("Transition","TransitionRun"),transitionstart:ya("Transition","TransitionStart"),transitioncancel:ya("Transition","TransitionCancel"),transitionend:ya("Transition","TransitionEnd")},Yo={},Sg={};An&&(Sg=document.createElement("div").style,"AnimationEvent"in window||(delete fr.animationend.animation,delete fr.animationiteration.animation,delete fr.animationstart.animation),"TransitionEvent"in window||delete fr.transitionend.transition);function qa(e){if(Yo[e])return Yo[e];if(!fr[e])return e;var t=fr[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in Sg)return Yo[e]=t[n];return e}var xg=qa("animationend"),Eg=qa("animationiteration"),Tg=qa("animationstart"),Sb=qa("transitionrun"),xb=qa("transitionstart"),Eb=qa("transitioncancel"),Ag=qa("transitionend"),kg=new Map,Qu="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Qu.push("scrollEnd");function Zt(e,t){kg.set(e,t),La(t,[e])}var _s=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)},zt=[],hr=0,cd=0;function ro(){for(var e=hr,t=cd=hr=0;t<e;){var n=zt[t];zt[t++]=null;var a=zt[t];zt[t++]=null;var r=zt[t];zt[t++]=null;var i=zt[t];if(zt[t++]=null,a!==null&&r!==null){var l=a.pending;l===null?r.next=r:(r.next=l.next,l.next=r),a.pending=r}i!==0&&Rg(n,r,i)}}function io(e,t,n,a){zt[hr++]=e,zt[hr++]=t,zt[hr++]=n,zt[hr++]=a,cd|=a,e.lanes|=a,e=e.alternate,e!==null&&(e.lanes|=a)}function dd(e,t,n,a){return io(e,t,n,a),Ss(e)}function $a(e,t){return io(e,null,null,t),Ss(e)}function Rg(e,t,n){e.lanes|=n;var a=e.alternate;a!==null&&(a.lanes|=n);for(var r=!1,i=e.return;i!==null;)i.childLanes|=n,a=i.alternate,a!==null&&(a.childLanes|=n),i.tag===22&&(e=i.stateNode,e===null||e._visibility&1||(r=!0)),e=i,i=i.return;return e.tag===3?(i=e.stateNode,r&&t!==null&&(r=31-Ot(n),e=i.hiddenUpdates,a=e[r],a===null?e[r]=[t]:a.push(t),t.lane=n|536870912),i):null}function Ss(e){if(50<ji)throw ji=0,yc=null,Error(D(185));for(var t=e.return;t!==null;)e=t,t=e.return;return e.tag===3?e.stateNode:null}var gr={};function Tb(e,t,n,a){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=a,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function At(e,t,n,a){return new Tb(e,t,n,a)}function fd(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Sn(e,t){var n=e.alternate;return n===null?(n=At(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&65011712,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n.refCleanup=e.refCleanup,n}function Cg(e,t){e.flags&=65011714;var n=e.alternate;return n===null?(e.childLanes=0,e.lanes=t,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=n.childLanes,e.lanes=n.lanes,e.child=n.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=n.memoizedProps,e.memoizedState=n.memoizedState,e.updateQueue=n.updateQueue,e.type=n.type,t=n.dependencies,e.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),e}function as(e,t,n,a,r,i){var l=0;if(a=e,typeof e=="function")fd(e)&&(l=1);else if(typeof e=="string")l=Ow(e,n,an.current)?26:e==="html"||e==="head"||e==="body"?27:5;else e:switch(e){case Bu:return e=At(31,n,t,r),e.elementType=Bu,e.lanes=i,e;case lr:return Ca(n.children,r,i,t);case X0:l=8,r|=24;break;case Uu:return e=At(12,n,t,r|2),e.elementType=Uu,e.lanes=i,e;case Mu:return e=At(13,n,t,r),e.elementType=Mu,e.lanes=i,e;case zu:return e=At(19,n,t,r),e.elementType=zu,e.lanes=i,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case bn:l=10;break e;case J0:l=9;break e;case Fc:l=11;break e;case Wc:l=14;break e;case Ln:l=16,a=null;break e}l=29,n=Error(D(130,e===null?"null":typeof e,"")),a=null}return t=At(l,n,t,r),t.elementType=e,t.type=a,t.lanes=i,t}function Ca(e,t,n,a){return e=At(7,e,a,t),e.lanes=n,e}function Ko(e,t,n){return e=At(6,e,null,t),e.lanes=n,e}function Og(e){var t=At(18,null,null,0);return t.stateNode=e,t}function Po(e,t,n){return t=At(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}var Yf=new WeakMap;function $t(e,t){if(typeof e=="object"&&e!==null){var n=Yf.get(e);return n!==void 0?n:(t={value:e,source:t,stack:Tf(t)},Yf.set(e,t),t)}return{value:e,source:t,stack:Tf(t)}}var mr=[],pr=0,xs=null,$i=0,Lt=[],Ht=0,sa=null,en=1,tn="";function yn(e,t){mr[pr++]=$i,mr[pr++]=xs,xs=e,$i=t}function Ng(e,t,n){Lt[Ht++]=en,Lt[Ht++]=tn,Lt[Ht++]=sa,sa=e;var a=en;e=tn;var r=32-Ot(a)-1;a&=~(1<<r),n+=1;var i=32-Ot(t)+r;if(30<i){var l=r-r%5;i=(a&(1<<l)-1).toString(32),a>>=l,r-=l,en=1<<32-Ot(t)+r|n<<r|a,tn=i+e}else en=1<<i|n<<r|a,tn=e}function hd(e){e.return!==null&&(yn(e,1),Ng(e,1,0))}function gd(e){for(;e===xs;)xs=mr[--pr],mr[pr]=null,$i=mr[--pr],mr[pr]=null;for(;e===sa;)sa=Lt[--Ht],Lt[Ht]=null,tn=Lt[--Ht],Lt[Ht]=null,en=Lt[--Ht],Lt[Ht]=null}function jg(e,t){Lt[Ht++]=en,Lt[Ht++]=tn,Lt[Ht++]=sa,en=t.id,tn=t.overflow,sa=e}var lt=null,Ae=null,ce=!1,Wn=null,Gt=!1,Zu=Error(D(519));function oa(e){var t=Error(D(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Gi($t(t,e)),Zu}function Kf(e){var t=e.stateNode,n=e.type,a=e.memoizedProps;switch(t[it]=e,t[bt]=a,n){case"dialog":se("cancel",t),se("close",t);break;case"iframe":case"object":case"embed":se("load",t);break;case"video":case"audio":for(n=0;n<Ki.length;n++)se(Ki[n],t);break;case"source":se("error",t);break;case"img":case"image":case"link":se("error",t),se("load",t);break;case"details":se("toggle",t);break;case"input":se("invalid",t),og(t,a.value,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name,!0);break;case"select":se("invalid",t);break;case"textarea":se("invalid",t),cg(t,a.value,a.defaultValue,a.children)}n=a.children,typeof n!="string"&&typeof n!="number"&&typeof n!="bigint"||t.textContent===""+n||a.suppressHydrationWarning===!0||gp(t.textContent,n)?(a.popover!=null&&(se("beforetoggle",t),se("toggle",t)),a.onScroll!=null&&se("scroll",t),a.onScrollEnd!=null&&se("scrollend",t),a.onClick!=null&&(t.onclick=wn),t=!0):t=!1,t||oa(e,!0)}function Pf(e){for(lt=e.return;lt;)switch(lt.tag){case 5:case 31:case 13:Gt=!1;return;case 27:case 3:Gt=!0;return;default:lt=lt.return}}function Ka(e){if(e!==lt)return!1;if(!ce)return Pf(e),ce=!0,!1;var t=e.tag,n;if((n=t!==3&&t!==27)&&((n=t===5)&&(n=e.type,n=!(n!=="form"&&n!=="button")||Sc(e.type,e.memoizedProps)),n=!n),n&&Ae&&oa(e),Pf(e),t===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(D(317));Ae=Dh(e)}else if(t===31){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(D(317));Ae=Dh(e)}else t===27?(t=Ae,fa(e.type)?(e=Ac,Ac=null,Ae=e):Ae=t):Ae=lt?Vt(e.stateNode.nextSibling):null;return!0}function Da(){Ae=lt=null,ce=!1}function Xo(){var e=Wn;return e!==null&&(yt===null?yt=e:yt.push.apply(yt,e),Wn=null),e}function Gi(e){Wn===null?Wn=[e]:Wn.push(e)}var Fu=ln(null),Ga=null,_n=null;function $n(e,t,n){xe(Fu,t._currentValue),t._currentValue=n}function xn(e){e._currentValue=Fu.current,et(Fu)}function Wu(e,t,n){for(;e!==null;){var a=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,a!==null&&(a.childLanes|=t)):a!==null&&(a.childLanes&t)!==t&&(a.childLanes|=t),e===n)break;e=e.return}}function ec(e,t,n,a){var r=e.child;for(r!==null&&(r.return=e);r!==null;){var i=r.dependencies;if(i!==null){var l=r.child;i=i.firstContext;e:for(;i!==null;){var s=i;i=r;for(var o=0;o<t.length;o++)if(s.context===t[o]){i.lanes|=n,s=i.alternate,s!==null&&(s.lanes|=n),Wu(i.return,n,e),a||(l=null);break e}i=s.next}}else if(r.tag===18){if(l=r.return,l===null)throw Error(D(341));l.lanes|=n,i=l.alternate,i!==null&&(i.lanes|=n),Wu(l,n,e),l=null}else l=r.child;if(l!==null)l.return=r;else for(l=r;l!==null;){if(l===e){l=null;break}if(r=l.sibling,r!==null){r.return=l.return,l=r;break}l=l.return}r=l}}function Yr(e,t,n,a){e=null;for(var r=t,i=!1;r!==null;){if(!i){if(r.flags&524288)i=!0;else if(r.flags&262144)break}if(r.tag===10){var l=r.alternate;if(l===null)throw Error(D(387));if(l=l.memoizedProps,l!==null){var s=r.type;jt(r.pendingProps.value,l.value)||(e!==null?e.push(s):e=[s])}}else if(r===ps.current){if(l=r.alternate,l===null)throw Error(D(387));l.memoizedState.memoizedState!==r.memoizedState.memoizedState&&(e!==null?e.push(Xi):e=[Xi])}r=r.return}e!==null&&ec(t,e,n,a),t.flags|=262144}function Es(e){for(e=e.firstContext;e!==null;){if(!jt(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function Ua(e){Ga=e,_n=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function st(e){return Dg(Ga,e)}function Ul(e,t){return Ga===null&&Ua(e),Dg(e,t)}function Dg(e,t){var n=t._currentValue;if(t={context:t,memoizedValue:n,next:null},_n===null){if(e===null)throw Error(D(308));_n=t,e.dependencies={lanes:0,firstContext:t},e.flags|=524288}else _n=_n.next=t;return n}var Ab=typeof AbortController<"u"?AbortController:function(){var e=[],t=this.signal={aborted:!1,addEventListener:function(n,a){e.push(a)}};this.abort=function(){t.aborted=!0,e.forEach(function(n){return n()})}},kb=Ze.unstable_scheduleCallback,Rb=Ze.unstable_NormalPriority,Ke={$$typeof:bn,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function md(){return{controller:new Ab,data:new Map,refCount:0}}function dl(e){e.refCount--,e.refCount===0&&kb(Rb,function(){e.controller.abort()})}var Ei=null,tc=0,Or=0,Sr=null;function Cb(e,t){if(Ei===null){var n=Ei=[];tc=0,Or=qd(),Sr={status:"pending",value:void 0,then:function(a){n.push(a)}}}return tc++,t.then(Xf,Xf),t}function Xf(){if(--tc===0&&Ei!==null){Sr!==null&&(Sr.status="fulfilled");var e=Ei;Ei=null,Or=0,Sr=null;for(var t=0;t<e.length;t++)(0,e[t])()}}function Ob(e,t){var n=[],a={status:"pending",value:null,reason:null,then:function(r){n.push(r)}};return e.then(function(){a.status="fulfilled",a.value=t;for(var r=0;r<n.length;r++)(0,n[r])(t)},function(r){for(a.status="rejected",a.reason=r,r=0;r<n.length;r++)(0,n[r])(void 0)}),a}var Jf=te.S;te.S=function(e,t){Pm=Rt(),typeof t=="object"&&t!==null&&typeof t.then=="function"&&Cb(e,t),Jf!==null&&Jf(e,t)};var Oa=ln(null);function pd(){var e=Oa.current;return e!==null?e:_e.pooledCache}function rs(e,t){t===null?xe(Oa,Oa.current):xe(Oa,t.pool)}function Ug(){var e=pd();return e===null?null:{parent:Ke._currentValue,pool:e}}var Kr=Error(D(460)),yd=Error(D(474)),lo=Error(D(542)),Ts={then:function(){}};function Qf(e){return e=e.status,e==="fulfilled"||e==="rejected"}function Mg(e,t,n){switch(n=e[n],n===void 0?e.push(t):n!==t&&(t.then(wn,wn),t=n),t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,Ff(e),e;default:if(typeof t.status=="string")t.then(wn,wn);else{if(e=_e,e!==null&&100<e.shellSuspendCounter)throw Error(D(482));e=t,e.status="pending",e.then(function(a){if(t.status==="pending"){var r=t;r.status="fulfilled",r.value=a}},function(a){if(t.status==="pending"){var r=t;r.status="rejected",r.reason=a}})}switch(t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,Ff(e),e}throw Na=t,Kr}}function Sa(e){try{var t=e._init;return t(e._payload)}catch(n){throw n!==null&&typeof n=="object"&&typeof n.then=="function"?(Na=n,Kr):n}}var Na=null;function Zf(){if(Na===null)throw Error(D(459));var e=Na;return Na=null,e}function Ff(e){if(e===Kr||e===lo)throw Error(D(483))}var xr=null,Ii=0;function Ml(e){var t=Ii;return Ii+=1,xr===null&&(xr=[]),Mg(xr,e,t)}function oi(e,t){t=t.props.ref,e.ref=t!==void 0?t:null}function zl(e,t){throw t.$$typeof===pv?Error(D(525)):(e=Object.prototype.toString.call(t),Error(D(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)))}function zg(e){function t(p,m){if(e){var g=p.deletions;g===null?(p.deletions=[m],p.flags|=16):g.push(m)}}function n(p,m){if(!e)return null;for(;m!==null;)t(p,m),m=m.sibling;return null}function a(p){for(var m=new Map;p!==null;)p.key!==null?m.set(p.key,p):m.set(p.index,p),p=p.sibling;return m}function r(p,m){return p=Sn(p,m),p.index=0,p.sibling=null,p}function i(p,m,g){return p.index=g,e?(g=p.alternate,g!==null?(g=g.index,g<m?(p.flags|=67108866,m):g):(p.flags|=67108866,m)):(p.flags|=1048576,m)}function l(p){return e&&p.alternate===null&&(p.flags|=67108866),p}function s(p,m,g,w){return m===null||m.tag!==6?(m=Ko(g,p.mode,w),m.return=p,m):(m=r(m,g),m.return=p,m)}function o(p,m,g,w){var S=g.type;return S===lr?c(p,m,g.props.children,w,g.key):m!==null&&(m.elementType===S||typeof S=="object"&&S!==null&&S.$$typeof===Ln&&Sa(S)===m.type)?(m=r(m,g.props),oi(m,g),m.return=p,m):(m=as(g.type,g.key,g.props,null,p.mode,w),oi(m,g),m.return=p,m)}function u(p,m,g,w){return m===null||m.tag!==4||m.stateNode.containerInfo!==g.containerInfo||m.stateNode.implementation!==g.implementation?(m=Po(g,p.mode,w),m.return=p,m):(m=r(m,g.children||[]),m.return=p,m)}function c(p,m,g,w,S){return m===null||m.tag!==7?(m=Ca(g,p.mode,w,S),m.return=p,m):(m=r(m,g),m.return=p,m)}function h(p,m,g){if(typeof m=="string"&&m!==""||typeof m=="number"||typeof m=="bigint")return m=Ko(""+m,p.mode,g),m.return=p,m;if(typeof m=="object"&&m!==null){switch(m.$$typeof){case Rl:return g=as(m.type,m.key,m.props,null,p.mode,g),oi(g,m),g.return=p,g;case gi:return m=Po(m,p.mode,g),m.return=p,m;case Ln:return m=Sa(m),h(p,m,g)}if(mi(m)||ii(m))return m=Ca(m,p.mode,g,null),m.return=p,m;if(typeof m.then=="function")return h(p,Ml(m),g);if(m.$$typeof===bn)return h(p,Ul(p,m),g);zl(p,m)}return null}function d(p,m,g,w){var S=m!==null?m.key:null;if(typeof g=="string"&&g!==""||typeof g=="number"||typeof g=="bigint")return S!==null?null:s(p,m,""+g,w);if(typeof g=="object"&&g!==null){switch(g.$$typeof){case Rl:return g.key===S?o(p,m,g,w):null;case gi:return g.key===S?u(p,m,g,w):null;case Ln:return g=Sa(g),d(p,m,g,w)}if(mi(g)||ii(g))return S!==null?null:c(p,m,g,w,null);if(typeof g.then=="function")return d(p,m,Ml(g),w);if(g.$$typeof===bn)return d(p,m,Ul(p,g),w);zl(p,g)}return null}function f(p,m,g,w,S){if(typeof w=="string"&&w!==""||typeof w=="number"||typeof w=="bigint")return p=p.get(g)||null,s(m,p,""+w,S);if(typeof w=="object"&&w!==null){switch(w.$$typeof){case Rl:return p=p.get(w.key===null?g:w.key)||null,o(m,p,w,S);case gi:return p=p.get(w.key===null?g:w.key)||null,u(m,p,w,S);case Ln:return w=Sa(w),f(p,m,g,w,S)}if(mi(w)||ii(w))return p=p.get(g)||null,c(m,p,w,S,null);if(typeof w.then=="function")return f(p,m,g,Ml(w),S);if(w.$$typeof===bn)return f(p,m,g,Ul(m,w),S);zl(m,w)}return null}function v(p,m,g,w){for(var S=null,k=null,R=m,U=m=0,M=null;R!==null&&U<g.length;U++){R.index>U?(M=R,R=null):M=R.sibling;var q=d(p,R,g[U],w);if(q===null){R===null&&(R=M);break}e&&R&&q.alternate===null&&t(p,R),m=i(q,m,U),k===null?S=q:k.sibling=q,k=q,R=M}if(U===g.length)return n(p,R),ce&&yn(p,U),S;if(R===null){for(;U<g.length;U++)R=h(p,g[U],w),R!==null&&(m=i(R,m,U),k===null?S=R:k.sibling=R,k=R);return ce&&yn(p,U),S}for(R=a(R);U<g.length;U++)M=f(R,p,U,g[U],w),M!==null&&(e&&M.alternate!==null&&R.delete(M.key===null?U:M.key),m=i(M,m,U),k===null?S=M:k.sibling=M,k=M);return e&&R.forEach(function(fe){return t(p,fe)}),ce&&yn(p,U),S}function b(p,m,g,w){if(g==null)throw Error(D(151));for(var S=null,k=null,R=m,U=m=0,M=null,q=g.next();R!==null&&!q.done;U++,q=g.next()){R.index>U?(M=R,R=null):M=R.sibling;var fe=d(p,R,q.value,w);if(fe===null){R===null&&(R=M);break}e&&R&&fe.alternate===null&&t(p,R),m=i(fe,m,U),k===null?S=fe:k.sibling=fe,k=fe,R=M}if(q.done)return n(p,R),ce&&yn(p,U),S;if(R===null){for(;!q.done;U++,q=g.next())q=h(p,q.value,w),q!==null&&(m=i(q,m,U),k===null?S=q:k.sibling=q,k=q);return ce&&yn(p,U),S}for(R=a(R);!q.done;U++,q=g.next())q=f(R,p,U,q.value,w),q!==null&&(e&&q.alternate!==null&&R.delete(q.key===null?U:q.key),m=i(q,m,U),k===null?S=q:k.sibling=q,k=q);return e&&R.forEach(function(Ce){return t(p,Ce)}),ce&&yn(p,U),S}function E(p,m,g,w){if(typeof g=="object"&&g!==null&&g.type===lr&&g.key===null&&(g=g.props.children),typeof g=="object"&&g!==null){switch(g.$$typeof){case Rl:e:{for(var S=g.key;m!==null;){if(m.key===S){if(S=g.type,S===lr){if(m.tag===7){n(p,m.sibling),w=r(m,g.props.children),w.return=p,p=w;break e}}else if(m.elementType===S||typeof S=="object"&&S!==null&&S.$$typeof===Ln&&Sa(S)===m.type){n(p,m.sibling),w=r(m,g.props),oi(w,g),w.return=p,p=w;break e}n(p,m);break}else t(p,m);m=m.sibling}g.type===lr?(w=Ca(g.props.children,p.mode,w,g.key),w.return=p,p=w):(w=as(g.type,g.key,g.props,null,p.mode,w),oi(w,g),w.return=p,p=w)}return l(p);case gi:e:{for(S=g.key;m!==null;){if(m.key===S)if(m.tag===4&&m.stateNode.containerInfo===g.containerInfo&&m.stateNode.implementation===g.implementation){n(p,m.sibling),w=r(m,g.children||[]),w.return=p,p=w;break e}else{n(p,m);break}else t(p,m);m=m.sibling}w=Po(g,p.mode,w),w.return=p,p=w}return l(p);case Ln:return g=Sa(g),E(p,m,g,w)}if(mi(g))return v(p,m,g,w);if(ii(g)){if(S=ii(g),typeof S!="function")throw Error(D(150));return g=S.call(g),b(p,m,g,w)}if(typeof g.then=="function")return E(p,m,Ml(g),w);if(g.$$typeof===bn)return E(p,m,Ul(p,g),w);zl(p,g)}return typeof g=="string"&&g!==""||typeof g=="number"||typeof g=="bigint"?(g=""+g,m!==null&&m.tag===6?(n(p,m.sibling),w=r(m,g),w.return=p,p=w):(n(p,m),w=Ko(g,p.mode,w),w.return=p,p=w),l(p)):n(p,m)}return function(p,m,g,w){try{Ii=0;var S=E(p,m,g,w);return xr=null,S}catch(R){if(R===Kr||R===lo)throw R;var k=At(29,R,null,p.mode);return k.lanes=w,k.return=p,k}finally{}}}var Ma=zg(!0),Bg=zg(!1),Hn=!1;function vd(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function nc(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function ea(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function ta(e,t,n){var a=e.updateQueue;if(a===null)return null;if(a=a.shared,he&2){var r=a.pending;return r===null?t.next=t:(t.next=r.next,r.next=t),a.pending=t,t=Ss(e),Rg(e,null,n),t}return io(e,a,t,n),Ss(e)}function Ti(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194048)!==0)){var a=t.lanes;a&=e.pendingLanes,n|=a,t.lanes=n,tg(e,n)}}function Jo(e,t){var n=e.updateQueue,a=e.alternate;if(a!==null&&(a=a.updateQueue,n===a)){var r=null,i=null;if(n=n.firstBaseUpdate,n!==null){do{var l={lane:n.lane,tag:n.tag,payload:n.payload,callback:null,next:null};i===null?r=i=l:i=i.next=l,n=n.next}while(n!==null);i===null?r=i=t:i=i.next=t}else r=i=t;n={baseState:a.baseState,firstBaseUpdate:r,lastBaseUpdate:i,shared:a.shared,callbacks:a.callbacks},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}var ac=!1;function Ai(){if(ac){var e=Sr;if(e!==null)throw e}}function ki(e,t,n,a){ac=!1;var r=e.updateQueue;Hn=!1;var i=r.firstBaseUpdate,l=r.lastBaseUpdate,s=r.shared.pending;if(s!==null){r.shared.pending=null;var o=s,u=o.next;o.next=null,l===null?i=u:l.next=u,l=o;var c=e.alternate;c!==null&&(c=c.updateQueue,s=c.lastBaseUpdate,s!==l&&(s===null?c.firstBaseUpdate=u:s.next=u,c.lastBaseUpdate=o))}if(i!==null){var h=r.baseState;l=0,c=u=o=null,s=i;do{var d=s.lane&-536870913,f=d!==s.lane;if(f?(ue&d)===d:(a&d)===d){d!==0&&d===Or&&(ac=!0),c!==null&&(c=c.next={lane:0,tag:s.tag,payload:s.payload,callback:null,next:null});e:{var v=e,b=s;d=t;var E=n;switch(b.tag){case 1:if(v=b.payload,typeof v=="function"){h=v.call(E,h,d);break e}h=v;break e;case 3:v.flags=v.flags&-65537|128;case 0:if(v=b.payload,d=typeof v=="function"?v.call(E,h,d):v,d==null)break e;h=Re({},h,d);break e;case 2:Hn=!0}}d=s.callback,d!==null&&(e.flags|=64,f&&(e.flags|=8192),f=r.callbacks,f===null?r.callbacks=[d]:f.push(d))}else f={lane:d,tag:s.tag,payload:s.payload,callback:s.callback,next:null},c===null?(u=c=f,o=h):c=c.next=f,l|=d;if(s=s.next,s===null){if(s=r.shared.pending,s===null)break;f=s,s=f.next,f.next=null,r.lastBaseUpdate=f,r.shared.pending=null}}while(!0);c===null&&(o=h),r.baseState=o,r.firstBaseUpdate=u,r.lastBaseUpdate=c,i===null&&(r.shared.lanes=0),ca|=l,e.lanes=l,e.memoizedState=h}}function Lg(e,t){if(typeof e!="function")throw Error(D(191,e));e.call(t)}function Hg(e,t){var n=e.callbacks;if(n!==null)for(e.callbacks=null,e=0;e<n.length;e++)Lg(n[e],t)}var Nr=ln(null),As=ln(0);function Wf(e,t){e=On,xe(As,e),xe(Nr,t),On=e|t.baseLanes}function rc(){xe(As,On),xe(Nr,Nr.current)}function bd(){On=As.current,et(Nr),et(As)}var Dt=ln(null),It=null;function Gn(e){var t=e.alternate;xe(qe,qe.current&1),xe(Dt,e),It===null&&(t===null||Nr.current!==null||t.memoizedState!==null)&&(It=e)}function ic(e){xe(qe,qe.current),xe(Dt,e),It===null&&(It=e)}function qg(e){e.tag===22?(xe(qe,qe.current),xe(Dt,e),It===null&&(It=e)):In()}function In(){xe(qe,qe.current),xe(Dt,Dt.current)}function Tt(e){et(Dt),It===e&&(It=null),et(qe)}var qe=ln(0);function ks(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||Ec(n)||Tc(n)))return t}else if(t.tag===19&&(t.memoizedProps.revealOrder==="forwards"||t.memoizedProps.revealOrder==="backwards"||t.memoizedProps.revealOrder==="unstable_legacy-backwards"||t.memoizedProps.revealOrder==="together")){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var kn=0,le=null,be=null,Ve=null,Rs=!1,Er=!1,za=!1,Cs=0,Vi=0,Tr=null,Nb=0;function Be(){throw Error(D(321))}function wd(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!jt(e[n],t[n]))return!1;return!0}function _d(e,t,n,a,r,i){return kn=i,le=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,te.H=e===null||e.memoizedState===null?ym:jd,za=!1,i=n(a,r),za=!1,Er&&(i=Gg(t,n,a,r)),$g(e),i}function $g(e){te.H=Yi;var t=be!==null&&be.next!==null;if(kn=0,Ve=be=le=null,Rs=!1,Vi=0,Tr=null,t)throw Error(D(300));e===null||Pe||(e=e.dependencies,e!==null&&Es(e)&&(Pe=!0))}function Gg(e,t,n,a){le=e;var r=0;do{if(Er&&(Tr=null),Vi=0,Er=!1,25<=r)throw Error(D(301));if(r+=1,Ve=be=null,e.updateQueue!=null){var i=e.updateQueue;i.lastEffect=null,i.events=null,i.stores=null,i.memoCache!=null&&(i.memoCache.index=0)}te.H=vm,i=t(n,a)}while(Er);return i}function jb(){var e=te.H,t=e.useState()[0];return t=typeof t.then=="function"?fl(t):t,e=e.useState()[0],(be!==null?be.memoizedState:null)!==e&&(le.flags|=1024),t}function Sd(){var e=Cs!==0;return Cs=0,e}function xd(e,t,n){t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~n}function Ed(e){if(Rs){for(e=e.memoizedState;e!==null;){var t=e.queue;t!==null&&(t.pending=null),e=e.next}Rs=!1}kn=0,Ve=be=le=null,Er=!1,Vi=Cs=0,Tr=null}function ct(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ve===null?le.memoizedState=Ve=e:Ve=Ve.next=e,Ve}function $e(){if(be===null){var e=le.alternate;e=e!==null?e.memoizedState:null}else e=be.next;var t=Ve===null?le.memoizedState:Ve.next;if(t!==null)Ve=t,be=e;else{if(e===null)throw le.alternate===null?Error(D(467)):Error(D(310));be=e,e={memoizedState:be.memoizedState,baseState:be.baseState,baseQueue:be.baseQueue,queue:be.queue,next:null},Ve===null?le.memoizedState=Ve=e:Ve=Ve.next=e}return Ve}function so(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function fl(e){var t=Vi;return Vi+=1,Tr===null&&(Tr=[]),e=Mg(Tr,e,t),t=le,(Ve===null?t.memoizedState:Ve.next)===null&&(t=t.alternate,te.H=t===null||t.memoizedState===null?ym:jd),e}function oo(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return fl(e);if(e.$$typeof===bn)return st(e)}throw Error(D(438,String(e)))}function Td(e){var t=null,n=le.updateQueue;if(n!==null&&(t=n.memoCache),t==null){var a=le.alternate;a!==null&&(a=a.updateQueue,a!==null&&(a=a.memoCache,a!=null&&(t={data:a.data.map(function(r){return r.slice()}),index:0})))}if(t==null&&(t={data:[],index:0}),n===null&&(n=so(),le.updateQueue=n),n.memoCache=t,n=t.data[t.index],n===void 0)for(n=t.data[t.index]=Array(e),a=0;a<e;a++)n[a]=yv;return t.index++,n}function Rn(e,t){return typeof t=="function"?t(e):t}function is(e){var t=$e();return Ad(t,be,e)}function Ad(e,t,n){var a=e.queue;if(a===null)throw Error(D(311));a.lastRenderedReducer=n;var r=e.baseQueue,i=a.pending;if(i!==null){if(r!==null){var l=r.next;r.next=i.next,i.next=l}t.baseQueue=r=i,a.pending=null}if(i=e.baseState,r===null)e.memoizedState=i;else{t=r.next;var s=l=null,o=null,u=t,c=!1;do{var h=u.lane&-536870913;if(h!==u.lane?(ue&h)===h:(kn&h)===h){var d=u.revertLane;if(d===0)o!==null&&(o=o.next={lane:0,revertLane:0,gesture:null,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),h===Or&&(c=!0);else if((kn&d)===d){u=u.next,d===Or&&(c=!0);continue}else h={lane:0,revertLane:u.revertLane,gesture:null,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null},o===null?(s=o=h,l=i):o=o.next=h,le.lanes|=d,ca|=d;h=u.action,za&&n(i,h),i=u.hasEagerState?u.eagerState:n(i,h)}else d={lane:h,revertLane:u.revertLane,gesture:u.gesture,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null},o===null?(s=o=d,l=i):o=o.next=d,le.lanes|=h,ca|=h;u=u.next}while(u!==null&&u!==t);if(o===null?l=i:o.next=s,!jt(i,e.memoizedState)&&(Pe=!0,c&&(n=Sr,n!==null)))throw n;e.memoizedState=i,e.baseState=l,e.baseQueue=o,a.lastRenderedState=i}return r===null&&(a.lanes=0),[e.memoizedState,a.dispatch]}function Qo(e){var t=$e(),n=t.queue;if(n===null)throw Error(D(311));n.lastRenderedReducer=e;var a=n.dispatch,r=n.pending,i=t.memoizedState;if(r!==null){n.pending=null;var l=r=r.next;do i=e(i,l.action),l=l.next;while(l!==r);jt(i,t.memoizedState)||(Pe=!0),t.memoizedState=i,t.baseQueue===null&&(t.baseState=i),n.lastRenderedState=i}return[i,a]}function Ig(e,t,n){var a=le,r=$e(),i=ce;if(i){if(n===void 0)throw Error(D(407));n=n()}else n=t();var l=!jt((be||r).memoizedState,n);if(l&&(r.memoizedState=n,Pe=!0),r=r.queue,kd(Kg.bind(null,a,r,e),[e]),r.getSnapshot!==t||l||Ve!==null&&Ve.memoizedState.tag&1){if(a.flags|=2048,jr(9,{destroy:void 0},Yg.bind(null,a,r,n,t),null),_e===null)throw Error(D(349));i||kn&127||Vg(a,t,n)}return n}function Vg(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=le.updateQueue,t===null?(t=so(),le.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function Yg(e,t,n,a){t.value=n,t.getSnapshot=a,Pg(t)&&Xg(e)}function Kg(e,t,n){return n(function(){Pg(t)&&Xg(e)})}function Pg(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!jt(e,n)}catch{return!0}}function Xg(e){var t=$a(e,2);t!==null&&vt(t,e,2)}function lc(e){var t=ct();if(typeof e=="function"){var n=e;if(e=n(),za){Kn(!0);try{n()}finally{Kn(!1)}}}return t.memoizedState=t.baseState=e,t.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Rn,lastRenderedState:e},t}function Jg(e,t,n,a){return e.baseState=n,Ad(e,be,typeof a=="function"?a:Rn)}function Db(e,t,n,a,r){if(co(e))throw Error(D(485));if(e=t.action,e!==null){var i={payload:r,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(l){i.listeners.push(l)}};te.T!==null?n(!0):i.isTransition=!1,a(i),n=t.pending,n===null?(i.next=t.pending=i,Qg(t,i)):(i.next=n.next,t.pending=n.next=i)}}function Qg(e,t){var n=t.action,a=t.payload,r=e.state;if(t.isTransition){var i=te.T,l={};te.T=l;try{var s=n(r,a),o=te.S;o!==null&&o(l,s),eh(e,t,s)}catch(u){sc(e,t,u)}finally{i!==null&&l.types!==null&&(i.types=l.types),te.T=i}}else try{i=n(r,a),eh(e,t,i)}catch(u){sc(e,t,u)}}function eh(e,t,n){n!==null&&typeof n=="object"&&typeof n.then=="function"?n.then(function(a){th(e,t,a)},function(a){return sc(e,t,a)}):th(e,t,n)}function th(e,t,n){t.status="fulfilled",t.value=n,Zg(t),e.state=n,t=e.pending,t!==null&&(n=t.next,n===t?e.pending=null:(n=n.next,t.next=n,Qg(e,n)))}function sc(e,t,n){var a=e.pending;if(e.pending=null,a!==null){a=a.next;do t.status="rejected",t.reason=n,Zg(t),t=t.next;while(t!==a)}e.action=null}function Zg(e){e=e.listeners;for(var t=0;t<e.length;t++)(0,e[t])()}function Fg(e,t){return t}function nh(e,t){if(ce){var n=_e.formState;if(n!==null){e:{var a=le;if(ce){if(Ae){t:{for(var r=Ae,i=Gt;r.nodeType!==8;){if(!i){r=null;break t}if(r=Vt(r.nextSibling),r===null){r=null;break t}}i=r.data,r=i==="F!"||i==="F"?r:null}if(r){Ae=Vt(r.nextSibling),a=r.data==="F!";break e}}oa(a)}a=!1}a&&(t=n[0])}}return n=ct(),n.memoizedState=n.baseState=t,a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Fg,lastRenderedState:t},n.queue=a,n=gm.bind(null,le,a),a.dispatch=n,a=lc(!1),i=Nd.bind(null,le,!1,a.queue),a=ct(),r={state:t,dispatch:null,action:e,pending:null},a.queue=r,n=Db.bind(null,le,r,i,n),r.dispatch=n,a.memoizedState=e,[t,n,!1]}function ah(e){var t=$e();return Wg(t,be,e)}function Wg(e,t,n){if(t=Ad(e,t,Fg)[0],e=is(Rn)[0],typeof t=="object"&&t!==null&&typeof t.then=="function")try{var a=fl(t)}catch(l){throw l===Kr?lo:l}else a=t;t=$e();var r=t.queue,i=r.dispatch;return n!==t.memoizedState&&(le.flags|=2048,jr(9,{destroy:void 0},Ub.bind(null,r,n),null)),[a,i,e]}function Ub(e,t){e.action=t}function rh(e){var t=$e(),n=be;if(n!==null)return Wg(t,n,e);$e(),t=t.memoizedState,n=$e();var a=n.queue.dispatch;return n.memoizedState=e,[t,a,!1]}function jr(e,t,n,a){return e={tag:e,create:n,deps:a,inst:t,next:null},t=le.updateQueue,t===null&&(t=so(),le.updateQueue=t),n=t.lastEffect,n===null?t.lastEffect=e.next=e:(a=n.next,n.next=e,e.next=a,t.lastEffect=e),e}function em(){return $e().memoizedState}function ls(e,t,n,a){var r=ct();le.flags|=e,r.memoizedState=jr(1|t,{destroy:void 0},n,a===void 0?null:a)}function uo(e,t,n,a){var r=$e();a=a===void 0?null:a;var i=r.memoizedState.inst;be!==null&&a!==null&&wd(a,be.memoizedState.deps)?r.memoizedState=jr(t,i,n,a):(le.flags|=e,r.memoizedState=jr(1|t,i,n,a))}function ih(e,t){ls(8390656,8,e,t)}function kd(e,t){uo(2048,8,e,t)}function Mb(e){le.flags|=4;var t=le.updateQueue;if(t===null)t=so(),le.updateQueue=t,t.events=[e];else{var n=t.events;n===null?t.events=[e]:n.push(e)}}function tm(e){var t=$e().memoizedState;return Mb({ref:t,nextImpl:e}),function(){if(he&2)throw Error(D(440));return t.impl.apply(void 0,arguments)}}function nm(e,t){return uo(4,2,e,t)}function am(e,t){return uo(4,4,e,t)}function rm(e,t){if(typeof t=="function"){e=e();var n=t(e);return function(){typeof n=="function"?n():t(null)}}if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function im(e,t,n){n=n!=null?n.concat([e]):null,uo(4,4,rm.bind(null,t,e),n)}function Rd(){}function lm(e,t){var n=$e();t=t===void 0?null:t;var a=n.memoizedState;return t!==null&&wd(t,a[1])?a[0]:(n.memoizedState=[e,t],e)}function sm(e,t){var n=$e();t=t===void 0?null:t;var a=n.memoizedState;if(t!==null&&wd(t,a[1]))return a[0];if(a=e(),za){Kn(!0);try{e()}finally{Kn(!1)}}return n.memoizedState=[a,t],a}function Cd(e,t,n){return n===void 0||kn&1073741824&&!(ue&261930)?e.memoizedState=t:(e.memoizedState=n,e=Jm(),le.lanes|=e,ca|=e,n)}function om(e,t,n,a){return jt(n,t)?n:Nr.current!==null?(e=Cd(e,n,a),jt(e,t)||(Pe=!0),e):!(kn&42)||kn&1073741824&&!(ue&261930)?(Pe=!0,e.memoizedState=n):(e=Jm(),le.lanes|=e,ca|=e,t)}function um(e,t,n,a,r){var i=ge.p;ge.p=i!==0&&8>i?i:8;var l=te.T,s={};te.T=s,Nd(e,!1,t,n);try{var o=r(),u=te.S;if(u!==null&&u(s,o),o!==null&&typeof o=="object"&&typeof o.then=="function"){var c=Ob(o,a);Ri(e,t,c,Nt(e))}else Ri(e,t,a,Nt(e))}catch(h){Ri(e,t,{then:function(){},status:"rejected",reason:h},Nt())}finally{ge.p=i,l!==null&&s.types!==null&&(l.types=s.types),te.T=l}}function zb(){}function oc(e,t,n,a){if(e.tag!==5)throw Error(D(476));var r=cm(e).queue;um(e,r,t,Ra,n===null?zb:function(){return dm(e),n(a)})}function cm(e){var t=e.memoizedState;if(t!==null)return t;t={memoizedState:Ra,baseState:Ra,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Rn,lastRenderedState:Ra},next:null};var n={};return t.next={memoizedState:n,baseState:n,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Rn,lastRenderedState:n},next:null},e.memoizedState=t,e=e.alternate,e!==null&&(e.memoizedState=t),t}function dm(e){var t=cm(e);t.next===null&&(t=e.alternate.memoizedState),Ri(e,t.next.queue,{},Nt())}function Od(){return st(Xi)}function fm(){return $e().memoizedState}function hm(){return $e().memoizedState}function Bb(e){for(var t=e.return;t!==null;){switch(t.tag){case 24:case 3:var n=Nt();e=ea(n);var a=ta(t,e,n);a!==null&&(vt(a,t,n),Ti(a,t,n)),t={cache:md()},e.payload=t;return}t=t.return}}function Lb(e,t,n){var a=Nt();n={lane:a,revertLane:0,gesture:null,action:n,hasEagerState:!1,eagerState:null,next:null},co(e)?mm(t,n):(n=dd(e,t,n,a),n!==null&&(vt(n,e,a),pm(n,t,a)))}function gm(e,t,n){var a=Nt();Ri(e,t,n,a)}function Ri(e,t,n,a){var r={lane:a,revertLane:0,gesture:null,action:n,hasEagerState:!1,eagerState:null,next:null};if(co(e))mm(t,r);else{var i=e.alternate;if(e.lanes===0&&(i===null||i.lanes===0)&&(i=t.lastRenderedReducer,i!==null))try{var l=t.lastRenderedState,s=i(l,n);if(r.hasEagerState=!0,r.eagerState=s,jt(s,l))return io(e,t,r,0),_e===null&&ro(),!1}catch{}finally{}if(n=dd(e,t,r,a),n!==null)return vt(n,e,a),pm(n,t,a),!0}return!1}function Nd(e,t,n,a){if(a={lane:2,revertLane:qd(),gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null},co(e)){if(t)throw Error(D(479))}else t=dd(e,n,a,2),t!==null&&vt(t,e,2)}function co(e){var t=e.alternate;return e===le||t!==null&&t===le}function mm(e,t){Er=Rs=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function pm(e,t,n){if(n&4194048){var a=t.lanes;a&=e.pendingLanes,n|=a,t.lanes=n,tg(e,n)}}var Yi={readContext:st,use:oo,useCallback:Be,useContext:Be,useEffect:Be,useImperativeHandle:Be,useLayoutEffect:Be,useInsertionEffect:Be,useMemo:Be,useReducer:Be,useRef:Be,useState:Be,useDebugValue:Be,useDeferredValue:Be,useTransition:Be,useSyncExternalStore:Be,useId:Be,useHostTransitionStatus:Be,useFormState:Be,useActionState:Be,useOptimistic:Be,useMemoCache:Be,useCacheRefresh:Be};Yi.useEffectEvent=Be;var ym={readContext:st,use:oo,useCallback:function(e,t){return ct().memoizedState=[e,t===void 0?null:t],e},useContext:st,useEffect:ih,useImperativeHandle:function(e,t,n){n=n!=null?n.concat([e]):null,ls(4194308,4,rm.bind(null,t,e),n)},useLayoutEffect:function(e,t){return ls(4194308,4,e,t)},useInsertionEffect:function(e,t){ls(4,2,e,t)},useMemo:function(e,t){var n=ct();t=t===void 0?null:t;var a=e();if(za){Kn(!0);try{e()}finally{Kn(!1)}}return n.memoizedState=[a,t],a},useReducer:function(e,t,n){var a=ct();if(n!==void 0){var r=n(t);if(za){Kn(!0);try{n(t)}finally{Kn(!1)}}}else r=t;return a.memoizedState=a.baseState=r,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:r},a.queue=e,e=e.dispatch=Lb.bind(null,le,e),[a.memoizedState,e]},useRef:function(e){var t=ct();return e={current:e},t.memoizedState=e},useState:function(e){e=lc(e);var t=e.queue,n=gm.bind(null,le,t);return t.dispatch=n,[e.memoizedState,n]},useDebugValue:Rd,useDeferredValue:function(e,t){var n=ct();return Cd(n,e,t)},useTransition:function(){var e=lc(!1);return e=um.bind(null,le,e.queue,!0,!1),ct().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,t,n){var a=le,r=ct();if(ce){if(n===void 0)throw Error(D(407));n=n()}else{if(n=t(),_e===null)throw Error(D(349));ue&127||Vg(a,t,n)}r.memoizedState=n;var i={value:n,getSnapshot:t};return r.queue=i,ih(Kg.bind(null,a,i,e),[e]),a.flags|=2048,jr(9,{destroy:void 0},Yg.bind(null,a,i,n,t),null),n},useId:function(){var e=ct(),t=_e.identifierPrefix;if(ce){var n=tn,a=en;n=(a&~(1<<32-Ot(a)-1)).toString(32)+n,t="_"+t+"R_"+n,n=Cs++,0<n&&(t+="H"+n.toString(32)),t+="_"}else n=Nb++,t="_"+t+"r_"+n.toString(32)+"_";return e.memoizedState=t},useHostTransitionStatus:Od,useFormState:nh,useActionState:nh,useOptimistic:function(e){var t=ct();t.memoizedState=t.baseState=e;var n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return t.queue=n,t=Nd.bind(null,le,!0,n),n.dispatch=t,[e,t]},useMemoCache:Td,useCacheRefresh:function(){return ct().memoizedState=Bb.bind(null,le)},useEffectEvent:function(e){var t=ct(),n={impl:e};return t.memoizedState=n,function(){if(he&2)throw Error(D(440));return n.impl.apply(void 0,arguments)}}},jd={readContext:st,use:oo,useCallback:lm,useContext:st,useEffect:kd,useImperativeHandle:im,useInsertionEffect:nm,useLayoutEffect:am,useMemo:sm,useReducer:is,useRef:em,useState:function(){return is(Rn)},useDebugValue:Rd,useDeferredValue:function(e,t){var n=$e();return om(n,be.memoizedState,e,t)},useTransition:function(){var e=is(Rn)[0],t=$e().memoizedState;return[typeof e=="boolean"?e:fl(e),t]},useSyncExternalStore:Ig,useId:fm,useHostTransitionStatus:Od,useFormState:ah,useActionState:ah,useOptimistic:function(e,t){var n=$e();return Jg(n,be,e,t)},useMemoCache:Td,useCacheRefresh:hm};jd.useEffectEvent=tm;var vm={readContext:st,use:oo,useCallback:lm,useContext:st,useEffect:kd,useImperativeHandle:im,useInsertionEffect:nm,useLayoutEffect:am,useMemo:sm,useReducer:Qo,useRef:em,useState:function(){return Qo(Rn)},useDebugValue:Rd,useDeferredValue:function(e,t){var n=$e();return be===null?Cd(n,e,t):om(n,be.memoizedState,e,t)},useTransition:function(){var e=Qo(Rn)[0],t=$e().memoizedState;return[typeof e=="boolean"?e:fl(e),t]},useSyncExternalStore:Ig,useId:fm,useHostTransitionStatus:Od,useFormState:rh,useActionState:rh,useOptimistic:function(e,t){var n=$e();return be!==null?Jg(n,be,e,t):(n.baseState=e,[e,n.queue.dispatch])},useMemoCache:Td,useCacheRefresh:hm};vm.useEffectEvent=tm;function Zo(e,t,n,a){t=e.memoizedState,n=n(a,t),n=n==null?t:Re({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var uc={enqueueSetState:function(e,t,n){e=e._reactInternals;var a=Nt(),r=ea(a);r.payload=t,n!=null&&(r.callback=n),t=ta(e,r,a),t!==null&&(vt(t,e,a),Ti(t,e,a))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var a=Nt(),r=ea(a);r.tag=1,r.payload=t,n!=null&&(r.callback=n),t=ta(e,r,a),t!==null&&(vt(t,e,a),Ti(t,e,a))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=Nt(),a=ea(n);a.tag=2,t!=null&&(a.callback=t),t=ta(e,a,n),t!==null&&(vt(t,e,n),Ti(t,e,n))}};function lh(e,t,n,a,r,i,l){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(a,i,l):t.prototype&&t.prototype.isPureReactComponent?!qi(n,a)||!qi(r,i):!0}function sh(e,t,n,a){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,a),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,a),t.state!==e&&uc.enqueueReplaceState(t,t.state,null)}function Ba(e,t){var n=t;if("ref"in t){n={};for(var a in t)a!=="ref"&&(n[a]=t[a])}if(e=e.defaultProps){n===t&&(n=Re({},n));for(var r in e)n[r]===void 0&&(n[r]=e[r])}return n}function bm(e){_s(e)}function wm(e){console.error(e)}function _m(e){_s(e)}function Os(e,t){try{var n=e.onUncaughtError;n(t.value,{componentStack:t.stack})}catch(a){setTimeout(function(){throw a})}}function oh(e,t,n){try{var a=e.onCaughtError;a(n.value,{componentStack:n.stack,errorBoundary:t.tag===1?t.stateNode:null})}catch(r){setTimeout(function(){throw r})}}function cc(e,t,n){return n=ea(n),n.tag=3,n.payload={element:null},n.callback=function(){Os(e,t)},n}function Sm(e){return e=ea(e),e.tag=3,e}function xm(e,t,n,a){var r=n.type.getDerivedStateFromError;if(typeof r=="function"){var i=a.value;e.payload=function(){return r(i)},e.callback=function(){oh(t,n,a)}}var l=n.stateNode;l!==null&&typeof l.componentDidCatch=="function"&&(e.callback=function(){oh(t,n,a),typeof r!="function"&&(na===null?na=new Set([this]):na.add(this));var s=a.stack;this.componentDidCatch(a.value,{componentStack:s!==null?s:""})})}function Hb(e,t,n,a,r){if(n.flags|=32768,a!==null&&typeof a=="object"&&typeof a.then=="function"){if(t=n.alternate,t!==null&&Yr(t,n,r,!0),n=Dt.current,n!==null){switch(n.tag){case 31:case 13:return It===null?Ms():n.alternate===null&&He===0&&(He=3),n.flags&=-257,n.flags|=65536,n.lanes=r,a===Ts?n.flags|=16384:(t=n.updateQueue,t===null?n.updateQueue=new Set([a]):t.add(a),ou(e,a,r)),!1;case 22:return n.flags|=65536,a===Ts?n.flags|=16384:(t=n.updateQueue,t===null?(t={transitions:null,markerInstances:null,retryQueue:new Set([a])},n.updateQueue=t):(n=t.retryQueue,n===null?t.retryQueue=new Set([a]):n.add(a)),ou(e,a,r)),!1}throw Error(D(435,n.tag))}return ou(e,a,r),Ms(),!1}if(ce)return t=Dt.current,t!==null?(!(t.flags&65536)&&(t.flags|=256),t.flags|=65536,t.lanes=r,a!==Zu&&(e=Error(D(422),{cause:a}),Gi($t(e,n)))):(a!==Zu&&(t=Error(D(423),{cause:a}),Gi($t(t,n))),e=e.current.alternate,e.flags|=65536,r&=-r,e.lanes|=r,a=$t(a,n),r=cc(e.stateNode,a,r),Jo(e,r),He!==4&&(He=2)),!1;var i=Error(D(520),{cause:a});if(i=$t(i,n),Ni===null?Ni=[i]:Ni.push(i),He!==4&&(He=2),t===null)return!0;a=$t(a,n),n=t;do{switch(n.tag){case 3:return n.flags|=65536,e=r&-r,n.lanes|=e,e=cc(n.stateNode,a,e),Jo(n,e),!1;case 1:if(t=n.type,i=n.stateNode,(n.flags&128)===0&&(typeof t.getDerivedStateFromError=="function"||i!==null&&typeof i.componentDidCatch=="function"&&(na===null||!na.has(i))))return n.flags|=65536,r&=-r,n.lanes|=r,r=Sm(r),xm(r,e,n,a),Jo(n,r),!1}n=n.return}while(n!==null);return!1}var Dd=Error(D(461)),Pe=!1;function rt(e,t,n,a){t.child=e===null?Bg(t,null,n,a):Ma(t,e.child,n,a)}function uh(e,t,n,a,r){n=n.render;var i=t.ref;if("ref"in a){var l={};for(var s in a)s!=="ref"&&(l[s]=a[s])}else l=a;return Ua(t),a=_d(e,t,n,l,i,r),s=Sd(),e!==null&&!Pe?(xd(e,t,r),Cn(e,t,r)):(ce&&s&&hd(t),t.flags|=1,rt(e,t,a,r),t.child)}function ch(e,t,n,a,r){if(e===null){var i=n.type;return typeof i=="function"&&!fd(i)&&i.defaultProps===void 0&&n.compare===null?(t.tag=15,t.type=i,Em(e,t,i,a,r)):(e=as(n.type,null,a,t,t.mode,r),e.ref=t.ref,e.return=t,t.child=e)}if(i=e.child,!Ud(e,r)){var l=i.memoizedProps;if(n=n.compare,n=n!==null?n:qi,n(l,a)&&e.ref===t.ref)return Cn(e,t,r)}return t.flags|=1,e=Sn(i,a),e.ref=t.ref,e.return=t,t.child=e}function Em(e,t,n,a,r){if(e!==null){var i=e.memoizedProps;if(qi(i,a)&&e.ref===t.ref)if(Pe=!1,t.pendingProps=a=i,Ud(e,r))e.flags&131072&&(Pe=!0);else return t.lanes=e.lanes,Cn(e,t,r)}return dc(e,t,n,a,r)}function Tm(e,t,n,a){var r=a.children,i=e!==null?e.memoizedState:null;if(e===null&&t.stateNode===null&&(t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),a.mode==="hidden"){if(t.flags&128){if(i=i!==null?i.baseLanes|n:n,e!==null){for(a=t.child=e.child,r=0;a!==null;)r=r|a.lanes|a.childLanes,a=a.sibling;a=r&~i}else a=0,t.child=null;return dh(e,t,i,n,a)}if(n&536870912)t.memoizedState={baseLanes:0,cachePool:null},e!==null&&rs(t,i!==null?i.cachePool:null),i!==null?Wf(t,i):rc(),qg(t);else return a=t.lanes=536870912,dh(e,t,i!==null?i.baseLanes|n:n,n,a)}else i!==null?(rs(t,i.cachePool),Wf(t,i),In(),t.memoizedState=null):(e!==null&&rs(t,null),rc(),In());return rt(e,t,r,n),t.child}function yi(e,t){return e!==null&&e.tag===22||t.stateNode!==null||(t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),t.sibling}function dh(e,t,n,a,r){var i=pd();return i=i===null?null:{parent:Ke._currentValue,pool:i},t.memoizedState={baseLanes:n,cachePool:i},e!==null&&rs(t,null),rc(),qg(t),e!==null&&Yr(e,t,a,!0),t.childLanes=r,null}function ss(e,t){return t=Ns({mode:t.mode,children:t.children},e.mode),t.ref=e.ref,e.child=t,t.return=e,t}function fh(e,t,n){return Ma(t,e.child,null,n),e=ss(t,t.pendingProps),e.flags|=2,Tt(t),t.memoizedState=null,e}function qb(e,t,n){var a=t.pendingProps,r=(t.flags&128)!==0;if(t.flags&=-129,e===null){if(ce){if(a.mode==="hidden")return e=ss(t,a),t.lanes=536870912,yi(null,e);if(ic(t),(e=Ae)?(e=yp(e,Gt),e=e!==null&&e.data==="&"?e:null,e!==null&&(t.memoizedState={dehydrated:e,treeContext:sa!==null?{id:en,overflow:tn}:null,retryLane:536870912,hydrationErrors:null},n=Og(e),n.return=t,t.child=n,lt=t,Ae=null)):e=null,e===null)throw oa(t);return t.lanes=536870912,null}return ss(t,a)}var i=e.memoizedState;if(i!==null){var l=i.dehydrated;if(ic(t),r)if(t.flags&256)t.flags&=-257,t=fh(e,t,n);else if(t.memoizedState!==null)t.child=e.child,t.flags|=128,t=null;else throw Error(D(558));else if(Pe||Yr(e,t,n,!1),r=(n&e.childLanes)!==0,Pe||r){if(a=_e,a!==null&&(l=ng(a,n),l!==0&&l!==i.retryLane))throw i.retryLane=l,$a(e,l),vt(a,e,l),Dd;Ms(),t=fh(e,t,n)}else e=i.treeContext,Ae=Vt(l.nextSibling),lt=t,ce=!0,Wn=null,Gt=!1,e!==null&&jg(t,e),t=ss(t,a),t.flags|=4096;return t}return e=Sn(e.child,{mode:a.mode,children:a.children}),e.ref=t.ref,t.child=e,e.return=t,e}function os(e,t){var n=t.ref;if(n===null)e!==null&&e.ref!==null&&(t.flags|=4194816);else{if(typeof n!="function"&&typeof n!="object")throw Error(D(284));(e===null||e.ref!==n)&&(t.flags|=4194816)}}function dc(e,t,n,a,r){return Ua(t),n=_d(e,t,n,a,void 0,r),a=Sd(),e!==null&&!Pe?(xd(e,t,r),Cn(e,t,r)):(ce&&a&&hd(t),t.flags|=1,rt(e,t,n,r),t.child)}function hh(e,t,n,a,r,i){return Ua(t),t.updateQueue=null,n=Gg(t,a,n,r),$g(e),a=Sd(),e!==null&&!Pe?(xd(e,t,i),Cn(e,t,i)):(ce&&a&&hd(t),t.flags|=1,rt(e,t,n,i),t.child)}function gh(e,t,n,a,r){if(Ua(t),t.stateNode===null){var i=gr,l=n.contextType;typeof l=="object"&&l!==null&&(i=st(l)),i=new n(a,i),t.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,i.updater=uc,t.stateNode=i,i._reactInternals=t,i=t.stateNode,i.props=a,i.state=t.memoizedState,i.refs={},vd(t),l=n.contextType,i.context=typeof l=="object"&&l!==null?st(l):gr,i.state=t.memoizedState,l=n.getDerivedStateFromProps,typeof l=="function"&&(Zo(t,n,l,a),i.state=t.memoizedState),typeof n.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(l=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),l!==i.state&&uc.enqueueReplaceState(i,i.state,null),ki(t,a,i,r),Ai(),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308),a=!0}else if(e===null){i=t.stateNode;var s=t.memoizedProps,o=Ba(n,s);i.props=o;var u=i.context,c=n.contextType;l=gr,typeof c=="object"&&c!==null&&(l=st(c));var h=n.getDerivedStateFromProps;c=typeof h=="function"||typeof i.getSnapshotBeforeUpdate=="function",s=t.pendingProps!==s,c||typeof i.UNSAFE_componentWillReceiveProps!="function"&&typeof i.componentWillReceiveProps!="function"||(s||u!==l)&&sh(t,i,a,l),Hn=!1;var d=t.memoizedState;i.state=d,ki(t,a,i,r),Ai(),u=t.memoizedState,s||d!==u||Hn?(typeof h=="function"&&(Zo(t,n,h,a),u=t.memoizedState),(o=Hn||lh(t,n,o,a,d,u,l))?(c||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount()),typeof i.componentDidMount=="function"&&(t.flags|=4194308)):(typeof i.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=a,t.memoizedState=u),i.props=a,i.state=u,i.context=l,a=o):(typeof i.componentDidMount=="function"&&(t.flags|=4194308),a=!1)}else{i=t.stateNode,nc(e,t),l=t.memoizedProps,c=Ba(n,l),i.props=c,h=t.pendingProps,d=i.context,u=n.contextType,o=gr,typeof u=="object"&&u!==null&&(o=st(u)),s=n.getDerivedStateFromProps,(u=typeof s=="function"||typeof i.getSnapshotBeforeUpdate=="function")||typeof i.UNSAFE_componentWillReceiveProps!="function"&&typeof i.componentWillReceiveProps!="function"||(l!==h||d!==o)&&sh(t,i,a,o),Hn=!1,d=t.memoizedState,i.state=d,ki(t,a,i,r),Ai();var f=t.memoizedState;l!==h||d!==f||Hn||e!==null&&e.dependencies!==null&&Es(e.dependencies)?(typeof s=="function"&&(Zo(t,n,s,a),f=t.memoizedState),(c=Hn||lh(t,n,c,a,d,f,o)||e!==null&&e.dependencies!==null&&Es(e.dependencies))?(u||typeof i.UNSAFE_componentWillUpdate!="function"&&typeof i.componentWillUpdate!="function"||(typeof i.componentWillUpdate=="function"&&i.componentWillUpdate(a,f,o),typeof i.UNSAFE_componentWillUpdate=="function"&&i.UNSAFE_componentWillUpdate(a,f,o)),typeof i.componentDidUpdate=="function"&&(t.flags|=4),typeof i.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof i.componentDidUpdate!="function"||l===e.memoizedProps&&d===e.memoizedState||(t.flags|=4),typeof i.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&d===e.memoizedState||(t.flags|=1024),t.memoizedProps=a,t.memoizedState=f),i.props=a,i.state=f,i.context=o,a=c):(typeof i.componentDidUpdate!="function"||l===e.memoizedProps&&d===e.memoizedState||(t.flags|=4),typeof i.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&d===e.memoizedState||(t.flags|=1024),a=!1)}return i=a,os(e,t),a=(t.flags&128)!==0,i||a?(i=t.stateNode,n=a&&typeof n.getDerivedStateFromError!="function"?null:i.render(),t.flags|=1,e!==null&&a?(t.child=Ma(t,e.child,null,r),t.child=Ma(t,null,n,r)):rt(e,t,n,r),t.memoizedState=i.state,e=t.child):e=Cn(e,t,r),e}function mh(e,t,n,a){return Da(),t.flags|=256,rt(e,t,n,a),t.child}var Fo={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Wo(e){return{baseLanes:e,cachePool:Ug()}}function eu(e,t,n){return e=e!==null?e.childLanes&~n:0,t&&(e|=kt),e}function Am(e,t,n){var a=t.pendingProps,r=!1,i=(t.flags&128)!==0,l;if((l=i)||(l=e!==null&&e.memoizedState===null?!1:(qe.current&2)!==0),l&&(r=!0,t.flags&=-129),l=(t.flags&32)!==0,t.flags&=-33,e===null){if(ce){if(r?Gn(t):In(),(e=Ae)?(e=yp(e,Gt),e=e!==null&&e.data!=="&"?e:null,e!==null&&(t.memoizedState={dehydrated:e,treeContext:sa!==null?{id:en,overflow:tn}:null,retryLane:536870912,hydrationErrors:null},n=Og(e),n.return=t,t.child=n,lt=t,Ae=null)):e=null,e===null)throw oa(t);return Tc(e)?t.lanes=32:t.lanes=536870912,null}var s=a.children;return a=a.fallback,r?(In(),r=t.mode,s=Ns({mode:"hidden",children:s},r),a=Ca(a,r,n,null),s.return=t,a.return=t,s.sibling=a,t.child=s,a=t.child,a.memoizedState=Wo(n),a.childLanes=eu(e,l,n),t.memoizedState=Fo,yi(null,a)):(Gn(t),fc(t,s))}var o=e.memoizedState;if(o!==null&&(s=o.dehydrated,s!==null)){if(i)t.flags&256?(Gn(t),t.flags&=-257,t=tu(e,t,n)):t.memoizedState!==null?(In(),t.child=e.child,t.flags|=128,t=null):(In(),s=a.fallback,r=t.mode,a=Ns({mode:"visible",children:a.children},r),s=Ca(s,r,n,null),s.flags|=2,a.return=t,s.return=t,a.sibling=s,t.child=a,Ma(t,e.child,null,n),a=t.child,a.memoizedState=Wo(n),a.childLanes=eu(e,l,n),t.memoizedState=Fo,t=yi(null,a));else if(Gn(t),Tc(s)){if(l=s.nextSibling&&s.nextSibling.dataset,l)var u=l.dgst;l=u,a=Error(D(419)),a.stack="",a.digest=l,Gi({value:a,source:null,stack:null}),t=tu(e,t,n)}else if(Pe||Yr(e,t,n,!1),l=(n&e.childLanes)!==0,Pe||l){if(l=_e,l!==null&&(a=ng(l,n),a!==0&&a!==o.retryLane))throw o.retryLane=a,$a(e,a),vt(l,e,a),Dd;Ec(s)||Ms(),t=tu(e,t,n)}else Ec(s)?(t.flags|=192,t.child=e.child,t=null):(e=o.treeContext,Ae=Vt(s.nextSibling),lt=t,ce=!0,Wn=null,Gt=!1,e!==null&&jg(t,e),t=fc(t,a.children),t.flags|=4096);return t}return r?(In(),s=a.fallback,r=t.mode,o=e.child,u=o.sibling,a=Sn(o,{mode:"hidden",children:a.children}),a.subtreeFlags=o.subtreeFlags&65011712,u!==null?s=Sn(u,s):(s=Ca(s,r,n,null),s.flags|=2),s.return=t,a.return=t,a.sibling=s,t.child=a,yi(null,a),a=t.child,s=e.child.memoizedState,s===null?s=Wo(n):(r=s.cachePool,r!==null?(o=Ke._currentValue,r=r.parent!==o?{parent:o,pool:o}:r):r=Ug(),s={baseLanes:s.baseLanes|n,cachePool:r}),a.memoizedState=s,a.childLanes=eu(e,l,n),t.memoizedState=Fo,yi(e.child,a)):(Gn(t),n=e.child,e=n.sibling,n=Sn(n,{mode:"visible",children:a.children}),n.return=t,n.sibling=null,e!==null&&(l=t.deletions,l===null?(t.deletions=[e],t.flags|=16):l.push(e)),t.child=n,t.memoizedState=null,n)}function fc(e,t){return t=Ns({mode:"visible",children:t},e.mode),t.return=e,e.child=t}function Ns(e,t){return e=At(22,e,null,t),e.lanes=0,e}function tu(e,t,n){return Ma(t,e.child,null,n),e=fc(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function ph(e,t,n){e.lanes|=t;var a=e.alternate;a!==null&&(a.lanes|=t),Wu(e.return,t,n)}function nu(e,t,n,a,r,i){var l=e.memoizedState;l===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:a,tail:n,tailMode:r,treeForkCount:i}:(l.isBackwards=t,l.rendering=null,l.renderingStartTime=0,l.last=a,l.tail=n,l.tailMode=r,l.treeForkCount=i)}function km(e,t,n){var a=t.pendingProps,r=a.revealOrder,i=a.tail;a=a.children;var l=qe.current,s=(l&2)!==0;if(s?(l=l&1|2,t.flags|=128):l&=1,xe(qe,l),rt(e,t,a,n),a=ce?$i:0,!s&&e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&ph(e,n,t);else if(e.tag===19)ph(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}switch(r){case"forwards":for(n=t.child,r=null;n!==null;)e=n.alternate,e!==null&&ks(e)===null&&(r=n),n=n.sibling;n=r,n===null?(r=t.child,t.child=null):(r=n.sibling,n.sibling=null),nu(t,!1,r,n,i,a);break;case"backwards":case"unstable_legacy-backwards":for(n=null,r=t.child,t.child=null;r!==null;){if(e=r.alternate,e!==null&&ks(e)===null){t.child=r;break}e=r.sibling,r.sibling=n,n=r,r=e}nu(t,!0,n,null,i,a);break;case"together":nu(t,!1,null,null,void 0,a);break;default:t.memoizedState=null}return t.child}function Cn(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),ca|=t.lanes,!(n&t.childLanes))if(e!==null){if(Yr(e,t,n,!1),(n&t.childLanes)===0)return null}else return null;if(e!==null&&t.child!==e.child)throw Error(D(153));if(t.child!==null){for(e=t.child,n=Sn(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=Sn(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function Ud(e,t){return e.lanes&t?!0:(e=e.dependencies,!!(e!==null&&Es(e)))}function $b(e,t,n){switch(t.tag){case 3:ys(t,t.stateNode.containerInfo),$n(t,Ke,e.memoizedState.cache),Da();break;case 27:case 5:qu(t);break;case 4:ys(t,t.stateNode.containerInfo);break;case 10:$n(t,t.type,t.memoizedProps.value);break;case 31:if(t.memoizedState!==null)return t.flags|=128,ic(t),null;break;case 13:var a=t.memoizedState;if(a!==null)return a.dehydrated!==null?(Gn(t),t.flags|=128,null):n&t.child.childLanes?Am(e,t,n):(Gn(t),e=Cn(e,t,n),e!==null?e.sibling:null);Gn(t);break;case 19:var r=(e.flags&128)!==0;if(a=(n&t.childLanes)!==0,a||(Yr(e,t,n,!1),a=(n&t.childLanes)!==0),r){if(a)return km(e,t,n);t.flags|=128}if(r=t.memoizedState,r!==null&&(r.rendering=null,r.tail=null,r.lastEffect=null),xe(qe,qe.current),a)break;return null;case 22:return t.lanes=0,Tm(e,t,n,t.pendingProps);case 24:$n(t,Ke,e.memoizedState.cache)}return Cn(e,t,n)}function Rm(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps)Pe=!0;else{if(!Ud(e,n)&&!(t.flags&128))return Pe=!1,$b(e,t,n);Pe=!!(e.flags&131072)}else Pe=!1,ce&&t.flags&1048576&&Ng(t,$i,t.index);switch(t.lanes=0,t.tag){case 16:e:{var a=t.pendingProps;if(e=Sa(t.elementType),t.type=e,typeof e=="function")fd(e)?(a=Ba(e,a),t.tag=1,t=gh(null,t,e,a,n)):(t.tag=0,t=dc(null,t,e,a,n));else{if(e!=null){var r=e.$$typeof;if(r===Fc){t.tag=11,t=uh(null,t,e,a,n);break e}else if(r===Wc){t.tag=14,t=ch(null,t,e,a,n);break e}}throw t=Lu(e)||e,Error(D(306,t,""))}}return t;case 0:return dc(e,t,t.type,t.pendingProps,n);case 1:return a=t.type,r=Ba(a,t.pendingProps),gh(e,t,a,r,n);case 3:e:{if(ys(t,t.stateNode.containerInfo),e===null)throw Error(D(387));a=t.pendingProps;var i=t.memoizedState;r=i.element,nc(e,t),ki(t,a,null,n);var l=t.memoizedState;if(a=l.cache,$n(t,Ke,a),a!==i.cache&&ec(t,[Ke],n,!0),Ai(),a=l.element,i.isDehydrated)if(i={element:a,isDehydrated:!1,cache:l.cache},t.updateQueue.baseState=i,t.memoizedState=i,t.flags&256){t=mh(e,t,a,n);break e}else if(a!==r){r=$t(Error(D(424)),t),Gi(r),t=mh(e,t,a,n);break e}else{switch(e=t.stateNode.containerInfo,e.nodeType){case 9:e=e.body;break;default:e=e.nodeName==="HTML"?e.ownerDocument.body:e}for(Ae=Vt(e.firstChild),lt=t,ce=!0,Wn=null,Gt=!0,n=Bg(t,null,a,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling}else{if(Da(),a===r){t=Cn(e,t,n);break e}rt(e,t,a,n)}t=t.child}return t;case 26:return os(e,t),e===null?(n=zh(t.type,null,t.pendingProps,null))?t.memoizedState=n:ce||(n=t.type,e=t.pendingProps,a=Hs(Fn.current).createElement(n),a[it]=t,a[bt]=e,ot(a,n,e),We(a),t.stateNode=a):t.memoizedState=zh(t.type,e.memoizedProps,t.pendingProps,e.memoizedState),null;case 27:return qu(t),e===null&&ce&&(a=t.stateNode=vp(t.type,t.pendingProps,Fn.current),lt=t,Gt=!0,r=Ae,fa(t.type)?(Ac=r,Ae=Vt(a.firstChild)):Ae=r),rt(e,t,t.pendingProps.children,n),os(e,t),e===null&&(t.flags|=4194304),t.child;case 5:return e===null&&ce&&((r=a=Ae)&&(a=yw(a,t.type,t.pendingProps,Gt),a!==null?(t.stateNode=a,lt=t,Ae=Vt(a.firstChild),Gt=!1,r=!0):r=!1),r||oa(t)),qu(t),r=t.type,i=t.pendingProps,l=e!==null?e.memoizedProps:null,a=i.children,Sc(r,i)?a=null:l!==null&&Sc(r,l)&&(t.flags|=32),t.memoizedState!==null&&(r=_d(e,t,jb,null,null,n),Xi._currentValue=r),os(e,t),rt(e,t,a,n),t.child;case 6:return e===null&&ce&&((e=n=Ae)&&(n=vw(n,t.pendingProps,Gt),n!==null?(t.stateNode=n,lt=t,Ae=null,e=!0):e=!1),e||oa(t)),null;case 13:return Am(e,t,n);case 4:return ys(t,t.stateNode.containerInfo),a=t.pendingProps,e===null?t.child=Ma(t,null,a,n):rt(e,t,a,n),t.child;case 11:return uh(e,t,t.type,t.pendingProps,n);case 7:return rt(e,t,t.pendingProps,n),t.child;case 8:return rt(e,t,t.pendingProps.children,n),t.child;case 12:return rt(e,t,t.pendingProps.children,n),t.child;case 10:return a=t.pendingProps,$n(t,t.type,a.value),rt(e,t,a.children,n),t.child;case 9:return r=t.type._context,a=t.pendingProps.children,Ua(t),r=st(r),a=a(r),t.flags|=1,rt(e,t,a,n),t.child;case 14:return ch(e,t,t.type,t.pendingProps,n);case 15:return Em(e,t,t.type,t.pendingProps,n);case 19:return km(e,t,n);case 31:return qb(e,t,n);case 22:return Tm(e,t,n,t.pendingProps);case 24:return Ua(t),a=st(Ke),e===null?(r=pd(),r===null&&(r=_e,i=md(),r.pooledCache=i,i.refCount++,i!==null&&(r.pooledCacheLanes|=n),r=i),t.memoizedState={parent:a,cache:r},vd(t),$n(t,Ke,r)):(e.lanes&n&&(nc(e,t),ki(t,null,null,n),Ai()),r=e.memoizedState,i=t.memoizedState,r.parent!==a?(r={parent:a,cache:a},t.memoizedState=r,t.lanes===0&&(t.memoizedState=t.updateQueue.baseState=r),$n(t,Ke,a)):(a=i.cache,$n(t,Ke,a),a!==r.cache&&ec(t,[Ke],n,!0))),rt(e,t,t.pendingProps.children,n),t.child;case 29:throw t.pendingProps}throw Error(D(156,t.tag))}function fn(e){e.flags|=4}function au(e,t,n,a,r){if((t=(e.mode&32)!==0)&&(t=!1),t){if(e.flags|=16777216,(r&335544128)===r)if(e.stateNode.complete)e.flags|=8192;else if(Fm())e.flags|=8192;else throw Na=Ts,yd}else e.flags&=-16777217}function yh(e,t){if(t.type!=="stylesheet"||t.state.loading&4)e.flags&=-16777217;else if(e.flags|=16777216,!_p(t))if(Fm())e.flags|=8192;else throw Na=Ts,yd}function Bl(e,t){t!==null&&(e.flags|=4),e.flags&16384&&(t=e.tag!==22?W0():536870912,e.lanes|=t,Dr|=t)}function ui(e,t){if(!ce)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var a=null;n!==null;)n.alternate!==null&&(a=n),n=n.sibling;a===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:a.sibling=null}}function Ee(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,a=0;if(t)for(var r=e.child;r!==null;)n|=r.lanes|r.childLanes,a|=r.subtreeFlags&65011712,a|=r.flags&65011712,r.return=e,r=r.sibling;else for(r=e.child;r!==null;)n|=r.lanes|r.childLanes,a|=r.subtreeFlags,a|=r.flags,r.return=e,r=r.sibling;return e.subtreeFlags|=a,e.childLanes=n,t}function Gb(e,t,n){var a=t.pendingProps;switch(gd(t),t.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ee(t),null;case 1:return Ee(t),null;case 3:return n=t.stateNode,a=null,e!==null&&(a=e.memoizedState.cache),t.memoizedState.cache!==a&&(t.flags|=2048),xn(Ke),kr(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(e===null||e.child===null)&&(Ka(t)?fn(t):e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,Xo())),Ee(t),null;case 26:var r=t.type,i=t.memoizedState;return e===null?(fn(t),i!==null?(Ee(t),yh(t,i)):(Ee(t),au(t,r,null,a,n))):i?i!==e.memoizedState?(fn(t),Ee(t),yh(t,i)):(Ee(t),t.flags&=-16777217):(e=e.memoizedProps,e!==a&&fn(t),Ee(t),au(t,r,e,a,n)),null;case 27:if(vs(t),n=Fn.current,r=t.type,e!==null&&t.stateNode!=null)e.memoizedProps!==a&&fn(t);else{if(!a){if(t.stateNode===null)throw Error(D(166));return Ee(t),null}e=an.current,Ka(t)?Kf(t):(e=vp(r,a,n),t.stateNode=e,fn(t))}return Ee(t),null;case 5:if(vs(t),r=t.type,e!==null&&t.stateNode!=null)e.memoizedProps!==a&&fn(t);else{if(!a){if(t.stateNode===null)throw Error(D(166));return Ee(t),null}if(i=an.current,Ka(t))Kf(t);else{var l=Hs(Fn.current);switch(i){case 1:i=l.createElementNS("http://www.w3.org/2000/svg",r);break;case 2:i=l.createElementNS("http://www.w3.org/1998/Math/MathML",r);break;default:switch(r){case"svg":i=l.createElementNS("http://www.w3.org/2000/svg",r);break;case"math":i=l.createElementNS("http://www.w3.org/1998/Math/MathML",r);break;case"script":i=l.createElement("div"),i.innerHTML="<script><\/script>",i=i.removeChild(i.firstChild);break;case"select":i=typeof a.is=="string"?l.createElement("select",{is:a.is}):l.createElement("select"),a.multiple?i.multiple=!0:a.size&&(i.size=a.size);break;default:i=typeof a.is=="string"?l.createElement(r,{is:a.is}):l.createElement(r)}}i[it]=t,i[bt]=a;e:for(l=t.child;l!==null;){if(l.tag===5||l.tag===6)i.appendChild(l.stateNode);else if(l.tag!==4&&l.tag!==27&&l.child!==null){l.child.return=l,l=l.child;continue}if(l===t)break e;for(;l.sibling===null;){if(l.return===null||l.return===t)break e;l=l.return}l.sibling.return=l.return,l=l.sibling}t.stateNode=i;e:switch(ot(i,r,a),r){case"button":case"input":case"select":case"textarea":a=!!a.autoFocus;break e;case"img":a=!0;break e;default:a=!1}a&&fn(t)}}return Ee(t),au(t,t.type,e===null?null:e.memoizedProps,t.pendingProps,n),null;case 6:if(e&&t.stateNode!=null)e.memoizedProps!==a&&fn(t);else{if(typeof a!="string"&&t.stateNode===null)throw Error(D(166));if(e=Fn.current,Ka(t)){if(e=t.stateNode,n=t.memoizedProps,a=null,r=lt,r!==null)switch(r.tag){case 27:case 5:a=r.memoizedProps}e[it]=t,e=!!(e.nodeValue===n||a!==null&&a.suppressHydrationWarning===!0||gp(e.nodeValue,n)),e||oa(t,!0)}else e=Hs(e).createTextNode(a),e[it]=t,t.stateNode=e}return Ee(t),null;case 31:if(n=t.memoizedState,e===null||e.memoizedState!==null){if(a=Ka(t),n!==null){if(e===null){if(!a)throw Error(D(318));if(e=t.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(D(557));e[it]=t}else Da(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;Ee(t),e=!1}else n=Xo(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=n),e=!0;if(!e)return t.flags&256?(Tt(t),t):(Tt(t),null);if(t.flags&128)throw Error(D(558))}return Ee(t),null;case 13:if(a=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(r=Ka(t),a!==null&&a.dehydrated!==null){if(e===null){if(!r)throw Error(D(318));if(r=t.memoizedState,r=r!==null?r.dehydrated:null,!r)throw Error(D(317));r[it]=t}else Da(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;Ee(t),r=!1}else r=Xo(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=r),r=!0;if(!r)return t.flags&256?(Tt(t),t):(Tt(t),null)}return Tt(t),t.flags&128?(t.lanes=n,t):(n=a!==null,e=e!==null&&e.memoizedState!==null,n&&(a=t.child,r=null,a.alternate!==null&&a.alternate.memoizedState!==null&&a.alternate.memoizedState.cachePool!==null&&(r=a.alternate.memoizedState.cachePool.pool),i=null,a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(i=a.memoizedState.cachePool.pool),i!==r&&(a.flags|=2048)),n!==e&&n&&(t.child.flags|=8192),Bl(t,t.updateQueue),Ee(t),null);case 4:return kr(),e===null&&$d(t.stateNode.containerInfo),Ee(t),null;case 10:return xn(t.type),Ee(t),null;case 19:if(et(qe),a=t.memoizedState,a===null)return Ee(t),null;if(r=(t.flags&128)!==0,i=a.rendering,i===null)if(r)ui(a,!1);else{if(He!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(i=ks(e),i!==null){for(t.flags|=128,ui(a,!1),e=i.updateQueue,t.updateQueue=e,Bl(t,e),t.subtreeFlags=0,e=n,n=t.child;n!==null;)Cg(n,e),n=n.sibling;return xe(qe,qe.current&1|2),ce&&yn(t,a.treeForkCount),t.child}e=e.sibling}a.tail!==null&&Rt()>Ds&&(t.flags|=128,r=!0,ui(a,!1),t.lanes=4194304)}else{if(!r)if(e=ks(i),e!==null){if(t.flags|=128,r=!0,e=e.updateQueue,t.updateQueue=e,Bl(t,e),ui(a,!0),a.tail===null&&a.tailMode==="hidden"&&!i.alternate&&!ce)return Ee(t),null}else 2*Rt()-a.renderingStartTime>Ds&&n!==536870912&&(t.flags|=128,r=!0,ui(a,!1),t.lanes=4194304);a.isBackwards?(i.sibling=t.child,t.child=i):(e=a.last,e!==null?e.sibling=i:t.child=i,a.last=i)}return a.tail!==null?(e=a.tail,a.rendering=e,a.tail=e.sibling,a.renderingStartTime=Rt(),e.sibling=null,n=qe.current,xe(qe,r?n&1|2:n&1),ce&&yn(t,a.treeForkCount),e):(Ee(t),null);case 22:case 23:return Tt(t),bd(),a=t.memoizedState!==null,e!==null?e.memoizedState!==null!==a&&(t.flags|=8192):a&&(t.flags|=8192),a?n&536870912&&!(t.flags&128)&&(Ee(t),t.subtreeFlags&6&&(t.flags|=8192)):Ee(t),n=t.updateQueue,n!==null&&Bl(t,n.retryQueue),n=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(n=e.memoizedState.cachePool.pool),a=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),a!==n&&(t.flags|=2048),e!==null&&et(Oa),null;case 24:return n=null,e!==null&&(n=e.memoizedState.cache),t.memoizedState.cache!==n&&(t.flags|=2048),xn(Ke),Ee(t),null;case 25:return null;case 30:return null}throw Error(D(156,t.tag))}function Ib(e,t){switch(gd(t),t.tag){case 1:return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return xn(Ke),kr(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 26:case 27:case 5:return vs(t),null;case 31:if(t.memoizedState!==null){if(Tt(t),t.alternate===null)throw Error(D(340));Da()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 13:if(Tt(t),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(D(340));Da()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return et(qe),null;case 4:return kr(),null;case 10:return xn(t.type),null;case 22:case 23:return Tt(t),bd(),e!==null&&et(Oa),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 24:return xn(Ke),null;case 25:return null;default:return null}}function Cm(e,t){switch(gd(t),t.tag){case 3:xn(Ke),kr();break;case 26:case 27:case 5:vs(t);break;case 4:kr();break;case 31:t.memoizedState!==null&&Tt(t);break;case 13:Tt(t);break;case 19:et(qe);break;case 10:xn(t.type);break;case 22:case 23:Tt(t),bd(),e!==null&&et(Oa);break;case 24:xn(Ke)}}function hl(e,t){try{var n=t.updateQueue,a=n!==null?n.lastEffect:null;if(a!==null){var r=a.next;n=r;do{if((n.tag&e)===e){a=void 0;var i=n.create,l=n.inst;a=i(),l.destroy=a}n=n.next}while(n!==r)}}catch(s){ye(t,t.return,s)}}function ua(e,t,n){try{var a=t.updateQueue,r=a!==null?a.lastEffect:null;if(r!==null){var i=r.next;a=i;do{if((a.tag&e)===e){var l=a.inst,s=l.destroy;if(s!==void 0){l.destroy=void 0,r=t;var o=n,u=s;try{u()}catch(c){ye(r,o,c)}}}a=a.next}while(a!==i)}}catch(c){ye(t,t.return,c)}}function Om(e){var t=e.updateQueue;if(t!==null){var n=e.stateNode;try{Hg(t,n)}catch(a){ye(e,e.return,a)}}}function Nm(e,t,n){n.props=Ba(e.type,e.memoizedProps),n.state=e.memoizedState;try{n.componentWillUnmount()}catch(a){ye(e,t,a)}}function Ci(e,t){try{var n=e.ref;if(n!==null){switch(e.tag){case 26:case 27:case 5:var a=e.stateNode;break;case 30:a=e.stateNode;break;default:a=e.stateNode}typeof n=="function"?e.refCleanup=n(a):n.current=a}}catch(r){ye(e,t,r)}}function nn(e,t){var n=e.ref,a=e.refCleanup;if(n!==null)if(typeof a=="function")try{a()}catch(r){ye(e,t,r)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof n=="function")try{n(null)}catch(r){ye(e,t,r)}else n.current=null}function jm(e){var t=e.type,n=e.memoizedProps,a=e.stateNode;try{e:switch(t){case"button":case"input":case"select":case"textarea":n.autoFocus&&a.focus();break e;case"img":n.src?a.src=n.src:n.srcSet&&(a.srcset=n.srcSet)}}catch(r){ye(e,e.return,r)}}function ru(e,t,n){try{var a=e.stateNode;dw(a,e.type,n,t),a[bt]=t}catch(r){ye(e,e.return,r)}}function Dm(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&fa(e.type)||e.tag===4}function iu(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||Dm(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&fa(e.type)||e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function hc(e,t,n){var a=e.tag;if(a===5||a===6)e=e.stateNode,t?(n.nodeType===9?n.body:n.nodeName==="HTML"?n.ownerDocument.body:n).insertBefore(e,t):(t=n.nodeType===9?n.body:n.nodeName==="HTML"?n.ownerDocument.body:n,t.appendChild(e),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=wn));else if(a!==4&&(a===27&&fa(e.type)&&(n=e.stateNode,t=null),e=e.child,e!==null))for(hc(e,t,n),e=e.sibling;e!==null;)hc(e,t,n),e=e.sibling}function js(e,t,n){var a=e.tag;if(a===5||a===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(a!==4&&(a===27&&fa(e.type)&&(n=e.stateNode),e=e.child,e!==null))for(js(e,t,n),e=e.sibling;e!==null;)js(e,t,n),e=e.sibling}function Um(e){var t=e.stateNode,n=e.memoizedProps;try{for(var a=e.type,r=t.attributes;r.length;)t.removeAttributeNode(r[0]);ot(t,a,n),t[it]=e,t[bt]=n}catch(i){ye(e,e.return,i)}}var vn=!1,Ye=!1,lu=!1,vh=typeof WeakSet=="function"?WeakSet:Set,Fe=null;function Vb(e,t){if(e=e.containerInfo,wc=Is,e=_g(e),ud(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var a=n.getSelection&&n.getSelection();if(a&&a.rangeCount!==0){n=a.anchorNode;var r=a.anchorOffset,i=a.focusNode;a=a.focusOffset;try{n.nodeType,i.nodeType}catch{n=null;break e}var l=0,s=-1,o=-1,u=0,c=0,h=e,d=null;t:for(;;){for(var f;h!==n||r!==0&&h.nodeType!==3||(s=l+r),h!==i||a!==0&&h.nodeType!==3||(o=l+a),h.nodeType===3&&(l+=h.nodeValue.length),(f=h.firstChild)!==null;)d=h,h=f;for(;;){if(h===e)break t;if(d===n&&++u===r&&(s=l),d===i&&++c===a&&(o=l),(f=h.nextSibling)!==null)break;h=d,d=h.parentNode}h=f}n=s===-1||o===-1?null:{start:s,end:o}}else n=null}n=n||{start:0,end:0}}else n=null;for(_c={focusedElem:e,selectionRange:n},Is=!1,Fe=t;Fe!==null;)if(t=Fe,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,Fe=e;else for(;Fe!==null;){switch(t=Fe,i=t.alternate,e=t.flags,t.tag){case 0:if(e&4&&(e=t.updateQueue,e=e!==null?e.events:null,e!==null))for(n=0;n<e.length;n++)r=e[n],r.ref.impl=r.nextImpl;break;case 11:case 15:break;case 1:if(e&1024&&i!==null){e=void 0,n=t,r=i.memoizedProps,i=i.memoizedState,a=n.stateNode;try{var v=Ba(n.type,r);e=a.getSnapshotBeforeUpdate(v,i),a.__reactInternalSnapshotBeforeUpdate=e}catch(b){ye(n,n.return,b)}}break;case 3:if(e&1024){if(e=t.stateNode.containerInfo,n=e.nodeType,n===9)xc(e);else if(n===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":xc(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if(e&1024)throw Error(D(163))}if(e=t.sibling,e!==null){e.return=t.return,Fe=e;break}Fe=t.return}}function Mm(e,t,n){var a=n.flags;switch(n.tag){case 0:case 11:case 15:gn(e,n),a&4&&hl(5,n);break;case 1:if(gn(e,n),a&4)if(e=n.stateNode,t===null)try{e.componentDidMount()}catch(l){ye(n,n.return,l)}else{var r=Ba(n.type,t.memoizedProps);t=t.memoizedState;try{e.componentDidUpdate(r,t,e.__reactInternalSnapshotBeforeUpdate)}catch(l){ye(n,n.return,l)}}a&64&&Om(n),a&512&&Ci(n,n.return);break;case 3:if(gn(e,n),a&64&&(e=n.updateQueue,e!==null)){if(t=null,n.child!==null)switch(n.child.tag){case 27:case 5:t=n.child.stateNode;break;case 1:t=n.child.stateNode}try{Hg(e,t)}catch(l){ye(n,n.return,l)}}break;case 27:t===null&&a&4&&Um(n);case 26:case 5:gn(e,n),t===null&&a&4&&jm(n),a&512&&Ci(n,n.return);break;case 12:gn(e,n);break;case 31:gn(e,n),a&4&&Lm(e,n);break;case 13:gn(e,n),a&4&&Hm(e,n),a&64&&(e=n.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(n=Wb.bind(null,n),bw(e,n))));break;case 22:if(a=n.memoizedState!==null||vn,!a){t=t!==null&&t.memoizedState!==null||Ye,r=vn;var i=Ye;vn=a,(Ye=t)&&!i?mn(e,n,(n.subtreeFlags&8772)!==0):gn(e,n),vn=r,Ye=i}break;case 30:break;default:gn(e,n)}}function zm(e){var t=e.alternate;t!==null&&(e.alternate=null,zm(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&ad(t)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var Ne=null,pt=!1;function hn(e,t,n){for(n=n.child;n!==null;)Bm(e,t,n),n=n.sibling}function Bm(e,t,n){if(Ct&&typeof Ct.onCommitFiberUnmount=="function")try{Ct.onCommitFiberUnmount(ll,n)}catch{}switch(n.tag){case 26:Ye||nn(n,t),hn(e,t,n),n.memoizedState?n.memoizedState.count--:n.stateNode&&(n=n.stateNode,n.parentNode.removeChild(n));break;case 27:Ye||nn(n,t);var a=Ne,r=pt;fa(n.type)&&(Ne=n.stateNode,pt=!1),hn(e,t,n),Di(n.stateNode),Ne=a,pt=r;break;case 5:Ye||nn(n,t);case 6:if(a=Ne,r=pt,Ne=null,hn(e,t,n),Ne=a,pt=r,Ne!==null)if(pt)try{(Ne.nodeType===9?Ne.body:Ne.nodeName==="HTML"?Ne.ownerDocument.body:Ne).removeChild(n.stateNode)}catch(i){ye(n,t,i)}else try{Ne.removeChild(n.stateNode)}catch(i){ye(n,t,i)}break;case 18:Ne!==null&&(pt?(e=Ne,Nh(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,n.stateNode),Br(e)):Nh(Ne,n.stateNode));break;case 4:a=Ne,r=pt,Ne=n.stateNode.containerInfo,pt=!0,hn(e,t,n),Ne=a,pt=r;break;case 0:case 11:case 14:case 15:ua(2,n,t),Ye||ua(4,n,t),hn(e,t,n);break;case 1:Ye||(nn(n,t),a=n.stateNode,typeof a.componentWillUnmount=="function"&&Nm(n,t,a)),hn(e,t,n);break;case 21:hn(e,t,n);break;case 22:Ye=(a=Ye)||n.memoizedState!==null,hn(e,t,n),Ye=a;break;default:hn(e,t,n)}}function Lm(e,t){if(t.memoizedState===null&&(e=t.alternate,e!==null&&(e=e.memoizedState,e!==null))){e=e.dehydrated;try{Br(e)}catch(n){ye(t,t.return,n)}}}function Hm(e,t){if(t.memoizedState===null&&(e=t.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{Br(e)}catch(n){ye(t,t.return,n)}}function Yb(e){switch(e.tag){case 31:case 13:case 19:var t=e.stateNode;return t===null&&(t=e.stateNode=new vh),t;case 22:return e=e.stateNode,t=e._retryCache,t===null&&(t=e._retryCache=new vh),t;default:throw Error(D(435,e.tag))}}function Ll(e,t){var n=Yb(e);t.forEach(function(a){if(!n.has(a)){n.add(a);var r=ew.bind(null,e,a);a.then(r,r)}})}function gt(e,t){var n=t.deletions;if(n!==null)for(var a=0;a<n.length;a++){var r=n[a],i=e,l=t,s=l;e:for(;s!==null;){switch(s.tag){case 27:if(fa(s.type)){Ne=s.stateNode,pt=!1;break e}break;case 5:Ne=s.stateNode,pt=!1;break e;case 3:case 4:Ne=s.stateNode.containerInfo,pt=!0;break e}s=s.return}if(Ne===null)throw Error(D(160));Bm(i,l,r),Ne=null,pt=!1,i=r.alternate,i!==null&&(i.return=null),r.return=null}if(t.subtreeFlags&13886)for(t=t.child;t!==null;)qm(t,e),t=t.sibling}var Jt=null;function qm(e,t){var n=e.alternate,a=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:gt(t,e),mt(e),a&4&&(ua(3,e,e.return),hl(3,e),ua(5,e,e.return));break;case 1:gt(t,e),mt(e),a&512&&(Ye||n===null||nn(n,n.return)),a&64&&vn&&(e=e.updateQueue,e!==null&&(a=e.callbacks,a!==null&&(n=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=n===null?a:n.concat(a))));break;case 26:var r=Jt;if(gt(t,e),mt(e),a&512&&(Ye||n===null||nn(n,n.return)),a&4){var i=n!==null?n.memoizedState:null;if(a=e.memoizedState,n===null)if(a===null)if(e.stateNode===null){e:{a=e.type,n=e.memoizedProps,r=r.ownerDocument||r;t:switch(a){case"title":i=r.getElementsByTagName("title")[0],(!i||i[ul]||i[it]||i.namespaceURI==="http://www.w3.org/2000/svg"||i.hasAttribute("itemprop"))&&(i=r.createElement(a),r.head.insertBefore(i,r.querySelector("head > title"))),ot(i,a,n),i[it]=e,We(i),a=i;break e;case"link":var l=Lh("link","href",r).get(a+(n.href||""));if(l){for(var s=0;s<l.length;s++)if(i=l[s],i.getAttribute("href")===(n.href==null||n.href===""?null:n.href)&&i.getAttribute("rel")===(n.rel==null?null:n.rel)&&i.getAttribute("title")===(n.title==null?null:n.title)&&i.getAttribute("crossorigin")===(n.crossOrigin==null?null:n.crossOrigin)){l.splice(s,1);break t}}i=r.createElement(a),ot(i,a,n),r.head.appendChild(i);break;case"meta":if(l=Lh("meta","content",r).get(a+(n.content||""))){for(s=0;s<l.length;s++)if(i=l[s],i.getAttribute("content")===(n.content==null?null:""+n.content)&&i.getAttribute("name")===(n.name==null?null:n.name)&&i.getAttribute("property")===(n.property==null?null:n.property)&&i.getAttribute("http-equiv")===(n.httpEquiv==null?null:n.httpEquiv)&&i.getAttribute("charset")===(n.charSet==null?null:n.charSet)){l.splice(s,1);break t}}i=r.createElement(a),ot(i,a,n),r.head.appendChild(i);break;default:throw Error(D(468,a))}i[it]=e,We(i),a=i}e.stateNode=a}else Hh(r,e.type,e.stateNode);else e.stateNode=Bh(r,a,e.memoizedProps);else i!==a?(i===null?n.stateNode!==null&&(n=n.stateNode,n.parentNode.removeChild(n)):i.count--,a===null?Hh(r,e.type,e.stateNode):Bh(r,a,e.memoizedProps)):a===null&&e.stateNode!==null&&ru(e,e.memoizedProps,n.memoizedProps)}break;case 27:gt(t,e),mt(e),a&512&&(Ye||n===null||nn(n,n.return)),n!==null&&a&4&&ru(e,e.memoizedProps,n.memoizedProps);break;case 5:if(gt(t,e),mt(e),a&512&&(Ye||n===null||nn(n,n.return)),e.flags&32){r=e.stateNode;try{Cr(r,"")}catch(v){ye(e,e.return,v)}}a&4&&e.stateNode!=null&&(r=e.memoizedProps,ru(e,r,n!==null?n.memoizedProps:r)),a&1024&&(lu=!0);break;case 6:if(gt(t,e),mt(e),a&4){if(e.stateNode===null)throw Error(D(162));a=e.memoizedProps,n=e.stateNode;try{n.nodeValue=a}catch(v){ye(e,e.return,v)}}break;case 3:if(ds=null,r=Jt,Jt=qs(t.containerInfo),gt(t,e),Jt=r,mt(e),a&4&&n!==null&&n.memoizedState.isDehydrated)try{Br(t.containerInfo)}catch(v){ye(e,e.return,v)}lu&&(lu=!1,$m(e));break;case 4:a=Jt,Jt=qs(e.stateNode.containerInfo),gt(t,e),mt(e),Jt=a;break;case 12:gt(t,e),mt(e);break;case 31:gt(t,e),mt(e),a&4&&(a=e.updateQueue,a!==null&&(e.updateQueue=null,Ll(e,a)));break;case 13:gt(t,e),mt(e),e.child.flags&8192&&e.memoizedState!==null!=(n!==null&&n.memoizedState!==null)&&(fo=Rt()),a&4&&(a=e.updateQueue,a!==null&&(e.updateQueue=null,Ll(e,a)));break;case 22:r=e.memoizedState!==null;var o=n!==null&&n.memoizedState!==null,u=vn,c=Ye;if(vn=u||r,Ye=c||o,gt(t,e),Ye=c,vn=u,mt(e),a&8192)e:for(t=e.stateNode,t._visibility=r?t._visibility&-2:t._visibility|1,r&&(n===null||o||vn||Ye||xa(e)),n=null,t=e;;){if(t.tag===5||t.tag===26){if(n===null){o=n=t;try{if(i=o.stateNode,r)l=i.style,typeof l.setProperty=="function"?l.setProperty("display","none","important"):l.display="none";else{s=o.stateNode;var h=o.memoizedProps.style,d=h!=null&&h.hasOwnProperty("display")?h.display:null;s.style.display=d==null||typeof d=="boolean"?"":(""+d).trim()}}catch(v){ye(o,o.return,v)}}}else if(t.tag===6){if(n===null){o=t;try{o.stateNode.nodeValue=r?"":o.memoizedProps}catch(v){ye(o,o.return,v)}}}else if(t.tag===18){if(n===null){o=t;try{var f=o.stateNode;r?jh(f,!0):jh(o.stateNode,!1)}catch(v){ye(o,o.return,v)}}}else if((t.tag!==22&&t.tag!==23||t.memoizedState===null||t===e)&&t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;n===t&&(n=null),t=t.return}n===t&&(n=null),t.sibling.return=t.return,t=t.sibling}a&4&&(a=e.updateQueue,a!==null&&(n=a.retryQueue,n!==null&&(a.retryQueue=null,Ll(e,n))));break;case 19:gt(t,e),mt(e),a&4&&(a=e.updateQueue,a!==null&&(e.updateQueue=null,Ll(e,a)));break;case 30:break;case 21:break;default:gt(t,e),mt(e)}}function mt(e){var t=e.flags;if(t&2){try{for(var n,a=e.return;a!==null;){if(Dm(a)){n=a;break}a=a.return}if(n==null)throw Error(D(160));switch(n.tag){case 27:var r=n.stateNode,i=iu(e);js(e,i,r);break;case 5:var l=n.stateNode;n.flags&32&&(Cr(l,""),n.flags&=-33);var s=iu(e);js(e,s,l);break;case 3:case 4:var o=n.stateNode.containerInfo,u=iu(e);hc(e,u,o);break;default:throw Error(D(161))}}catch(c){ye(e,e.return,c)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function $m(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var t=e;$m(t),t.tag===5&&t.flags&1024&&t.stateNode.reset(),e=e.sibling}}function gn(e,t){if(t.subtreeFlags&8772)for(t=t.child;t!==null;)Mm(e,t.alternate,t),t=t.sibling}function xa(e){for(e=e.child;e!==null;){var t=e;switch(t.tag){case 0:case 11:case 14:case 15:ua(4,t,t.return),xa(t);break;case 1:nn(t,t.return);var n=t.stateNode;typeof n.componentWillUnmount=="function"&&Nm(t,t.return,n),xa(t);break;case 27:Di(t.stateNode);case 26:case 5:nn(t,t.return),xa(t);break;case 22:t.memoizedState===null&&xa(t);break;case 30:xa(t);break;default:xa(t)}e=e.sibling}}function mn(e,t,n){for(n=n&&(t.subtreeFlags&8772)!==0,t=t.child;t!==null;){var a=t.alternate,r=e,i=t,l=i.flags;switch(i.tag){case 0:case 11:case 15:mn(r,i,n),hl(4,i);break;case 1:if(mn(r,i,n),a=i,r=a.stateNode,typeof r.componentDidMount=="function")try{r.componentDidMount()}catch(u){ye(a,a.return,u)}if(a=i,r=a.updateQueue,r!==null){var s=a.stateNode;try{var o=r.shared.hiddenCallbacks;if(o!==null)for(r.shared.hiddenCallbacks=null,r=0;r<o.length;r++)Lg(o[r],s)}catch(u){ye(a,a.return,u)}}n&&l&64&&Om(i),Ci(i,i.return);break;case 27:Um(i);case 26:case 5:mn(r,i,n),n&&a===null&&l&4&&jm(i),Ci(i,i.return);break;case 12:mn(r,i,n);break;case 31:mn(r,i,n),n&&l&4&&Lm(r,i);break;case 13:mn(r,i,n),n&&l&4&&Hm(r,i);break;case 22:i.memoizedState===null&&mn(r,i,n),Ci(i,i.return);break;case 30:break;default:mn(r,i,n)}t=t.sibling}}function Md(e,t){var n=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(n=e.memoizedState.cachePool.pool),e=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(e=t.memoizedState.cachePool.pool),e!==n&&(e!=null&&e.refCount++,n!=null&&dl(n))}function zd(e,t){e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&dl(e))}function Pt(e,t,n,a){if(t.subtreeFlags&10256)for(t=t.child;t!==null;)Gm(e,t,n,a),t=t.sibling}function Gm(e,t,n,a){var r=t.flags;switch(t.tag){case 0:case 11:case 15:Pt(e,t,n,a),r&2048&&hl(9,t);break;case 1:Pt(e,t,n,a);break;case 3:Pt(e,t,n,a),r&2048&&(e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&dl(e)));break;case 12:if(r&2048){Pt(e,t,n,a),e=t.stateNode;try{var i=t.memoizedProps,l=i.id,s=i.onPostCommit;typeof s=="function"&&s(l,t.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(o){ye(t,t.return,o)}}else Pt(e,t,n,a);break;case 31:Pt(e,t,n,a);break;case 13:Pt(e,t,n,a);break;case 23:break;case 22:i=t.stateNode,l=t.alternate,t.memoizedState!==null?i._visibility&2?Pt(e,t,n,a):Oi(e,t):i._visibility&2?Pt(e,t,n,a):(i._visibility|=2,tr(e,t,n,a,(t.subtreeFlags&10256)!==0||!1)),r&2048&&Md(l,t);break;case 24:Pt(e,t,n,a),r&2048&&zd(t.alternate,t);break;default:Pt(e,t,n,a)}}function tr(e,t,n,a,r){for(r=r&&((t.subtreeFlags&10256)!==0||!1),t=t.child;t!==null;){var i=e,l=t,s=n,o=a,u=l.flags;switch(l.tag){case 0:case 11:case 15:tr(i,l,s,o,r),hl(8,l);break;case 23:break;case 22:var c=l.stateNode;l.memoizedState!==null?c._visibility&2?tr(i,l,s,o,r):Oi(i,l):(c._visibility|=2,tr(i,l,s,o,r)),r&&u&2048&&Md(l.alternate,l);break;case 24:tr(i,l,s,o,r),r&&u&2048&&zd(l.alternate,l);break;default:tr(i,l,s,o,r)}t=t.sibling}}function Oi(e,t){if(t.subtreeFlags&10256)for(t=t.child;t!==null;){var n=e,a=t,r=a.flags;switch(a.tag){case 22:Oi(n,a),r&2048&&Md(a.alternate,a);break;case 24:Oi(n,a),r&2048&&zd(a.alternate,a);break;default:Oi(n,a)}t=t.sibling}}var vi=8192;function Pa(e,t,n){if(e.subtreeFlags&vi)for(e=e.child;e!==null;)Im(e,t,n),e=e.sibling}function Im(e,t,n){switch(e.tag){case 26:Pa(e,t,n),e.flags&vi&&e.memoizedState!==null&&Nw(n,Jt,e.memoizedState,e.memoizedProps);break;case 5:Pa(e,t,n);break;case 3:case 4:var a=Jt;Jt=qs(e.stateNode.containerInfo),Pa(e,t,n),Jt=a;break;case 22:e.memoizedState===null&&(a=e.alternate,a!==null&&a.memoizedState!==null?(a=vi,vi=16777216,Pa(e,t,n),vi=a):Pa(e,t,n));break;default:Pa(e,t,n)}}function Vm(e){var t=e.alternate;if(t!==null&&(e=t.child,e!==null)){t.child=null;do t=e.sibling,e.sibling=null,e=t;while(e!==null)}}function ci(e){var t=e.deletions;if(e.flags&16){if(t!==null)for(var n=0;n<t.length;n++){var a=t[n];Fe=a,Km(a,e)}Vm(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)Ym(e),e=e.sibling}function Ym(e){switch(e.tag){case 0:case 11:case 15:ci(e),e.flags&2048&&ua(9,e,e.return);break;case 3:ci(e);break;case 12:ci(e);break;case 22:var t=e.stateNode;e.memoizedState!==null&&t._visibility&2&&(e.return===null||e.return.tag!==13)?(t._visibility&=-3,us(e)):ci(e);break;default:ci(e)}}function us(e){var t=e.deletions;if(e.flags&16){if(t!==null)for(var n=0;n<t.length;n++){var a=t[n];Fe=a,Km(a,e)}Vm(e)}for(e=e.child;e!==null;){switch(t=e,t.tag){case 0:case 11:case 15:ua(8,t,t.return),us(t);break;case 22:n=t.stateNode,n._visibility&2&&(n._visibility&=-3,us(t));break;default:us(t)}e=e.sibling}}function Km(e,t){for(;Fe!==null;){var n=Fe;switch(n.tag){case 0:case 11:case 15:ua(8,n,t);break;case 23:case 22:if(n.memoizedState!==null&&n.memoizedState.cachePool!==null){var a=n.memoizedState.cachePool.pool;a!=null&&a.refCount++}break;case 24:dl(n.memoizedState.cache)}if(a=n.child,a!==null)a.return=n,Fe=a;else e:for(n=e;Fe!==null;){a=Fe;var r=a.sibling,i=a.return;if(zm(a),a===n){Fe=null;break e}if(r!==null){r.return=i,Fe=r;break e}Fe=i}}}var Kb={getCacheForType:function(e){var t=st(Ke),n=t.data.get(e);return n===void 0&&(n=e(),t.data.set(e,n)),n},cacheSignal:function(){return st(Ke).controller.signal}},Pb=typeof WeakMap=="function"?WeakMap:Map,he=0,_e=null,oe=null,ue=0,pe=0,Et=null,Xn=!1,Pr=!1,Bd=!1,On=0,He=0,ca=0,ja=0,Ld=0,kt=0,Dr=0,Ni=null,yt=null,gc=!1,fo=0,Pm=0,Ds=1/0,Us=null,na=null,Qe=0,aa=null,Ur=null,En=0,mc=0,pc=null,Xm=null,ji=0,yc=null;function Nt(){return he&2&&ue!==0?ue&-ue:te.T!==null?qd():ag()}function Jm(){if(kt===0)if(!(ue&536870912)||ce){var e=Ol;Ol<<=1,!(Ol&3932160)&&(Ol=262144),kt=e}else kt=536870912;return e=Dt.current,e!==null&&(e.flags|=32),kt}function vt(e,t,n){(e===_e&&(pe===2||pe===9)||e.cancelPendingCommit!==null)&&(Mr(e,0),Jn(e,ue,kt,!1)),ol(e,n),(!(he&2)||e!==_e)&&(e===_e&&(!(he&2)&&(ja|=n),He===4&&Jn(e,ue,kt,!1)),sn(e))}function Qm(e,t,n){if(he&6)throw Error(D(327));var a=!n&&(t&127)===0&&(t&e.expiredLanes)===0||sl(e,t),r=a?Qb(e,t):su(e,t,!0),i=a;do{if(r===0){Pr&&!a&&Jn(e,t,0,!1);break}else{if(n=e.current.alternate,i&&!Xb(n)){r=su(e,t,!1),i=!1;continue}if(r===2){if(i=t,e.errorRecoveryDisabledLanes&i)var l=0;else l=e.pendingLanes&-536870913,l=l!==0?l:l&536870912?536870912:0;if(l!==0){t=l;e:{var s=e;r=Ni;var o=s.current.memoizedState.isDehydrated;if(o&&(Mr(s,l).flags|=256),l=su(s,l,!1),l!==2){if(Bd&&!o){s.errorRecoveryDisabledLanes|=i,ja|=i,r=4;break e}i=yt,yt=r,i!==null&&(yt===null?yt=i:yt.push.apply(yt,i))}r=l}if(i=!1,r!==2)continue}}if(r===1){Mr(e,0),Jn(e,t,0,!0);break}e:{switch(a=e,i=r,i){case 0:case 1:throw Error(D(345));case 4:if((t&4194048)!==t)break;case 6:Jn(a,t,kt,!Xn);break e;case 2:yt=null;break;case 3:case 5:break;default:throw Error(D(329))}if((t&62914560)===t&&(r=fo+300-Rt(),10<r)){if(Jn(a,t,kt,!Xn),eo(a,0,!0)!==0)break e;En=t,a.timeoutHandle=pp(bh.bind(null,a,n,yt,Us,gc,t,kt,ja,Dr,Xn,i,"Throttled",-0,0),r);break e}bh(a,n,yt,Us,gc,t,kt,ja,Dr,Xn,i,null,-0,0)}}break}while(!0);sn(e)}function bh(e,t,n,a,r,i,l,s,o,u,c,h,d,f){if(e.timeoutHandle=-1,h=t.subtreeFlags,h&8192||(h&16785408)===16785408){h={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:wn},Im(t,i,h);var v=(i&62914560)===i?fo-Rt():(i&4194048)===i?Pm-Rt():0;if(v=jw(h,v),v!==null){En=i,e.cancelPendingCommit=v(_h.bind(null,e,t,i,n,a,r,l,s,o,c,h,null,d,f)),Jn(e,i,l,!u);return}}_h(e,t,i,n,a,r,l,s,o)}function Xb(e){for(var t=e;;){var n=t.tag;if((n===0||n===11||n===15)&&t.flags&16384&&(n=t.updateQueue,n!==null&&(n=n.stores,n!==null)))for(var a=0;a<n.length;a++){var r=n[a],i=r.getSnapshot;r=r.value;try{if(!jt(i(),r))return!1}catch{return!1}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Jn(e,t,n,a){t&=~Ld,t&=~ja,e.suspendedLanes|=t,e.pingedLanes&=~t,a&&(e.warmLanes|=t),a=e.expirationTimes;for(var r=t;0<r;){var i=31-Ot(r),l=1<<i;a[i]=-1,r&=~l}n!==0&&eg(e,n,t)}function ho(){return he&6?!0:(gl(0),!1)}function Hd(){if(oe!==null){if(pe===0)var e=oe.return;else e=oe,_n=Ga=null,Ed(e),xr=null,Ii=0,e=oe;for(;e!==null;)Cm(e.alternate,e),e=e.return;oe=null}}function Mr(e,t){var n=e.timeoutHandle;n!==-1&&(e.timeoutHandle=-1,gw(n)),n=e.cancelPendingCommit,n!==null&&(e.cancelPendingCommit=null,n()),En=0,Hd(),_e=e,oe=n=Sn(e.current,null),ue=t,pe=0,Et=null,Xn=!1,Pr=sl(e,t),Bd=!1,Dr=kt=Ld=ja=ca=He=0,yt=Ni=null,gc=!1,t&8&&(t|=t&32);var a=e.entangledLanes;if(a!==0)for(e=e.entanglements,a&=t;0<a;){var r=31-Ot(a),i=1<<r;t|=e[r],a&=~i}return On=t,ro(),n}function Zm(e,t){le=null,te.H=Yi,t===Kr||t===lo?(t=Zf(),pe=3):t===yd?(t=Zf(),pe=4):pe=t===Dd?8:t!==null&&typeof t=="object"&&typeof t.then=="function"?6:1,Et=t,oe===null&&(He=1,Os(e,$t(t,e.current)))}function Fm(){var e=Dt.current;return e===null?!0:(ue&4194048)===ue?It===null:(ue&62914560)===ue||ue&536870912?e===It:!1}function Wm(){var e=te.H;return te.H=Yi,e===null?Yi:e}function ep(){var e=te.A;return te.A=Kb,e}function Ms(){He=4,Xn||(ue&4194048)!==ue&&Dt.current!==null||(Pr=!0),!(ca&134217727)&&!(ja&134217727)||_e===null||Jn(_e,ue,kt,!1)}function su(e,t,n){var a=he;he|=2;var r=Wm(),i=ep();(_e!==e||ue!==t)&&(Us=null,Mr(e,t)),t=!1;var l=He;e:do try{if(pe!==0&&oe!==null){var s=oe,o=Et;switch(pe){case 8:Hd(),l=6;break e;case 3:case 2:case 9:case 6:Dt.current===null&&(t=!0);var u=pe;if(pe=0,Et=null,yr(e,s,o,u),n&&Pr){l=0;break e}break;default:u=pe,pe=0,Et=null,yr(e,s,o,u)}}Jb(),l=He;break}catch(c){Zm(e,c)}while(!0);return t&&e.shellSuspendCounter++,_n=Ga=null,he=a,te.H=r,te.A=i,oe===null&&(_e=null,ue=0,ro()),l}function Jb(){for(;oe!==null;)tp(oe)}function Qb(e,t){var n=he;he|=2;var a=Wm(),r=ep();_e!==e||ue!==t?(Us=null,Ds=Rt()+500,Mr(e,t)):Pr=sl(e,t);e:do try{if(pe!==0&&oe!==null){t=oe;var i=Et;t:switch(pe){case 1:pe=0,Et=null,yr(e,t,i,1);break;case 2:case 9:if(Qf(i)){pe=0,Et=null,wh(t);break}t=function(){pe!==2&&pe!==9||_e!==e||(pe=7),sn(e)},i.then(t,t);break e;case 3:pe=7;break e;case 4:pe=5;break e;case 7:Qf(i)?(pe=0,Et=null,wh(t)):(pe=0,Et=null,yr(e,t,i,7));break;case 5:var l=null;switch(oe.tag){case 26:l=oe.memoizedState;case 5:case 27:var s=oe;if(l?_p(l):s.stateNode.complete){pe=0,Et=null;var o=s.sibling;if(o!==null)oe=o;else{var u=s.return;u!==null?(oe=u,go(u)):oe=null}break t}}pe=0,Et=null,yr(e,t,i,5);break;case 6:pe=0,Et=null,yr(e,t,i,6);break;case 8:Hd(),He=6;break e;default:throw Error(D(462))}}Zb();break}catch(c){Zm(e,c)}while(!0);return _n=Ga=null,te.H=a,te.A=r,he=n,oe!==null?0:(_e=null,ue=0,ro(),He)}function Zb(){for(;oe!==null&&!wv();)tp(oe)}function tp(e){var t=Rm(e.alternate,e,On);e.memoizedProps=e.pendingProps,t===null?go(e):oe=t}function wh(e){var t=e,n=t.alternate;switch(t.tag){case 15:case 0:t=hh(n,t,t.pendingProps,t.type,void 0,ue);break;case 11:t=hh(n,t,t.pendingProps,t.type.render,t.ref,ue);break;case 5:Ed(t);default:Cm(n,t),t=oe=Cg(t,On),t=Rm(n,t,On)}e.memoizedProps=e.pendingProps,t===null?go(e):oe=t}function yr(e,t,n,a){_n=Ga=null,Ed(t),xr=null,Ii=0;var r=t.return;try{if(Hb(e,r,t,n,ue)){He=1,Os(e,$t(n,e.current)),oe=null;return}}catch(i){if(r!==null)throw oe=r,i;He=1,Os(e,$t(n,e.current)),oe=null;return}t.flags&32768?(ce||a===1?e=!0:Pr||ue&536870912?e=!1:(Xn=e=!0,(a===2||a===9||a===3||a===6)&&(a=Dt.current,a!==null&&a.tag===13&&(a.flags|=16384))),np(t,e)):go(t)}function go(e){var t=e;do{if(t.flags&32768){np(t,Xn);return}e=t.return;var n=Gb(t.alternate,t,On);if(n!==null){oe=n;return}if(t=t.sibling,t!==null){oe=t;return}oe=t=e}while(t!==null);He===0&&(He=5)}function np(e,t){do{var n=Ib(e.alternate,e);if(n!==null){n.flags&=32767,oe=n;return}if(n=e.return,n!==null&&(n.flags|=32768,n.subtreeFlags=0,n.deletions=null),!t&&(e=e.sibling,e!==null)){oe=e;return}oe=e=n}while(e!==null);He=6,oe=null}function _h(e,t,n,a,r,i,l,s,o){e.cancelPendingCommit=null;do mo();while(Qe!==0);if(he&6)throw Error(D(327));if(t!==null){if(t===e.current)throw Error(D(177));if(i=t.lanes|t.childLanes,i|=cd,Ov(e,n,i,l,s,o),e===_e&&(oe=_e=null,ue=0),Ur=t,aa=e,En=n,mc=i,pc=r,Xm=a,t.subtreeFlags&10256||t.flags&10256?(e.callbackNode=null,e.callbackPriority=0,tw(bs,function(){return sp(),null})):(e.callbackNode=null,e.callbackPriority=0),a=(t.flags&13878)!==0,t.subtreeFlags&13878||a){a=te.T,te.T=null,r=ge.p,ge.p=2,l=he,he|=4;try{Vb(e,t,n)}finally{he=l,ge.p=r,te.T=a}}Qe=1,ap(),rp(),ip()}}function ap(){if(Qe===1){Qe=0;var e=aa,t=Ur,n=(t.flags&13878)!==0;if(t.subtreeFlags&13878||n){n=te.T,te.T=null;var a=ge.p;ge.p=2;var r=he;he|=4;try{qm(t,e);var i=_c,l=_g(e.containerInfo),s=i.focusedElem,o=i.selectionRange;if(l!==s&&s&&s.ownerDocument&&wg(s.ownerDocument.documentElement,s)){if(o!==null&&ud(s)){var u=o.start,c=o.end;if(c===void 0&&(c=u),"selectionStart"in s)s.selectionStart=u,s.selectionEnd=Math.min(c,s.value.length);else{var h=s.ownerDocument||document,d=h&&h.defaultView||window;if(d.getSelection){var f=d.getSelection(),v=s.textContent.length,b=Math.min(o.start,v),E=o.end===void 0?b:Math.min(o.end,v);!f.extend&&b>E&&(l=E,E=b,b=l);var p=If(s,b),m=If(s,E);if(p&&m&&(f.rangeCount!==1||f.anchorNode!==p.node||f.anchorOffset!==p.offset||f.focusNode!==m.node||f.focusOffset!==m.offset)){var g=h.createRange();g.setStart(p.node,p.offset),f.removeAllRanges(),b>E?(f.addRange(g),f.extend(m.node,m.offset)):(g.setEnd(m.node,m.offset),f.addRange(g))}}}}for(h=[],f=s;f=f.parentNode;)f.nodeType===1&&h.push({element:f,left:f.scrollLeft,top:f.scrollTop});for(typeof s.focus=="function"&&s.focus(),s=0;s<h.length;s++){var w=h[s];w.element.scrollLeft=w.left,w.element.scrollTop=w.top}}Is=!!wc,_c=wc=null}finally{he=r,ge.p=a,te.T=n}}e.current=t,Qe=2}}function rp(){if(Qe===2){Qe=0;var e=aa,t=Ur,n=(t.flags&8772)!==0;if(t.subtreeFlags&8772||n){n=te.T,te.T=null;var a=ge.p;ge.p=2;var r=he;he|=4;try{Mm(e,t.alternate,t)}finally{he=r,ge.p=a,te.T=n}}Qe=3}}function ip(){if(Qe===4||Qe===3){Qe=0,_v();var e=aa,t=Ur,n=En,a=Xm;t.subtreeFlags&10256||t.flags&10256?Qe=5:(Qe=0,Ur=aa=null,lp(e,e.pendingLanes));var r=e.pendingLanes;if(r===0&&(na=null),nd(n),t=t.stateNode,Ct&&typeof Ct.onCommitFiberRoot=="function")try{Ct.onCommitFiberRoot(ll,t,void 0,(t.current.flags&128)===128)}catch{}if(a!==null){t=te.T,r=ge.p,ge.p=2,te.T=null;try{for(var i=e.onRecoverableError,l=0;l<a.length;l++){var s=a[l];i(s.value,{componentStack:s.stack})}}finally{te.T=t,ge.p=r}}En&3&&mo(),sn(e),r=e.pendingLanes,n&261930&&r&42?e===yc?ji++:(ji=0,yc=e):ji=0,gl(0)}}function lp(e,t){(e.pooledCacheLanes&=t)===0&&(t=e.pooledCache,t!=null&&(e.pooledCache=null,dl(t)))}function mo(){return ap(),rp(),ip(),sp()}function sp(){if(Qe!==5)return!1;var e=aa,t=mc;mc=0;var n=nd(En),a=te.T,r=ge.p;try{ge.p=32>n?32:n,te.T=null,n=pc,pc=null;var i=aa,l=En;if(Qe=0,Ur=aa=null,En=0,he&6)throw Error(D(331));var s=he;if(he|=4,Ym(i.current),Gm(i,i.current,l,n),he=s,gl(0,!1),Ct&&typeof Ct.onPostCommitFiberRoot=="function")try{Ct.onPostCommitFiberRoot(ll,i)}catch{}return!0}finally{ge.p=r,te.T=a,lp(e,t)}}function Sh(e,t,n){t=$t(n,t),t=cc(e.stateNode,t,2),e=ta(e,t,2),e!==null&&(ol(e,2),sn(e))}function ye(e,t,n){if(e.tag===3)Sh(e,e,n);else for(;t!==null;){if(t.tag===3){Sh(t,e,n);break}else if(t.tag===1){var a=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof a.componentDidCatch=="function"&&(na===null||!na.has(a))){e=$t(n,e),n=Sm(2),a=ta(t,n,2),a!==null&&(xm(n,a,t,e),ol(a,2),sn(a));break}}t=t.return}}function ou(e,t,n){var a=e.pingCache;if(a===null){a=e.pingCache=new Pb;var r=new Set;a.set(t,r)}else r=a.get(t),r===void 0&&(r=new Set,a.set(t,r));r.has(n)||(Bd=!0,r.add(n),e=Fb.bind(null,e,t,n),t.then(e,e))}function Fb(e,t,n){var a=e.pingCache;a!==null&&a.delete(t),e.pingedLanes|=e.suspendedLanes&n,e.warmLanes&=~n,_e===e&&(ue&n)===n&&(He===4||He===3&&(ue&62914560)===ue&&300>Rt()-fo?!(he&2)&&Mr(e,0):Ld|=n,Dr===ue&&(Dr=0)),sn(e)}function op(e,t){t===0&&(t=W0()),e=$a(e,t),e!==null&&(ol(e,t),sn(e))}function Wb(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),op(e,n)}function ew(e,t){var n=0;switch(e.tag){case 31:case 13:var a=e.stateNode,r=e.memoizedState;r!==null&&(n=r.retryLane);break;case 19:a=e.stateNode;break;case 22:a=e.stateNode._retryCache;break;default:throw Error(D(314))}a!==null&&a.delete(t),op(e,n)}function tw(e,t){return ed(e,t)}var zs=null,nr=null,vc=!1,Bs=!1,uu=!1,Qn=0;function sn(e){e!==nr&&e.next===null&&(nr===null?zs=nr=e:nr=nr.next=e),Bs=!0,vc||(vc=!0,aw())}function gl(e,t){if(!uu&&Bs){uu=!0;do for(var n=!1,a=zs;a!==null;){if(e!==0){var r=a.pendingLanes;if(r===0)var i=0;else{var l=a.suspendedLanes,s=a.pingedLanes;i=(1<<31-Ot(42|e)+1)-1,i&=r&~(l&~s),i=i&201326741?i&201326741|1:i?i|2:0}i!==0&&(n=!0,xh(a,i))}else i=ue,i=eo(a,a===_e?i:0,a.cancelPendingCommit!==null||a.timeoutHandle!==-1),!(i&3)||sl(a,i)||(n=!0,xh(a,i));a=a.next}while(n);uu=!1}}function nw(){up()}function up(){Bs=vc=!1;var e=0;Qn!==0&&hw()&&(e=Qn);for(var t=Rt(),n=null,a=zs;a!==null;){var r=a.next,i=cp(a,t);i===0?(a.next=null,n===null?zs=r:n.next=r,r===null&&(nr=n)):(n=a,(e!==0||i&3)&&(Bs=!0)),a=r}Qe!==0&&Qe!==5||gl(e),Qn!==0&&(Qn=0)}function cp(e,t){for(var n=e.suspendedLanes,a=e.pingedLanes,r=e.expirationTimes,i=e.pendingLanes&-62914561;0<i;){var l=31-Ot(i),s=1<<l,o=r[l];o===-1?(!(s&n)||s&a)&&(r[l]=Cv(s,t)):o<=t&&(e.expiredLanes|=s),i&=~s}if(t=_e,n=ue,n=eo(e,e===t?n:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),a=e.callbackNode,n===0||e===t&&(pe===2||pe===9)||e.cancelPendingCommit!==null)return a!==null&&a!==null&&Bo(a),e.callbackNode=null,e.callbackPriority=0;if(!(n&3)||sl(e,n)){if(t=n&-n,t===e.callbackPriority)return t;switch(a!==null&&Bo(a),nd(n)){case 2:case 8:n=Z0;break;case 32:n=bs;break;case 268435456:n=F0;break;default:n=bs}return a=dp.bind(null,e),n=ed(n,a),e.callbackPriority=t,e.callbackNode=n,t}return a!==null&&a!==null&&Bo(a),e.callbackPriority=2,e.callbackNode=null,2}function dp(e,t){if(Qe!==0&&Qe!==5)return e.callbackNode=null,e.callbackPriority=0,null;var n=e.callbackNode;if(mo()&&e.callbackNode!==n)return null;var a=ue;return a=eo(e,e===_e?a:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),a===0?null:(Qm(e,a,t),cp(e,Rt()),e.callbackNode!=null&&e.callbackNode===n?dp.bind(null,e):null)}function xh(e,t){if(mo())return null;Qm(e,t,!0)}function aw(){mw(function(){he&6?ed(Q0,nw):up()})}function qd(){if(Qn===0){var e=Or;e===0&&(e=Cl,Cl<<=1,!(Cl&261888)&&(Cl=256)),Qn=e}return Qn}function Eh(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:es(""+e)}function Th(e,t){var n=t.ownerDocument.createElement("input");return n.name=t.name,n.value=t.value,e.id&&n.setAttribute("form",e.id),t.parentNode.insertBefore(n,t),e=new FormData(e),n.parentNode.removeChild(n),e}function rw(e,t,n,a,r){if(t==="submit"&&n&&n.stateNode===r){var i=Eh((r[bt]||null).action),l=a.submitter;l&&(t=(t=l[bt]||null)?Eh(t.formAction):l.getAttribute("formAction"),t!==null&&(i=t,l=null));var s=new to("action","action",null,a,r);e.push({event:s,listeners:[{instance:null,listener:function(){if(a.defaultPrevented){if(Qn!==0){var o=l?Th(r,l):new FormData(r);oc(n,{pending:!0,data:o,method:r.method,action:i},null,o)}}else typeof i=="function"&&(s.preventDefault(),o=l?Th(r,l):new FormData(r),oc(n,{pending:!0,data:o,method:r.method,action:i},i,o))},currentTarget:r}]})}}for(var cu=0;cu<Qu.length;cu++){var du=Qu[cu],iw=du.toLowerCase(),lw=du[0].toUpperCase()+du.slice(1);Zt(iw,"on"+lw)}Zt(xg,"onAnimationEnd");Zt(Eg,"onAnimationIteration");Zt(Tg,"onAnimationStart");Zt("dblclick","onDoubleClick");Zt("focusin","onFocus");Zt("focusout","onBlur");Zt(Sb,"onTransitionRun");Zt(xb,"onTransitionStart");Zt(Eb,"onTransitionCancel");Zt(Ag,"onTransitionEnd");Rr("onMouseEnter",["mouseout","mouseover"]);Rr("onMouseLeave",["mouseout","mouseover"]);Rr("onPointerEnter",["pointerout","pointerover"]);Rr("onPointerLeave",["pointerout","pointerover"]);La("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));La("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));La("onBeforeInput",["compositionend","keypress","textInput","paste"]);La("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));La("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));La("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ki="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),sw=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Ki));function fp(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var a=e[n],r=a.event;a=a.listeners;e:{var i=void 0;if(t)for(var l=a.length-1;0<=l;l--){var s=a[l],o=s.instance,u=s.currentTarget;if(s=s.listener,o!==i&&r.isPropagationStopped())break e;i=s,r.currentTarget=u;try{i(r)}catch(c){_s(c)}r.currentTarget=null,i=o}else for(l=0;l<a.length;l++){if(s=a[l],o=s.instance,u=s.currentTarget,s=s.listener,o!==i&&r.isPropagationStopped())break e;i=s,r.currentTarget=u;try{i(r)}catch(c){_s(c)}r.currentTarget=null,i=o}}}}function se(e,t){var n=t[Gu];n===void 0&&(n=t[Gu]=new Set);var a=e+"__bubble";n.has(a)||(hp(t,e,2,!1),n.add(a))}function fu(e,t,n){var a=0;t&&(a|=4),hp(n,e,a,t)}var Hl="_reactListening"+Math.random().toString(36).slice(2);function $d(e){if(!e[Hl]){e[Hl]=!0,rg.forEach(function(n){n!=="selectionchange"&&(sw.has(n)||fu(n,!1,e),fu(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Hl]||(t[Hl]=!0,fu("selectionchange",!1,t))}}function hp(e,t,n,a){switch(Ap(t)){case 2:var r=Mw;break;case 8:r=zw;break;default:r=Yd}n=r.bind(null,t,n,e),r=void 0,!Pu||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(r=!0),a?r!==void 0?e.addEventListener(t,n,{capture:!0,passive:r}):e.addEventListener(t,n,!0):r!==void 0?e.addEventListener(t,n,{passive:r}):e.addEventListener(t,n,!1)}function hu(e,t,n,a,r){var i=a;if(!(t&1)&&!(t&2)&&a!==null)e:for(;;){if(a===null)return;var l=a.tag;if(l===3||l===4){var s=a.stateNode.containerInfo;if(s===r)break;if(l===4)for(l=a.return;l!==null;){var o=l.tag;if((o===3||o===4)&&l.stateNode.containerInfo===r)return;l=l.return}for(;s!==null;){if(l=or(s),l===null)return;if(o=l.tag,o===5||o===6||o===26||o===27){a=i=l;continue e}s=s.parentNode}}a=a.return}fg(function(){var u=i,c=id(n),h=[];e:{var d=kg.get(e);if(d!==void 0){var f=to,v=e;switch(e){case"keypress":if(ns(n)===0)break e;case"keydown":case"keyup":f=eb;break;case"focusin":v="focus",f=Go;break;case"focusout":v="blur",f=Go;break;case"beforeblur":case"afterblur":f=Go;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":f=Df;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":f=Gv;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":f=ab;break;case xg:case Eg:case Tg:f=Yv;break;case Ag:f=ib;break;case"scroll":case"scrollend":f=qv;break;case"wheel":f=sb;break;case"copy":case"cut":case"paste":f=Pv;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":f=Mf;break;case"toggle":case"beforetoggle":f=ub}var b=(t&4)!==0,E=!b&&(e==="scroll"||e==="scrollend"),p=b?d!==null?d+"Capture":null:d;b=[];for(var m=u,g;m!==null;){var w=m;if(g=w.stateNode,w=w.tag,w!==5&&w!==26&&w!==27||g===null||p===null||(w=Li(m,p),w!=null&&b.push(Pi(m,w,g))),E)break;m=m.return}0<b.length&&(d=new f(d,v,null,n,c),h.push({event:d,listeners:b}))}}if(!(t&7)){e:{if(d=e==="mouseover"||e==="pointerover",f=e==="mouseout"||e==="pointerout",d&&n!==Ku&&(v=n.relatedTarget||n.fromElement)&&(or(v)||v[Ir]))break e;if((f||d)&&(d=c.window===c?c:(d=c.ownerDocument)?d.defaultView||d.parentWindow:window,f?(v=n.relatedTarget||n.toElement,f=u,v=v?or(v):null,v!==null&&(E=il(v),b=v.tag,v!==E||b!==5&&b!==27&&b!==6)&&(v=null)):(f=null,v=u),f!==v)){if(b=Df,w="onMouseLeave",p="onMouseEnter",m="mouse",(e==="pointerout"||e==="pointerover")&&(b=Mf,w="onPointerLeave",p="onPointerEnter",m="pointer"),E=f==null?d:pi(f),g=v==null?d:pi(v),d=new b(w,m+"leave",f,n,c),d.target=E,d.relatedTarget=g,w=null,or(c)===u&&(b=new b(p,m+"enter",v,n,c),b.target=g,b.relatedTarget=E,w=b),E=w,f&&v)t:{for(b=ow,p=f,m=v,g=0,w=p;w;w=b(w))g++;w=0;for(var S=m;S;S=b(S))w++;for(;0<g-w;)p=b(p),g--;for(;0<w-g;)m=b(m),w--;for(;g--;){if(p===m||m!==null&&p===m.alternate){b=p;break t}p=b(p),m=b(m)}b=null}else b=null;f!==null&&Ah(h,d,f,b,!1),v!==null&&E!==null&&Ah(h,E,v,b,!0)}}e:{if(d=u?pi(u):window,f=d.nodeName&&d.nodeName.toLowerCase(),f==="select"||f==="input"&&d.type==="file")var k=Hf;else if(Lf(d))if(vg)k=bb;else{k=yb;var R=pb}else f=d.nodeName,!f||f.toLowerCase()!=="input"||d.type!=="checkbox"&&d.type!=="radio"?u&&rd(u.elementType)&&(k=Hf):k=vb;if(k&&(k=k(e,u))){yg(h,k,n,c);break e}R&&R(e,d,u),e==="focusout"&&u&&d.type==="number"&&u.memoizedProps.value!=null&&Yu(d,"number",d.value)}switch(R=u?pi(u):window,e){case"focusin":(Lf(R)||R.contentEditable==="true")&&(dr=R,Xu=u,xi=null);break;case"focusout":xi=Xu=dr=null;break;case"mousedown":Ju=!0;break;case"contextmenu":case"mouseup":case"dragend":Ju=!1,Vf(h,n,c);break;case"selectionchange":if(_b)break;case"keydown":case"keyup":Vf(h,n,c)}var U;if(od)e:{switch(e){case"compositionstart":var M="onCompositionStart";break e;case"compositionend":M="onCompositionEnd";break e;case"compositionupdate":M="onCompositionUpdate";break e}M=void 0}else cr?mg(e,n)&&(M="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(M="onCompositionStart");M&&(gg&&n.locale!=="ko"&&(cr||M!=="onCompositionStart"?M==="onCompositionEnd"&&cr&&(U=hg()):(Pn=c,ld="value"in Pn?Pn.value:Pn.textContent,cr=!0)),R=Ls(u,M),0<R.length&&(M=new Uf(M,e,null,n,c),h.push({event:M,listeners:R}),U?M.data=U:(U=pg(n),U!==null&&(M.data=U)))),(U=db?fb(e,n):hb(e,n))&&(M=Ls(u,"onBeforeInput"),0<M.length&&(R=new Uf("onBeforeInput","beforeinput",null,n,c),h.push({event:R,listeners:M}),R.data=U)),rw(h,e,u,n,c)}fp(h,t)})}function Pi(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Ls(e,t){for(var n=t+"Capture",a=[];e!==null;){var r=e,i=r.stateNode;if(r=r.tag,r!==5&&r!==26&&r!==27||i===null||(r=Li(e,n),r!=null&&a.unshift(Pi(e,r,i)),r=Li(e,t),r!=null&&a.push(Pi(e,r,i))),e.tag===3)return a;e=e.return}return[]}function ow(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function Ah(e,t,n,a,r){for(var i=t._reactName,l=[];n!==null&&n!==a;){var s=n,o=s.alternate,u=s.stateNode;if(s=s.tag,o!==null&&o===a)break;s!==5&&s!==26&&s!==27||u===null||(o=u,r?(u=Li(n,i),u!=null&&l.unshift(Pi(n,u,o))):r||(u=Li(n,i),u!=null&&l.push(Pi(n,u,o)))),n=n.return}l.length!==0&&e.push({event:t,listeners:l})}var uw=/\r\n?/g,cw=/\u0000|\uFFFD/g;function kh(e){return(typeof e=="string"?e:""+e).replace(uw,`
`).replace(cw,"")}function gp(e,t){return t=kh(t),kh(e)===t}function ve(e,t,n,a,r,i){switch(n){case"children":typeof a=="string"?t==="body"||t==="textarea"&&a===""||Cr(e,a):(typeof a=="number"||typeof a=="bigint")&&t!=="body"&&Cr(e,""+a);break;case"className":jl(e,"class",a);break;case"tabIndex":jl(e,"tabindex",a);break;case"dir":case"role":case"viewBox":case"width":case"height":jl(e,n,a);break;case"style":dg(e,a,i);break;case"data":if(t!=="object"){jl(e,"data",a);break}case"src":case"href":if(a===""&&(t!=="a"||n!=="href")){e.removeAttribute(n);break}if(a==null||typeof a=="function"||typeof a=="symbol"||typeof a=="boolean"){e.removeAttribute(n);break}a=es(""+a),e.setAttribute(n,a);break;case"action":case"formAction":if(typeof a=="function"){e.setAttribute(n,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof i=="function"&&(n==="formAction"?(t!=="input"&&ve(e,t,"name",r.name,r,null),ve(e,t,"formEncType",r.formEncType,r,null),ve(e,t,"formMethod",r.formMethod,r,null),ve(e,t,"formTarget",r.formTarget,r,null)):(ve(e,t,"encType",r.encType,r,null),ve(e,t,"method",r.method,r,null),ve(e,t,"target",r.target,r,null)));if(a==null||typeof a=="symbol"||typeof a=="boolean"){e.removeAttribute(n);break}a=es(""+a),e.setAttribute(n,a);break;case"onClick":a!=null&&(e.onclick=wn);break;case"onScroll":a!=null&&se("scroll",e);break;case"onScrollEnd":a!=null&&se("scrollend",e);break;case"dangerouslySetInnerHTML":if(a!=null){if(typeof a!="object"||!("__html"in a))throw Error(D(61));if(n=a.__html,n!=null){if(r.children!=null)throw Error(D(60));e.innerHTML=n}}break;case"multiple":e.multiple=a&&typeof a!="function"&&typeof a!="symbol";break;case"muted":e.muted=a&&typeof a!="function"&&typeof a!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(a==null||typeof a=="function"||typeof a=="boolean"||typeof a=="symbol"){e.removeAttribute("xlink:href");break}n=es(""+a),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",n);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":a!=null&&typeof a!="function"&&typeof a!="symbol"?e.setAttribute(n,""+a):e.removeAttribute(n);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":a&&typeof a!="function"&&typeof a!="symbol"?e.setAttribute(n,""):e.removeAttribute(n);break;case"capture":case"download":a===!0?e.setAttribute(n,""):a!==!1&&a!=null&&typeof a!="function"&&typeof a!="symbol"?e.setAttribute(n,a):e.removeAttribute(n);break;case"cols":case"rows":case"size":case"span":a!=null&&typeof a!="function"&&typeof a!="symbol"&&!isNaN(a)&&1<=a?e.setAttribute(n,a):e.removeAttribute(n);break;case"rowSpan":case"start":a==null||typeof a=="function"||typeof a=="symbol"||isNaN(a)?e.removeAttribute(n):e.setAttribute(n,a);break;case"popover":se("beforetoggle",e),se("toggle",e),Wl(e,"popover",a);break;case"xlinkActuate":dn(e,"http://www.w3.org/1999/xlink","xlink:actuate",a);break;case"xlinkArcrole":dn(e,"http://www.w3.org/1999/xlink","xlink:arcrole",a);break;case"xlinkRole":dn(e,"http://www.w3.org/1999/xlink","xlink:role",a);break;case"xlinkShow":dn(e,"http://www.w3.org/1999/xlink","xlink:show",a);break;case"xlinkTitle":dn(e,"http://www.w3.org/1999/xlink","xlink:title",a);break;case"xlinkType":dn(e,"http://www.w3.org/1999/xlink","xlink:type",a);break;case"xmlBase":dn(e,"http://www.w3.org/XML/1998/namespace","xml:base",a);break;case"xmlLang":dn(e,"http://www.w3.org/XML/1998/namespace","xml:lang",a);break;case"xmlSpace":dn(e,"http://www.w3.org/XML/1998/namespace","xml:space",a);break;case"is":Wl(e,"is",a);break;case"innerText":case"textContent":break;default:(!(2<n.length)||n[0]!=="o"&&n[0]!=="O"||n[1]!=="n"&&n[1]!=="N")&&(n=Lv.get(n)||n,Wl(e,n,a))}}function bc(e,t,n,a,r,i){switch(n){case"style":dg(e,a,i);break;case"dangerouslySetInnerHTML":if(a!=null){if(typeof a!="object"||!("__html"in a))throw Error(D(61));if(n=a.__html,n!=null){if(r.children!=null)throw Error(D(60));e.innerHTML=n}}break;case"children":typeof a=="string"?Cr(e,a):(typeof a=="number"||typeof a=="bigint")&&Cr(e,""+a);break;case"onScroll":a!=null&&se("scroll",e);break;case"onScrollEnd":a!=null&&se("scrollend",e);break;case"onClick":a!=null&&(e.onclick=wn);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!ig.hasOwnProperty(n))e:{if(n[0]==="o"&&n[1]==="n"&&(r=n.endsWith("Capture"),t=n.slice(2,r?n.length-7:void 0),i=e[bt]||null,i=i!=null?i[n]:null,typeof i=="function"&&e.removeEventListener(t,i,r),typeof a=="function")){typeof i!="function"&&i!==null&&(n in e?e[n]=null:e.hasAttribute(n)&&e.removeAttribute(n)),e.addEventListener(t,a,r);break e}n in e?e[n]=a:a===!0?e.setAttribute(n,""):Wl(e,n,a)}}}function ot(e,t,n){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":se("error",e),se("load",e);var a=!1,r=!1,i;for(i in n)if(n.hasOwnProperty(i)){var l=n[i];if(l!=null)switch(i){case"src":a=!0;break;case"srcSet":r=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(D(137,t));default:ve(e,t,i,l,n,null)}}r&&ve(e,t,"srcSet",n.srcSet,n,null),a&&ve(e,t,"src",n.src,n,null);return;case"input":se("invalid",e);var s=i=l=r=null,o=null,u=null;for(a in n)if(n.hasOwnProperty(a)){var c=n[a];if(c!=null)switch(a){case"name":r=c;break;case"type":l=c;break;case"checked":o=c;break;case"defaultChecked":u=c;break;case"value":i=c;break;case"defaultValue":s=c;break;case"children":case"dangerouslySetInnerHTML":if(c!=null)throw Error(D(137,t));break;default:ve(e,t,a,c,n,null)}}og(e,i,s,o,u,l,r,!1);return;case"select":se("invalid",e),a=l=i=null;for(r in n)if(n.hasOwnProperty(r)&&(s=n[r],s!=null))switch(r){case"value":i=s;break;case"defaultValue":l=s;break;case"multiple":a=s;default:ve(e,t,r,s,n,null)}t=i,n=l,e.multiple=!!a,t!=null?wr(e,!!a,t,!1):n!=null&&wr(e,!!a,n,!0);return;case"textarea":se("invalid",e),i=r=a=null;for(l in n)if(n.hasOwnProperty(l)&&(s=n[l],s!=null))switch(l){case"value":a=s;break;case"defaultValue":r=s;break;case"children":i=s;break;case"dangerouslySetInnerHTML":if(s!=null)throw Error(D(91));break;default:ve(e,t,l,s,n,null)}cg(e,a,r,i);return;case"option":for(o in n)if(n.hasOwnProperty(o)&&(a=n[o],a!=null))switch(o){case"selected":e.selected=a&&typeof a!="function"&&typeof a!="symbol";break;default:ve(e,t,o,a,n,null)}return;case"dialog":se("beforetoggle",e),se("toggle",e),se("cancel",e),se("close",e);break;case"iframe":case"object":se("load",e);break;case"video":case"audio":for(a=0;a<Ki.length;a++)se(Ki[a],e);break;case"image":se("error",e),se("load",e);break;case"details":se("toggle",e);break;case"embed":case"source":case"link":se("error",e),se("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(u in n)if(n.hasOwnProperty(u)&&(a=n[u],a!=null))switch(u){case"children":case"dangerouslySetInnerHTML":throw Error(D(137,t));default:ve(e,t,u,a,n,null)}return;default:if(rd(t)){for(c in n)n.hasOwnProperty(c)&&(a=n[c],a!==void 0&&bc(e,t,c,a,n,void 0));return}}for(s in n)n.hasOwnProperty(s)&&(a=n[s],a!=null&&ve(e,t,s,a,n,null))}function dw(e,t,n,a){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var r=null,i=null,l=null,s=null,o=null,u=null,c=null;for(f in n){var h=n[f];if(n.hasOwnProperty(f)&&h!=null)switch(f){case"checked":break;case"value":break;case"defaultValue":o=h;default:a.hasOwnProperty(f)||ve(e,t,f,null,a,h)}}for(var d in a){var f=a[d];if(h=n[d],a.hasOwnProperty(d)&&(f!=null||h!=null))switch(d){case"type":i=f;break;case"name":r=f;break;case"checked":u=f;break;case"defaultChecked":c=f;break;case"value":l=f;break;case"defaultValue":s=f;break;case"children":case"dangerouslySetInnerHTML":if(f!=null)throw Error(D(137,t));break;default:f!==h&&ve(e,t,d,f,a,h)}}Vu(e,l,s,o,u,c,i,r);return;case"select":f=l=s=d=null;for(i in n)if(o=n[i],n.hasOwnProperty(i)&&o!=null)switch(i){case"value":break;case"multiple":f=o;default:a.hasOwnProperty(i)||ve(e,t,i,null,a,o)}for(r in a)if(i=a[r],o=n[r],a.hasOwnProperty(r)&&(i!=null||o!=null))switch(r){case"value":d=i;break;case"defaultValue":s=i;break;case"multiple":l=i;default:i!==o&&ve(e,t,r,i,a,o)}t=s,n=l,a=f,d!=null?wr(e,!!n,d,!1):!!a!=!!n&&(t!=null?wr(e,!!n,t,!0):wr(e,!!n,n?[]:"",!1));return;case"textarea":f=d=null;for(s in n)if(r=n[s],n.hasOwnProperty(s)&&r!=null&&!a.hasOwnProperty(s))switch(s){case"value":break;case"children":break;default:ve(e,t,s,null,a,r)}for(l in a)if(r=a[l],i=n[l],a.hasOwnProperty(l)&&(r!=null||i!=null))switch(l){case"value":d=r;break;case"defaultValue":f=r;break;case"children":break;case"dangerouslySetInnerHTML":if(r!=null)throw Error(D(91));break;default:r!==i&&ve(e,t,l,r,a,i)}ug(e,d,f);return;case"option":for(var v in n)if(d=n[v],n.hasOwnProperty(v)&&d!=null&&!a.hasOwnProperty(v))switch(v){case"selected":e.selected=!1;break;default:ve(e,t,v,null,a,d)}for(o in a)if(d=a[o],f=n[o],a.hasOwnProperty(o)&&d!==f&&(d!=null||f!=null))switch(o){case"selected":e.selected=d&&typeof d!="function"&&typeof d!="symbol";break;default:ve(e,t,o,d,a,f)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var b in n)d=n[b],n.hasOwnProperty(b)&&d!=null&&!a.hasOwnProperty(b)&&ve(e,t,b,null,a,d);for(u in a)if(d=a[u],f=n[u],a.hasOwnProperty(u)&&d!==f&&(d!=null||f!=null))switch(u){case"children":case"dangerouslySetInnerHTML":if(d!=null)throw Error(D(137,t));break;default:ve(e,t,u,d,a,f)}return;default:if(rd(t)){for(var E in n)d=n[E],n.hasOwnProperty(E)&&d!==void 0&&!a.hasOwnProperty(E)&&bc(e,t,E,void 0,a,d);for(c in a)d=a[c],f=n[c],!a.hasOwnProperty(c)||d===f||d===void 0&&f===void 0||bc(e,t,c,d,a,f);return}}for(var p in n)d=n[p],n.hasOwnProperty(p)&&d!=null&&!a.hasOwnProperty(p)&&ve(e,t,p,null,a,d);for(h in a)d=a[h],f=n[h],!a.hasOwnProperty(h)||d===f||d==null&&f==null||ve(e,t,h,d,a,f)}function Rh(e){switch(e){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function fw(){if(typeof performance.getEntriesByType=="function"){for(var e=0,t=0,n=performance.getEntriesByType("resource"),a=0;a<n.length;a++){var r=n[a],i=r.transferSize,l=r.initiatorType,s=r.duration;if(i&&s&&Rh(l)){for(l=0,s=r.responseEnd,a+=1;a<n.length;a++){var o=n[a],u=o.startTime;if(u>s)break;var c=o.transferSize,h=o.initiatorType;c&&Rh(h)&&(o=o.responseEnd,l+=c*(o<s?1:(s-u)/(o-u)))}if(--a,t+=8*(i+l)/(r.duration/1e3),e++,10<e)break}}if(0<e)return t/e/1e6}return navigator.connection&&(e=navigator.connection.downlink,typeof e=="number")?e:5}var wc=null,_c=null;function Hs(e){return e.nodeType===9?e:e.ownerDocument}function Ch(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function mp(e,t){if(e===0)switch(t){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&t==="foreignObject"?0:e}function Sc(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.children=="bigint"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var gu=null;function hw(){var e=window.event;return e&&e.type==="popstate"?e===gu?!1:(gu=e,!0):(gu=null,!1)}var pp=typeof setTimeout=="function"?setTimeout:void 0,gw=typeof clearTimeout=="function"?clearTimeout:void 0,Oh=typeof Promise=="function"?Promise:void 0,mw=typeof queueMicrotask=="function"?queueMicrotask:typeof Oh<"u"?function(e){return Oh.resolve(null).then(e).catch(pw)}:pp;function pw(e){setTimeout(function(){throw e})}function fa(e){return e==="head"}function Nh(e,t){var n=t,a=0;do{var r=n.nextSibling;if(e.removeChild(n),r&&r.nodeType===8)if(n=r.data,n==="/$"||n==="/&"){if(a===0){e.removeChild(r),Br(t);return}a--}else if(n==="$"||n==="$?"||n==="$~"||n==="$!"||n==="&")a++;else if(n==="html")Di(e.ownerDocument.documentElement);else if(n==="head"){n=e.ownerDocument.head,Di(n);for(var i=n.firstChild;i;){var l=i.nextSibling,s=i.nodeName;i[ul]||s==="SCRIPT"||s==="STYLE"||s==="LINK"&&i.rel.toLowerCase()==="stylesheet"||n.removeChild(i),i=l}}else n==="body"&&Di(e.ownerDocument.body);n=r}while(n);Br(t)}function jh(e,t){var n=e;e=0;do{var a=n.nextSibling;if(n.nodeType===1?t?(n._stashedDisplay=n.style.display,n.style.display="none"):(n.style.display=n._stashedDisplay||"",n.getAttribute("style")===""&&n.removeAttribute("style")):n.nodeType===3&&(t?(n._stashedText=n.nodeValue,n.nodeValue=""):n.nodeValue=n._stashedText||""),a&&a.nodeType===8)if(n=a.data,n==="/$"){if(e===0)break;e--}else n!=="$"&&n!=="$?"&&n!=="$~"&&n!=="$!"||e++;n=a}while(n)}function xc(e){var t=e.firstChild;for(t&&t.nodeType===10&&(t=t.nextSibling);t;){var n=t;switch(t=t.nextSibling,n.nodeName){case"HTML":case"HEAD":case"BODY":xc(n),ad(n);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(n.rel.toLowerCase()==="stylesheet")continue}e.removeChild(n)}}function yw(e,t,n,a){for(;e.nodeType===1;){var r=n;if(e.nodeName.toLowerCase()!==t.toLowerCase()){if(!a&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(a){if(!e[ul])switch(t){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(i=e.getAttribute("rel"),i==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(i!==r.rel||e.getAttribute("href")!==(r.href==null||r.href===""?null:r.href)||e.getAttribute("crossorigin")!==(r.crossOrigin==null?null:r.crossOrigin)||e.getAttribute("title")!==(r.title==null?null:r.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(i=e.getAttribute("src"),(i!==(r.src==null?null:r.src)||e.getAttribute("type")!==(r.type==null?null:r.type)||e.getAttribute("crossorigin")!==(r.crossOrigin==null?null:r.crossOrigin))&&i&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(t==="input"&&e.type==="hidden"){var i=r.name==null?null:""+r.name;if(r.type==="hidden"&&e.getAttribute("name")===i)return e}else return e;if(e=Vt(e.nextSibling),e===null)break}return null}function vw(e,t,n){if(t==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!n||(e=Vt(e.nextSibling),e===null))return null;return e}function yp(e,t){for(;e.nodeType!==8;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!t||(e=Vt(e.nextSibling),e===null))return null;return e}function Ec(e){return e.data==="$?"||e.data==="$~"}function Tc(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState!=="loading"}function bw(e,t){var n=e.ownerDocument;if(e.data==="$~")e._reactRetry=t;else if(e.data!=="$?"||n.readyState!=="loading")t();else{var a=function(){t(),n.removeEventListener("DOMContentLoaded",a)};n.addEventListener("DOMContentLoaded",a),e._reactRetry=a}}function Vt(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?"||t==="$~"||t==="&"||t==="F!"||t==="F")break;if(t==="/$"||t==="/&")return null}}return e}var Ac=null;function Dh(e){e=e.nextSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"||n==="/&"){if(t===0)return Vt(e.nextSibling);t--}else n!=="$"&&n!=="$!"&&n!=="$?"&&n!=="$~"&&n!=="&"||t++}e=e.nextSibling}return null}function Uh(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"||n==="$~"||n==="&"){if(t===0)return e;t--}else n!=="/$"&&n!=="/&"||t++}e=e.previousSibling}return null}function vp(e,t,n){switch(t=Hs(n),e){case"html":if(e=t.documentElement,!e)throw Error(D(452));return e;case"head":if(e=t.head,!e)throw Error(D(453));return e;case"body":if(e=t.body,!e)throw Error(D(454));return e;default:throw Error(D(451))}}function Di(e){for(var t=e.attributes;t.length;)e.removeAttributeNode(t[0]);ad(e)}var Yt=new Map,Mh=new Set;function qs(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var jn=ge.d;ge.d={f:ww,r:_w,D:Sw,C:xw,L:Ew,m:Tw,X:kw,S:Aw,M:Rw};function ww(){var e=jn.f(),t=ho();return e||t}function _w(e){var t=Vr(e);t!==null&&t.tag===5&&t.type==="form"?dm(t):jn.r(e)}var Xr=typeof document>"u"?null:document;function bp(e,t,n){var a=Xr;if(a&&typeof t=="string"&&t){var r=qt(t);r='link[rel="'+e+'"][href="'+r+'"]',typeof n=="string"&&(r+='[crossorigin="'+n+'"]'),Mh.has(r)||(Mh.add(r),e={rel:e,crossOrigin:n,href:t},a.querySelector(r)===null&&(t=a.createElement("link"),ot(t,"link",e),We(t),a.head.appendChild(t)))}}function Sw(e){jn.D(e),bp("dns-prefetch",e,null)}function xw(e,t){jn.C(e,t),bp("preconnect",e,t)}function Ew(e,t,n){jn.L(e,t,n);var a=Xr;if(a&&e&&t){var r='link[rel="preload"][as="'+qt(t)+'"]';t==="image"&&n&&n.imageSrcSet?(r+='[imagesrcset="'+qt(n.imageSrcSet)+'"]',typeof n.imageSizes=="string"&&(r+='[imagesizes="'+qt(n.imageSizes)+'"]')):r+='[href="'+qt(e)+'"]';var i=r;switch(t){case"style":i=zr(e);break;case"script":i=Jr(e)}Yt.has(i)||(e=Re({rel:"preload",href:t==="image"&&n&&n.imageSrcSet?void 0:e,as:t},n),Yt.set(i,e),a.querySelector(r)!==null||t==="style"&&a.querySelector(ml(i))||t==="script"&&a.querySelector(pl(i))||(t=a.createElement("link"),ot(t,"link",e),We(t),a.head.appendChild(t)))}}function Tw(e,t){jn.m(e,t);var n=Xr;if(n&&e){var a=t&&typeof t.as=="string"?t.as:"script",r='link[rel="modulepreload"][as="'+qt(a)+'"][href="'+qt(e)+'"]',i=r;switch(a){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":i=Jr(e)}if(!Yt.has(i)&&(e=Re({rel:"modulepreload",href:e},t),Yt.set(i,e),n.querySelector(r)===null)){switch(a){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(n.querySelector(pl(i)))return}a=n.createElement("link"),ot(a,"link",e),We(a),n.head.appendChild(a)}}}function Aw(e,t,n){jn.S(e,t,n);var a=Xr;if(a&&e){var r=br(a).hoistableStyles,i=zr(e);t=t||"default";var l=r.get(i);if(!l){var s={loading:0,preload:null};if(l=a.querySelector(ml(i)))s.loading=5;else{e=Re({rel:"stylesheet",href:e,"data-precedence":t},n),(n=Yt.get(i))&&Gd(e,n);var o=l=a.createElement("link");We(o),ot(o,"link",e),o._p=new Promise(function(u,c){o.onload=u,o.onerror=c}),o.addEventListener("load",function(){s.loading|=1}),o.addEventListener("error",function(){s.loading|=2}),s.loading|=4,cs(l,t,a)}l={type:"stylesheet",instance:l,count:1,state:s},r.set(i,l)}}}function kw(e,t){jn.X(e,t);var n=Xr;if(n&&e){var a=br(n).hoistableScripts,r=Jr(e),i=a.get(r);i||(i=n.querySelector(pl(r)),i||(e=Re({src:e,async:!0},t),(t=Yt.get(r))&&Id(e,t),i=n.createElement("script"),We(i),ot(i,"link",e),n.head.appendChild(i)),i={type:"script",instance:i,count:1,state:null},a.set(r,i))}}function Rw(e,t){jn.M(e,t);var n=Xr;if(n&&e){var a=br(n).hoistableScripts,r=Jr(e),i=a.get(r);i||(i=n.querySelector(pl(r)),i||(e=Re({src:e,async:!0,type:"module"},t),(t=Yt.get(r))&&Id(e,t),i=n.createElement("script"),We(i),ot(i,"link",e),n.head.appendChild(i)),i={type:"script",instance:i,count:1,state:null},a.set(r,i))}}function zh(e,t,n,a){var r=(r=Fn.current)?qs(r):null;if(!r)throw Error(D(446));switch(e){case"meta":case"title":return null;case"style":return typeof n.precedence=="string"&&typeof n.href=="string"?(t=zr(n.href),n=br(r).hoistableStyles,a=n.get(t),a||(a={type:"style",instance:null,count:0,state:null},n.set(t,a)),a):{type:"void",instance:null,count:0,state:null};case"link":if(n.rel==="stylesheet"&&typeof n.href=="string"&&typeof n.precedence=="string"){e=zr(n.href);var i=br(r).hoistableStyles,l=i.get(e);if(l||(r=r.ownerDocument||r,l={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},i.set(e,l),(i=r.querySelector(ml(e)))&&!i._p&&(l.instance=i,l.state.loading=5),Yt.has(e)||(n={rel:"preload",as:"style",href:n.href,crossOrigin:n.crossOrigin,integrity:n.integrity,media:n.media,hrefLang:n.hrefLang,referrerPolicy:n.referrerPolicy},Yt.set(e,n),i||Cw(r,e,n,l.state))),t&&a===null)throw Error(D(528,""));return l}if(t&&a!==null)throw Error(D(529,""));return null;case"script":return t=n.async,n=n.src,typeof n=="string"&&t&&typeof t!="function"&&typeof t!="symbol"?(t=Jr(n),n=br(r).hoistableScripts,a=n.get(t),a||(a={type:"script",instance:null,count:0,state:null},n.set(t,a)),a):{type:"void",instance:null,count:0,state:null};default:throw Error(D(444,e))}}function zr(e){return'href="'+qt(e)+'"'}function ml(e){return'link[rel="stylesheet"]['+e+"]"}function wp(e){return Re({},e,{"data-precedence":e.precedence,precedence:null})}function Cw(e,t,n,a){e.querySelector('link[rel="preload"][as="style"]['+t+"]")?a.loading=1:(t=e.createElement("link"),a.preload=t,t.addEventListener("load",function(){return a.loading|=1}),t.addEventListener("error",function(){return a.loading|=2}),ot(t,"link",n),We(t),e.head.appendChild(t))}function Jr(e){return'[src="'+qt(e)+'"]'}function pl(e){return"script[async]"+e}function Bh(e,t,n){if(t.count++,t.instance===null)switch(t.type){case"style":var a=e.querySelector('style[data-href~="'+qt(n.href)+'"]');if(a)return t.instance=a,We(a),a;var r=Re({},n,{"data-href":n.href,"data-precedence":n.precedence,href:null,precedence:null});return a=(e.ownerDocument||e).createElement("style"),We(a),ot(a,"style",r),cs(a,n.precedence,e),t.instance=a;case"stylesheet":r=zr(n.href);var i=e.querySelector(ml(r));if(i)return t.state.loading|=4,t.instance=i,We(i),i;a=wp(n),(r=Yt.get(r))&&Gd(a,r),i=(e.ownerDocument||e).createElement("link"),We(i);var l=i;return l._p=new Promise(function(s,o){l.onload=s,l.onerror=o}),ot(i,"link",a),t.state.loading|=4,cs(i,n.precedence,e),t.instance=i;case"script":return i=Jr(n.src),(r=e.querySelector(pl(i)))?(t.instance=r,We(r),r):(a=n,(r=Yt.get(i))&&(a=Re({},n),Id(a,r)),e=e.ownerDocument||e,r=e.createElement("script"),We(r),ot(r,"link",a),e.head.appendChild(r),t.instance=r);case"void":return null;default:throw Error(D(443,t.type))}else t.type==="stylesheet"&&!(t.state.loading&4)&&(a=t.instance,t.state.loading|=4,cs(a,n.precedence,e));return t.instance}function cs(e,t,n){for(var a=n.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),r=a.length?a[a.length-1]:null,i=r,l=0;l<a.length;l++){var s=a[l];if(s.dataset.precedence===t)i=s;else if(i!==r)break}i?i.parentNode.insertBefore(e,i.nextSibling):(t=n.nodeType===9?n.head:n,t.insertBefore(e,t.firstChild))}function Gd(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.title==null&&(e.title=t.title)}function Id(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.integrity==null&&(e.integrity=t.integrity)}var ds=null;function Lh(e,t,n){if(ds===null){var a=new Map,r=ds=new Map;r.set(n,a)}else r=ds,a=r.get(n),a||(a=new Map,r.set(n,a));if(a.has(e))return a;for(a.set(e,null),n=n.getElementsByTagName(e),r=0;r<n.length;r++){var i=n[r];if(!(i[ul]||i[it]||e==="link"&&i.getAttribute("rel")==="stylesheet")&&i.namespaceURI!=="http://www.w3.org/2000/svg"){var l=i.getAttribute(t)||"";l=e+l;var s=a.get(l);s?s.push(i):a.set(l,[i])}}return a}function Hh(e,t,n){e=e.ownerDocument||e,e.head.insertBefore(n,t==="title"?e.querySelector("head > title"):null)}function Ow(e,t,n){if(n===1||t.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof t.precedence!="string"||typeof t.href!="string"||t.href==="")break;return!0;case"link":if(typeof t.rel!="string"||typeof t.href!="string"||t.href===""||t.onLoad||t.onError)break;switch(t.rel){case"stylesheet":return e=t.disabled,typeof t.precedence=="string"&&e==null;default:return!0}case"script":if(t.async&&typeof t.async!="function"&&typeof t.async!="symbol"&&!t.onLoad&&!t.onError&&t.src&&typeof t.src=="string")return!0}return!1}function _p(e){return!(e.type==="stylesheet"&&!(e.state.loading&3))}function Nw(e,t,n,a){if(n.type==="stylesheet"&&(typeof a.media!="string"||matchMedia(a.media).matches!==!1)&&!(n.state.loading&4)){if(n.instance===null){var r=zr(a.href),i=t.querySelector(ml(r));if(i){t=i._p,t!==null&&typeof t=="object"&&typeof t.then=="function"&&(e.count++,e=$s.bind(e),t.then(e,e)),n.state.loading|=4,n.instance=i,We(i);return}i=t.ownerDocument||t,a=wp(a),(r=Yt.get(r))&&Gd(a,r),i=i.createElement("link"),We(i);var l=i;l._p=new Promise(function(s,o){l.onload=s,l.onerror=o}),ot(i,"link",a),n.instance=i}e.stylesheets===null&&(e.stylesheets=new Map),e.stylesheets.set(n,t),(t=n.state.preload)&&!(n.state.loading&3)&&(e.count++,n=$s.bind(e),t.addEventListener("load",n),t.addEventListener("error",n))}}var mu=0;function jw(e,t){return e.stylesheets&&e.count===0&&fs(e,e.stylesheets),0<e.count||0<e.imgCount?function(n){var a=setTimeout(function(){if(e.stylesheets&&fs(e,e.stylesheets),e.unsuspend){var i=e.unsuspend;e.unsuspend=null,i()}},6e4+t);0<e.imgBytes&&mu===0&&(mu=62500*fw());var r=setTimeout(function(){if(e.waitingForImages=!1,e.count===0&&(e.stylesheets&&fs(e,e.stylesheets),e.unsuspend)){var i=e.unsuspend;e.unsuspend=null,i()}},(e.imgBytes>mu?50:800)+t);return e.unsuspend=n,function(){e.unsuspend=null,clearTimeout(a),clearTimeout(r)}}:null}function $s(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)fs(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var Gs=null;function fs(e,t){e.stylesheets=null,e.unsuspend!==null&&(e.count++,Gs=new Map,t.forEach(Dw,e),Gs=null,$s.call(e))}function Dw(e,t){if(!(t.state.loading&4)){var n=Gs.get(e);if(n)var a=n.get(null);else{n=new Map,Gs.set(e,n);for(var r=e.querySelectorAll("link[data-precedence],style[data-precedence]"),i=0;i<r.length;i++){var l=r[i];(l.nodeName==="LINK"||l.getAttribute("media")!=="not all")&&(n.set(l.dataset.precedence,l),a=l)}a&&n.set(null,a)}r=t.instance,l=r.getAttribute("data-precedence"),i=n.get(l)||a,i===a&&n.set(null,r),n.set(l,r),this.count++,a=$s.bind(this),r.addEventListener("load",a),r.addEventListener("error",a),i?i.parentNode.insertBefore(r,i.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(r,e.firstChild)),t.state.loading|=4}}var Xi={$$typeof:bn,Provider:null,Consumer:null,_currentValue:Ra,_currentValue2:Ra,_threadCount:0};function Uw(e,t,n,a,r,i,l,s,o){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Lo(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Lo(0),this.hiddenUpdates=Lo(null),this.identifierPrefix=a,this.onUncaughtError=r,this.onCaughtError=i,this.onRecoverableError=l,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=o,this.incompleteTransitions=new Map}function Sp(e,t,n,a,r,i,l,s,o,u,c,h){return e=new Uw(e,t,n,l,o,u,c,h,s),t=1,i===!0&&(t|=24),i=At(3,null,null,t),e.current=i,i.stateNode=e,t=md(),t.refCount++,e.pooledCache=t,t.refCount++,i.memoizedState={element:a,isDehydrated:n,cache:t},vd(i),e}function xp(e){return e?(e=gr,e):gr}function Ep(e,t,n,a,r,i){r=xp(r),a.context===null?a.context=r:a.pendingContext=r,a=ea(t),a.payload={element:n},i=i===void 0?null:i,i!==null&&(a.callback=i),n=ta(e,a,t),n!==null&&(vt(n,e,t),Ti(n,e,t))}function qh(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function Vd(e,t){qh(e,t),(e=e.alternate)&&qh(e,t)}function Tp(e){if(e.tag===13||e.tag===31){var t=$a(e,67108864);t!==null&&vt(t,e,67108864),Vd(e,67108864)}}function $h(e){if(e.tag===13||e.tag===31){var t=Nt();t=td(t);var n=$a(e,t);n!==null&&vt(n,e,t),Vd(e,t)}}var Is=!0;function Mw(e,t,n,a){var r=te.T;te.T=null;var i=ge.p;try{ge.p=2,Yd(e,t,n,a)}finally{ge.p=i,te.T=r}}function zw(e,t,n,a){var r=te.T;te.T=null;var i=ge.p;try{ge.p=8,Yd(e,t,n,a)}finally{ge.p=i,te.T=r}}function Yd(e,t,n,a){if(Is){var r=kc(a);if(r===null)hu(e,t,a,Vs,n),Gh(e,a);else if(Lw(r,e,t,n,a))a.stopPropagation();else if(Gh(e,a),t&4&&-1<Bw.indexOf(e)){for(;r!==null;){var i=Vr(r);if(i!==null)switch(i.tag){case 3:if(i=i.stateNode,i.current.memoizedState.isDehydrated){var l=_a(i.pendingLanes);if(l!==0){var s=i;for(s.pendingLanes|=2,s.entangledLanes|=2;l;){var o=1<<31-Ot(l);s.entanglements[1]|=o,l&=~o}sn(i),!(he&6)&&(Ds=Rt()+500,gl(0))}}break;case 31:case 13:s=$a(i,2),s!==null&&vt(s,i,2),ho(),Vd(i,2)}if(i=kc(a),i===null&&hu(e,t,a,Vs,n),i===r)break;r=i}r!==null&&a.stopPropagation()}else hu(e,t,a,null,n)}}function kc(e){return e=id(e),Kd(e)}var Vs=null;function Kd(e){if(Vs=null,e=or(e),e!==null){var t=il(e);if(t===null)e=null;else{var n=t.tag;if(n===13){if(e=Y0(t),e!==null)return e;e=null}else if(n===31){if(e=K0(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null)}}return Vs=e,null}function Ap(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Sv()){case Q0:return 2;case Z0:return 8;case bs:case xv:return 32;case F0:return 268435456;default:return 32}default:return 32}}var Rc=!1,ra=null,ia=null,la=null,Ji=new Map,Qi=new Map,Vn=[],Bw="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Gh(e,t){switch(e){case"focusin":case"focusout":ra=null;break;case"dragenter":case"dragleave":ia=null;break;case"mouseover":case"mouseout":la=null;break;case"pointerover":case"pointerout":Ji.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Qi.delete(t.pointerId)}}function di(e,t,n,a,r,i){return e===null||e.nativeEvent!==i?(e={blockedOn:t,domEventName:n,eventSystemFlags:a,nativeEvent:i,targetContainers:[r]},t!==null&&(t=Vr(t),t!==null&&Tp(t)),e):(e.eventSystemFlags|=a,t=e.targetContainers,r!==null&&t.indexOf(r)===-1&&t.push(r),e)}function Lw(e,t,n,a,r){switch(t){case"focusin":return ra=di(ra,e,t,n,a,r),!0;case"dragenter":return ia=di(ia,e,t,n,a,r),!0;case"mouseover":return la=di(la,e,t,n,a,r),!0;case"pointerover":var i=r.pointerId;return Ji.set(i,di(Ji.get(i)||null,e,t,n,a,r)),!0;case"gotpointercapture":return i=r.pointerId,Qi.set(i,di(Qi.get(i)||null,e,t,n,a,r)),!0}return!1}function kp(e){var t=or(e.target);if(t!==null){var n=il(t);if(n!==null){if(t=n.tag,t===13){if(t=Y0(n),t!==null){e.blockedOn=t,Af(e.priority,function(){$h(n)});return}}else if(t===31){if(t=K0(n),t!==null){e.blockedOn=t,Af(e.priority,function(){$h(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function hs(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=kc(e.nativeEvent);if(n===null){n=e.nativeEvent;var a=new n.constructor(n.type,n);Ku=a,n.target.dispatchEvent(a),Ku=null}else return t=Vr(n),t!==null&&Tp(t),e.blockedOn=n,!1;t.shift()}return!0}function Ih(e,t,n){hs(e)&&n.delete(t)}function Hw(){Rc=!1,ra!==null&&hs(ra)&&(ra=null),ia!==null&&hs(ia)&&(ia=null),la!==null&&hs(la)&&(la=null),Ji.forEach(Ih),Qi.forEach(Ih)}function ql(e,t){e.blockedOn===t&&(e.blockedOn=null,Rc||(Rc=!0,Ze.unstable_scheduleCallback(Ze.unstable_NormalPriority,Hw)))}var $l=null;function Vh(e){$l!==e&&($l=e,Ze.unstable_scheduleCallback(Ze.unstable_NormalPriority,function(){$l===e&&($l=null);for(var t=0;t<e.length;t+=3){var n=e[t],a=e[t+1],r=e[t+2];if(typeof a!="function"){if(Kd(a||n)===null)continue;break}var i=Vr(n);i!==null&&(e.splice(t,3),t-=3,oc(i,{pending:!0,data:r,method:n.method,action:a},a,r))}}))}function Br(e){function t(o){return ql(o,e)}ra!==null&&ql(ra,e),ia!==null&&ql(ia,e),la!==null&&ql(la,e),Ji.forEach(t),Qi.forEach(t);for(var n=0;n<Vn.length;n++){var a=Vn[n];a.blockedOn===e&&(a.blockedOn=null)}for(;0<Vn.length&&(n=Vn[0],n.blockedOn===null);)kp(n),n.blockedOn===null&&Vn.shift();if(n=(e.ownerDocument||e).$$reactFormReplay,n!=null)for(a=0;a<n.length;a+=3){var r=n[a],i=n[a+1],l=r[bt]||null;if(typeof i=="function")l||Vh(n);else if(l){var s=null;if(i&&i.hasAttribute("formAction")){if(r=i,l=i[bt]||null)s=l.formAction;else if(Kd(r)!==null)continue}else s=l.action;typeof s=="function"?n[a+1]=s:(n.splice(a,3),a-=3),Vh(n)}}}function Rp(){function e(i){i.canIntercept&&i.info==="react-transition"&&i.intercept({handler:function(){return new Promise(function(l){return r=l})},focusReset:"manual",scroll:"manual"})}function t(){r!==null&&(r(),r=null),a||setTimeout(n,20)}function n(){if(!a&&!navigation.transition){var i=navigation.currentEntry;i&&i.url!=null&&navigation.navigate(i.url,{state:i.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var a=!1,r=null;return navigation.addEventListener("navigate",e),navigation.addEventListener("navigatesuccess",t),navigation.addEventListener("navigateerror",t),setTimeout(n,100),function(){a=!0,navigation.removeEventListener("navigate",e),navigation.removeEventListener("navigatesuccess",t),navigation.removeEventListener("navigateerror",t),r!==null&&(r(),r=null)}}}function Pd(e){this._internalRoot=e}po.prototype.render=Pd.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(D(409));var n=t.current,a=Nt();Ep(n,a,e,t,null,null)};po.prototype.unmount=Pd.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Ep(e.current,2,null,e,null,null),ho(),t[Ir]=null}};function po(e){this._internalRoot=e}po.prototype.unstable_scheduleHydration=function(e){if(e){var t=ag();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Vn.length&&t!==0&&t<Vn[n].priority;n++);Vn.splice(n,0,e),n===0&&kp(e)}};var Yh=I0.version;if(Yh!=="19.2.4")throw Error(D(527,Yh,"19.2.4"));ge.findDOMNode=function(e){var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(D(188)):(e=Object.keys(e).join(","),Error(D(268,e)));return e=mv(t),e=e!==null?P0(e):null,e=e===null?null:e.stateNode,e};var qw={bundleType:0,version:"19.2.4",rendererPackageName:"react-dom",currentDispatcherRef:te,reconcilerVersion:"19.2.4"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Gl=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Gl.isDisabled&&Gl.supportsFiber)try{ll=Gl.inject(qw),Ct=Gl}catch{}}Fs.createRoot=function(e,t){if(!V0(e))throw Error(D(299));var n=!1,a="",r=bm,i=wm,l=_m;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(a=t.identifierPrefix),t.onUncaughtError!==void 0&&(r=t.onUncaughtError),t.onCaughtError!==void 0&&(i=t.onCaughtError),t.onRecoverableError!==void 0&&(l=t.onRecoverableError)),t=Sp(e,1,!1,null,null,n,a,null,r,i,l,Rp),e[Ir]=t.current,$d(e),new Pd(t)};Fs.hydrateRoot=function(e,t,n){if(!V0(e))throw Error(D(299));var a=!1,r="",i=bm,l=wm,s=_m,o=null;return n!=null&&(n.unstable_strictMode===!0&&(a=!0),n.identifierPrefix!==void 0&&(r=n.identifierPrefix),n.onUncaughtError!==void 0&&(i=n.onUncaughtError),n.onCaughtError!==void 0&&(l=n.onCaughtError),n.onRecoverableError!==void 0&&(s=n.onRecoverableError),n.formState!==void 0&&(o=n.formState)),t=Sp(e,1,!0,t,n??null,a,r,o,i,l,s,Rp),t.context=xp(null),n=t.current,a=Nt(),a=td(a),r=ea(a),r.callback=null,ta(n,r,a),n=a,t.current.lanes=n,ol(t,n),sn(t),e[Ir]=t.current,$d(e),new po(t)};Fs.version="19.2.4";function Cp(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(Cp)}catch(e){console.error(e)}}Cp(),z0.exports=Fs;var $w=z0.exports;const Gw=Kc($w);/**
 * react-router v7.13.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var Kh="popstate";function Iw(e={}){function t(a,r){let{pathname:i,search:l,hash:s}=a.location;return Cc("",{pathname:i,search:l,hash:s},r.state&&r.state.usr||null,r.state&&r.state.key||"default")}function n(a,r){return typeof r=="string"?r:Zi(r)}return Yw(t,n,null,e)}function Me(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function rn(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function Vw(){return Math.random().toString(36).substring(2,10)}function Ph(e,t){return{usr:e.state,key:e.key,idx:t}}function Cc(e,t,n=null,a){return{pathname:typeof e=="string"?e:e.pathname,search:"",hash:"",...typeof t=="string"?Qr(t):t,state:n,key:t&&t.key||a||Vw()}}function Zi({pathname:e="/",search:t="",hash:n=""}){return t&&t!=="?"&&(e+=t.charAt(0)==="?"?t:"?"+t),n&&n!=="#"&&(e+=n.charAt(0)==="#"?n:"#"+n),e}function Qr(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substring(n),e=e.substring(0,n));let a=e.indexOf("?");a>=0&&(t.search=e.substring(a),e=e.substring(0,a)),e&&(t.pathname=e)}return t}function Yw(e,t,n,a={}){let{window:r=document.defaultView,v5Compat:i=!1}=a,l=r.history,s="POP",o=null,u=c();u==null&&(u=0,l.replaceState({...l.state,idx:u},""));function c(){return(l.state||{idx:null}).idx}function h(){s="POP";let E=c(),p=E==null?null:E-u;u=E,o&&o({action:s,location:b.location,delta:p})}function d(E,p){s="PUSH";let m=Cc(b.location,E,p);u=c()+1;let g=Ph(m,u),w=b.createHref(m);try{l.pushState(g,"",w)}catch(S){if(S instanceof DOMException&&S.name==="DataCloneError")throw S;r.location.assign(w)}i&&o&&o({action:s,location:b.location,delta:1})}function f(E,p){s="REPLACE";let m=Cc(b.location,E,p);u=c();let g=Ph(m,u),w=b.createHref(m);l.replaceState(g,"",w),i&&o&&o({action:s,location:b.location,delta:0})}function v(E){return Kw(E)}let b={get action(){return s},get location(){return e(r,l)},listen(E){if(o)throw new Error("A history only accepts one active listener");return r.addEventListener(Kh,h),o=E,()=>{r.removeEventListener(Kh,h),o=null}},createHref(E){return t(r,E)},createURL:v,encodeLocation(E){let p=v(E);return{pathname:p.pathname,search:p.search,hash:p.hash}},push:d,replace:f,go(E){return l.go(E)}};return b}function Kw(e,t=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),Me(n,"No window.location.(origin|href) available to create URL");let a=typeof e=="string"?e:Zi(e);return a=a.replace(/ $/,"%20"),!t&&a.startsWith("//")&&(a=n+a),new URL(a,n)}function Op(e,t,n="/"){return Pw(e,t,n,!1)}function Pw(e,t,n,a){let r=typeof t=="string"?Qr(t):t,i=Nn(r.pathname||"/",n);if(i==null)return null;let l=Np(e);Xw(l);let s=null;for(let o=0;s==null&&o<l.length;++o){let u=i_(i);s=a_(l[o],u,a)}return s}function Np(e,t=[],n=[],a="",r=!1){let i=(l,s,o=r,u)=>{let c={relativePath:u===void 0?l.path||"":u,caseSensitive:l.caseSensitive===!0,childrenIndex:s,route:l};if(c.relativePath.startsWith("/")){if(!c.relativePath.startsWith(a)&&o)return;Me(c.relativePath.startsWith(a),`Absolute route path "${c.relativePath}" nested under path "${a}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),c.relativePath=c.relativePath.slice(a.length)}let h=Tn([a,c.relativePath]),d=n.concat(c);l.children&&l.children.length>0&&(Me(l.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${h}".`),Np(l.children,t,d,h,o)),!(l.path==null&&!l.index)&&t.push({path:h,score:t_(h,l.index),routesMeta:d})};return e.forEach((l,s)=>{var o;if(l.path===""||!((o=l.path)!=null&&o.includes("?")))i(l,s);else for(let u of jp(l.path))i(l,s,!0,u)}),t}function jp(e){let t=e.split("/");if(t.length===0)return[];let[n,...a]=t,r=n.endsWith("?"),i=n.replace(/\?$/,"");if(a.length===0)return r?[i,""]:[i];let l=jp(a.join("/")),s=[];return s.push(...l.map(o=>o===""?i:[i,o].join("/"))),r&&s.push(...l),s.map(o=>e.startsWith("/")&&o===""?"/":o)}function Xw(e){e.sort((t,n)=>t.score!==n.score?n.score-t.score:n_(t.routesMeta.map(a=>a.childrenIndex),n.routesMeta.map(a=>a.childrenIndex)))}var Jw=/^:[\w-]+$/,Qw=3,Zw=2,Fw=1,Ww=10,e_=-2,Xh=e=>e==="*";function t_(e,t){let n=e.split("/"),a=n.length;return n.some(Xh)&&(a+=e_),t&&(a+=Zw),n.filter(r=>!Xh(r)).reduce((r,i)=>r+(Jw.test(i)?Qw:i===""?Fw:Ww),a)}function n_(e,t){return e.length===t.length&&e.slice(0,-1).every((a,r)=>a===t[r])?e[e.length-1]-t[t.length-1]:0}function a_(e,t,n=!1){let{routesMeta:a}=e,r={},i="/",l=[];for(let s=0;s<a.length;++s){let o=a[s],u=s===a.length-1,c=i==="/"?t:t.slice(i.length)||"/",h=Ys({path:o.relativePath,caseSensitive:o.caseSensitive,end:u},c),d=o.route;if(!h&&u&&n&&!a[a.length-1].route.index&&(h=Ys({path:o.relativePath,caseSensitive:o.caseSensitive,end:!1},c)),!h)return null;Object.assign(r,h.params),l.push({params:r,pathname:Tn([i,h.pathname]),pathnameBase:u_(Tn([i,h.pathnameBase])),route:d}),h.pathnameBase!=="/"&&(i=Tn([i,h.pathnameBase]))}return l}function Ys(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[n,a]=r_(e.path,e.caseSensitive,e.end),r=t.match(n);if(!r)return null;let i=r[0],l=i.replace(/(.)\/+$/,"$1"),s=r.slice(1);return{params:a.reduce((u,{paramName:c,isOptional:h},d)=>{if(c==="*"){let v=s[d]||"";l=i.slice(0,i.length-v.length).replace(/(.)\/+$/,"$1")}const f=s[d];return h&&!f?u[c]=void 0:u[c]=(f||"").replace(/%2F/g,"/"),u},{}),pathname:i,pathnameBase:l,pattern:e}}function r_(e,t=!1,n=!0){rn(e==="*"||!e.endsWith("*")||e.endsWith("/*"),`Route path "${e}" will be treated as if it were "${e.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${e.replace(/\*$/,"/*")}".`);let a=[],r="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(l,s,o)=>(a.push({paramName:s,isOptional:o!=null}),o?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return e.endsWith("*")?(a.push({paramName:"*"}),r+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?r+="\\/*$":e!==""&&e!=="/"&&(r+="(?:(?=\\/|$))"),[new RegExp(r,t?void 0:"i"),a]}function i_(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return rn(!1,`The URL path "${e}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${t}).`),e}}function Nn(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,a=e.charAt(n);return a&&a!=="/"?null:e.slice(n)||"/"}var l_=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i;function s_(e,t="/"){let{pathname:n,search:a="",hash:r=""}=typeof e=="string"?Qr(e):e,i;return n?(n=n.replace(/\/\/+/g,"/"),n.startsWith("/")?i=Jh(n.substring(1),"/"):i=Jh(n,t)):i=t,{pathname:i,search:c_(a),hash:d_(r)}}function Jh(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(r=>{r===".."?n.length>1&&n.pop():r!=="."&&n.push(r)}),n.length>1?n.join("/"):"/"}function pu(e,t,n,a){return`Cannot include a '${e}' character in a manually specified \`to.${t}\` field [${JSON.stringify(a)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function o_(e){return e.filter((t,n)=>n===0||t.route.path&&t.route.path.length>0)}function Dp(e){let t=o_(e);return t.map((n,a)=>a===t.length-1?n.pathname:n.pathnameBase)}function Up(e,t,n,a=!1){let r;typeof e=="string"?r=Qr(e):(r={...e},Me(!r.pathname||!r.pathname.includes("?"),pu("?","pathname","search",r)),Me(!r.pathname||!r.pathname.includes("#"),pu("#","pathname","hash",r)),Me(!r.search||!r.search.includes("#"),pu("#","search","hash",r)));let i=e===""||r.pathname==="",l=i?"/":r.pathname,s;if(l==null)s=n;else{let h=t.length-1;if(!a&&l.startsWith("..")){let d=l.split("/");for(;d[0]==="..";)d.shift(),h-=1;r.pathname=d.join("/")}s=h>=0?t[h]:"/"}let o=s_(r,s),u=l&&l!=="/"&&l.endsWith("/"),c=(i||l===".")&&n.endsWith("/");return!o.pathname.endsWith("/")&&(u||c)&&(o.pathname+="/"),o}var Tn=e=>e.join("/").replace(/\/\/+/g,"/"),u_=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),c_=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,d_=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e,f_=class{constructor(e,t,n,a=!1){this.status=e,this.statusText=t||"",this.internal=a,n instanceof Error?(this.data=n.toString(),this.error=n):this.data=n}};function h_(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}function g_(e){return e.map(t=>t.route.path).filter(Boolean).join("/").replace(/\/\/*/g,"/")||"/"}var Mp=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function zp(e,t){let n=e;if(typeof n!="string"||!l_.test(n))return{absoluteURL:void 0,isExternal:!1,to:n};let a=n,r=!1;if(Mp)try{let i=new URL(window.location.href),l=n.startsWith("//")?new URL(i.protocol+n):new URL(n),s=Nn(l.pathname,t);l.origin===i.origin&&s!=null?n=s+l.search+l.hash:r=!0}catch{rn(!1,`<Link to="${n}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}return{absoluteURL:a,isExternal:r,to:n}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var Bp=["POST","PUT","PATCH","DELETE"];new Set(Bp);var m_=["GET",...Bp];new Set(m_);var Zr=x.createContext(null);Zr.displayName="DataRouter";var yo=x.createContext(null);yo.displayName="DataRouterState";var p_=x.createContext(!1),Lp=x.createContext({isTransitioning:!1});Lp.displayName="ViewTransition";var y_=x.createContext(new Map);y_.displayName="Fetchers";var v_=x.createContext(null);v_.displayName="Await";var Kt=x.createContext(null);Kt.displayName="Navigation";var yl=x.createContext(null);yl.displayName="Location";var on=x.createContext({outlet:null,matches:[],isDataRoute:!1});on.displayName="Route";var Xd=x.createContext(null);Xd.displayName="RouteError";var Hp="REACT_ROUTER_ERROR",b_="REDIRECT",w_="ROUTE_ERROR_RESPONSE";function __(e){if(e.startsWith(`${Hp}:${b_}:{`))try{let t=JSON.parse(e.slice(28));if(typeof t=="object"&&t&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.location=="string"&&typeof t.reloadDocument=="boolean"&&typeof t.replace=="boolean")return t}catch{}}function S_(e){if(e.startsWith(`${Hp}:${w_}:{`))try{let t=JSON.parse(e.slice(40));if(typeof t=="object"&&t&&typeof t.status=="number"&&typeof t.statusText=="string")return new f_(t.status,t.statusText,t.data)}catch{}}function x_(e,{relative:t}={}){Me(vl(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:a}=x.useContext(Kt),{hash:r,pathname:i,search:l}=bl(e,{relative:t}),s=i;return n!=="/"&&(s=i==="/"?n:Tn([n,i])),a.createHref({pathname:s,search:l,hash:r})}function vl(){return x.useContext(yl)!=null}function Ia(){return Me(vl(),"useLocation() may be used only in the context of a <Router> component."),x.useContext(yl).location}var qp="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function $p(e){x.useContext(Kt).static||x.useLayoutEffect(e)}function E_(){let{isDataRoute:e}=x.useContext(on);return e?L_():T_()}function T_(){Me(vl(),"useNavigate() may be used only in the context of a <Router> component.");let e=x.useContext(Zr),{basename:t,navigator:n}=x.useContext(Kt),{matches:a}=x.useContext(on),{pathname:r}=Ia(),i=JSON.stringify(Dp(a)),l=x.useRef(!1);return $p(()=>{l.current=!0}),x.useCallback((o,u={})=>{if(rn(l.current,qp),!l.current)return;if(typeof o=="number"){n.go(o);return}let c=Up(o,JSON.parse(i),r,u.relative==="path");e==null&&t!=="/"&&(c.pathname=c.pathname==="/"?t:Tn([t,c.pathname])),(u.replace?n.replace:n.push)(c,u.state,u)},[t,n,i,r,e])}x.createContext(null);function A_(){let{matches:e}=x.useContext(on),t=e[e.length-1];return t?t.params:{}}function bl(e,{relative:t}={}){let{matches:n}=x.useContext(on),{pathname:a}=Ia(),r=JSON.stringify(Dp(n));return x.useMemo(()=>Up(e,JSON.parse(r),a,t==="path"),[e,r,a,t])}function k_(e,t){return Gp(e,t)}function Gp(e,t,n,a,r){var m;Me(vl(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:i}=x.useContext(Kt),{matches:l}=x.useContext(on),s=l[l.length-1],o=s?s.params:{},u=s?s.pathname:"/",c=s?s.pathnameBase:"/",h=s&&s.route;{let g=h&&h.path||"";Vp(u,!h||g.endsWith("*")||g.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${u}" (under <Route path="${g}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${g}"> to <Route path="${g==="/"?"*":`${g}/*`}">.`)}let d=Ia(),f;if(t){let g=typeof t=="string"?Qr(t):t;Me(c==="/"||((m=g.pathname)==null?void 0:m.startsWith(c)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${c}" but pathname "${g.pathname}" was given in the \`location\` prop.`),f=g}else f=d;let v=f.pathname||"/",b=v;if(c!=="/"){let g=c.replace(/^\//,"").split("/");b="/"+v.replace(/^\//,"").split("/").slice(g.length).join("/")}let E=Op(e,{pathname:b});rn(h||E!=null,`No routes matched location "${f.pathname}${f.search}${f.hash}" `),rn(E==null||E[E.length-1].route.element!==void 0||E[E.length-1].route.Component!==void 0||E[E.length-1].route.lazy!==void 0,`Matched leaf route at location "${f.pathname}${f.search}${f.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let p=j_(E&&E.map(g=>Object.assign({},g,{params:Object.assign({},o,g.params),pathname:Tn([c,i.encodeLocation?i.encodeLocation(g.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:g.pathname]),pathnameBase:g.pathnameBase==="/"?c:Tn([c,i.encodeLocation?i.encodeLocation(g.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:g.pathnameBase])})),l,n,a,r);return t&&p?x.createElement(yl.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...f},navigationType:"POP"}},p):p}function R_(){let e=B_(),t=h_(e)?`${e.status} ${e.statusText}`:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,a="rgba(200,200,200, 0.5)",r={padding:"0.5rem",backgroundColor:a},i={padding:"2px 4px",backgroundColor:a},l=null;return console.error("Error handled by React Router default ErrorBoundary:",e),l=x.createElement(x.Fragment,null,x.createElement("p",null," Hey developer "),x.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",x.createElement("code",{style:i},"ErrorBoundary")," or"," ",x.createElement("code",{style:i},"errorElement")," prop on your route.")),x.createElement(x.Fragment,null,x.createElement("h2",null,"Unexpected Application Error!"),x.createElement("h3",{style:{fontStyle:"italic"}},t),n?x.createElement("pre",{style:r},n):null,l)}var C_=x.createElement(R_,null),Ip=class extends x.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||t.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){this.props.onError?this.props.onError(e,t):console.error("React Router caught the following error during render",e)}render(){let e=this.state.error;if(this.context&&typeof e=="object"&&e&&"digest"in e&&typeof e.digest=="string"){const n=S_(e.digest);n&&(e=n)}let t=e!==void 0?x.createElement(on.Provider,{value:this.props.routeContext},x.createElement(Xd.Provider,{value:e,children:this.props.component})):this.props.children;return this.context?x.createElement(O_,{error:e},t):t}};Ip.contextType=p_;var yu=new WeakMap;function O_({children:e,error:t}){let{basename:n}=x.useContext(Kt);if(typeof t=="object"&&t&&"digest"in t&&typeof t.digest=="string"){let a=__(t.digest);if(a){let r=yu.get(t);if(r)throw r;let i=zp(a.location,n);if(Mp&&!yu.get(t))if(i.isExternal||a.reloadDocument)window.location.href=i.absoluteURL||i.to;else{const l=Promise.resolve().then(()=>window.__reactRouterDataRouter.navigate(i.to,{replace:a.replace}));throw yu.set(t,l),l}return x.createElement("meta",{httpEquiv:"refresh",content:`0;url=${i.absoluteURL||i.to}`})}}return e}function N_({routeContext:e,match:t,children:n}){let a=x.useContext(Zr);return a&&a.static&&a.staticContext&&(t.route.errorElement||t.route.ErrorBoundary)&&(a.staticContext._deepestRenderedBoundaryId=t.route.id),x.createElement(on.Provider,{value:e},n)}function j_(e,t=[],n=null,a=null,r=null){if(e==null){if(!n)return null;if(n.errors)e=n.matches;else if(t.length===0&&!n.initialized&&n.matches.length>0)e=n.matches;else return null}let i=e,l=n==null?void 0:n.errors;if(l!=null){let c=i.findIndex(h=>h.route.id&&(l==null?void 0:l[h.route.id])!==void 0);Me(c>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(l).join(",")}`),i=i.slice(0,Math.min(i.length,c+1))}let s=!1,o=-1;if(n)for(let c=0;c<i.length;c++){let h=i[c];if((h.route.HydrateFallback||h.route.hydrateFallbackElement)&&(o=c),h.route.id){let{loaderData:d,errors:f}=n,v=h.route.loader&&!d.hasOwnProperty(h.route.id)&&(!f||f[h.route.id]===void 0);if(h.route.lazy||v){s=!0,o>=0?i=i.slice(0,o+1):i=[i[0]];break}}}let u=n&&a?(c,h)=>{var d,f;a(c,{location:n.location,params:((f=(d=n.matches)==null?void 0:d[0])==null?void 0:f.params)??{},unstable_pattern:g_(n.matches),errorInfo:h})}:void 0;return i.reduceRight((c,h,d)=>{let f,v=!1,b=null,E=null;n&&(f=l&&h.route.id?l[h.route.id]:void 0,b=h.route.errorElement||C_,s&&(o<0&&d===0?(Vp("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),v=!0,E=null):o===d&&(v=!0,E=h.route.hydrateFallbackElement||null)));let p=t.concat(i.slice(0,d+1)),m=()=>{let g;return f?g=b:v?g=E:h.route.Component?g=x.createElement(h.route.Component,null):h.route.element?g=h.route.element:g=c,x.createElement(N_,{match:h,routeContext:{outlet:c,matches:p,isDataRoute:n!=null},children:g})};return n&&(h.route.ErrorBoundary||h.route.errorElement||d===0)?x.createElement(Ip,{location:n.location,revalidation:n.revalidation,component:b,error:f,children:m(),routeContext:{outlet:null,matches:p,isDataRoute:!0},onError:u}):m()},null)}function Jd(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function D_(e){let t=x.useContext(Zr);return Me(t,Jd(e)),t}function U_(e){let t=x.useContext(yo);return Me(t,Jd(e)),t}function M_(e){let t=x.useContext(on);return Me(t,Jd(e)),t}function Qd(e){let t=M_(e),n=t.matches[t.matches.length-1];return Me(n.route.id,`${e} can only be used on routes that contain a unique "id"`),n.route.id}function z_(){return Qd("useRouteId")}function B_(){var a;let e=x.useContext(Xd),t=U_("useRouteError"),n=Qd("useRouteError");return e!==void 0?e:(a=t.errors)==null?void 0:a[n]}function L_(){let{router:e}=D_("useNavigate"),t=Qd("useNavigate"),n=x.useRef(!1);return $p(()=>{n.current=!0}),x.useCallback(async(r,i={})=>{rn(n.current,qp),n.current&&(typeof r=="number"?await e.navigate(r):await e.navigate(r,{fromRouteId:t,...i}))},[e,t])}var Qh={};function Vp(e,t,n){!t&&!Qh[e]&&(Qh[e]=!0,rn(!1,n))}x.memo(H_);function H_({routes:e,future:t,state:n,onError:a}){return Gp(e,void 0,n,a,t)}function Oc(e){Me(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function q_({basename:e="/",children:t=null,location:n,navigationType:a="POP",navigator:r,static:i=!1,unstable_useTransitions:l}){Me(!vl(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let s=e.replace(/^\/*/,"/"),o=x.useMemo(()=>({basename:s,navigator:r,static:i,unstable_useTransitions:l,future:{}}),[s,r,i,l]);typeof n=="string"&&(n=Qr(n));let{pathname:u="/",search:c="",hash:h="",state:d=null,key:f="default"}=n,v=x.useMemo(()=>{let b=Nn(u,s);return b==null?null:{location:{pathname:b,search:c,hash:h,state:d,key:f},navigationType:a}},[s,u,c,h,d,f,a]);return rn(v!=null,`<Router basename="${s}"> is not able to match the URL "${u}${c}${h}" because it does not start with the basename, so the <Router> won't render anything.`),v==null?null:x.createElement(Kt.Provider,{value:o},x.createElement(yl.Provider,{children:t,value:v}))}function $_({children:e,location:t}){return k_(Nc(e),t)}function Nc(e,t=[]){let n=[];return x.Children.forEach(e,(a,r)=>{if(!x.isValidElement(a))return;let i=[...t,r];if(a.type===x.Fragment){n.push.apply(n,Nc(a.props.children,i));return}Me(a.type===Oc,`[${typeof a.type=="string"?a.type:a.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),Me(!a.props.index||!a.props.children,"An index route cannot have child routes.");let l={id:a.props.id||i.join("-"),caseSensitive:a.props.caseSensitive,element:a.props.element,Component:a.props.Component,index:a.props.index,path:a.props.path,middleware:a.props.middleware,loader:a.props.loader,action:a.props.action,hydrateFallbackElement:a.props.hydrateFallbackElement,HydrateFallback:a.props.HydrateFallback,errorElement:a.props.errorElement,ErrorBoundary:a.props.ErrorBoundary,hasErrorBoundary:a.props.hasErrorBoundary===!0||a.props.ErrorBoundary!=null||a.props.errorElement!=null,shouldRevalidate:a.props.shouldRevalidate,handle:a.props.handle,lazy:a.props.lazy};a.props.children&&(l.children=Nc(a.props.children,i)),n.push(l)}),n}var gs="get",ms="application/x-www-form-urlencoded";function vo(e){return typeof HTMLElement<"u"&&e instanceof HTMLElement}function G_(e){return vo(e)&&e.tagName.toLowerCase()==="button"}function I_(e){return vo(e)&&e.tagName.toLowerCase()==="form"}function V_(e){return vo(e)&&e.tagName.toLowerCase()==="input"}function Y_(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function K_(e,t){return e.button===0&&(!t||t==="_self")&&!Y_(e)}var Il=null;function P_(){if(Il===null)try{new FormData(document.createElement("form"),0),Il=!1}catch{Il=!0}return Il}var X_=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function vu(e){return e!=null&&!X_.has(e)?(rn(!1,`"${e}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${ms}"`),null):e}function J_(e,t){let n,a,r,i,l;if(I_(e)){let s=e.getAttribute("action");a=s?Nn(s,t):null,n=e.getAttribute("method")||gs,r=vu(e.getAttribute("enctype"))||ms,i=new FormData(e)}else if(G_(e)||V_(e)&&(e.type==="submit"||e.type==="image")){let s=e.form;if(s==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let o=e.getAttribute("formaction")||s.getAttribute("action");if(a=o?Nn(o,t):null,n=e.getAttribute("formmethod")||s.getAttribute("method")||gs,r=vu(e.getAttribute("formenctype"))||vu(s.getAttribute("enctype"))||ms,i=new FormData(s,e),!P_()){let{name:u,type:c,value:h}=e;if(c==="image"){let d=u?`${u}.`:"";i.append(`${d}x`,"0"),i.append(`${d}y`,"0")}else u&&i.append(u,h)}}else{if(vo(e))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=gs,a=null,r=ms,l=e}return i&&r==="text/plain"&&(l=i,i=void 0),{action:a,method:n.toLowerCase(),encType:r,formData:i,body:l}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function Zd(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function Q_(e,t,n,a){let r=typeof e=="string"?new URL(e,typeof window>"u"?"server://singlefetch/":window.location.origin):e;return n?r.pathname.endsWith("/")?r.pathname=`${r.pathname}_.${a}`:r.pathname=`${r.pathname}.${a}`:r.pathname==="/"?r.pathname=`_root.${a}`:t&&Nn(r.pathname,t)==="/"?r.pathname=`${t.replace(/\/$/,"")}/_root.${a}`:r.pathname=`${r.pathname.replace(/\/$/,"")}.${a}`,r}async function Z_(e,t){if(e.id in t)return t[e.id];try{let n=await import(e.module);return t[e.id]=n,n}catch(n){return console.error(`Error loading route module \`${e.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function F_(e){return e==null?!1:e.href==null?e.rel==="preload"&&typeof e.imageSrcSet=="string"&&typeof e.imageSizes=="string":typeof e.rel=="string"&&typeof e.href=="string"}async function W_(e,t,n){let a=await Promise.all(e.map(async r=>{let i=t.routes[r.route.id];if(i){let l=await Z_(i,n);return l.links?l.links():[]}return[]}));return aS(a.flat(1).filter(F_).filter(r=>r.rel==="stylesheet"||r.rel==="preload").map(r=>r.rel==="stylesheet"?{...r,rel:"prefetch",as:"style"}:{...r,rel:"prefetch"}))}function Zh(e,t,n,a,r,i){let l=(o,u)=>n[u]?o.route.id!==n[u].route.id:!0,s=(o,u)=>{var c;return n[u].pathname!==o.pathname||((c=n[u].route.path)==null?void 0:c.endsWith("*"))&&n[u].params["*"]!==o.params["*"]};return i==="assets"?t.filter((o,u)=>l(o,u)||s(o,u)):i==="data"?t.filter((o,u)=>{var h;let c=a.routes[o.route.id];if(!c||!c.hasLoader)return!1;if(l(o,u)||s(o,u))return!0;if(o.route.shouldRevalidate){let d=o.route.shouldRevalidate({currentUrl:new URL(r.pathname+r.search+r.hash,window.origin),currentParams:((h=n[0])==null?void 0:h.params)||{},nextUrl:new URL(e,window.origin),nextParams:o.params,defaultShouldRevalidate:!0});if(typeof d=="boolean")return d}return!0}):[]}function eS(e,t,{includeHydrateFallback:n}={}){return tS(e.map(a=>{let r=t.routes[a.route.id];if(!r)return[];let i=[r.module];return r.clientActionModule&&(i=i.concat(r.clientActionModule)),r.clientLoaderModule&&(i=i.concat(r.clientLoaderModule)),n&&r.hydrateFallbackModule&&(i=i.concat(r.hydrateFallbackModule)),r.imports&&(i=i.concat(r.imports)),i}).flat(1))}function tS(e){return[...new Set(e)]}function nS(e){let t={},n=Object.keys(e).sort();for(let a of n)t[a]=e[a];return t}function aS(e,t){let n=new Set;return new Set(t),e.reduce((a,r)=>{let i=JSON.stringify(nS(r));return n.has(i)||(n.add(i),a.push({key:i,link:r})),a},[])}function Yp(){let e=x.useContext(Zr);return Zd(e,"You must render this element inside a <DataRouterContext.Provider> element"),e}function rS(){let e=x.useContext(yo);return Zd(e,"You must render this element inside a <DataRouterStateContext.Provider> element"),e}var Fd=x.createContext(void 0);Fd.displayName="FrameworkContext";function Kp(){let e=x.useContext(Fd);return Zd(e,"You must render this element inside a <HydratedRouter> element"),e}function iS(e,t){let n=x.useContext(Fd),[a,r]=x.useState(!1),[i,l]=x.useState(!1),{onFocus:s,onBlur:o,onMouseEnter:u,onMouseLeave:c,onTouchStart:h}=t,d=x.useRef(null);x.useEffect(()=>{if(e==="render"&&l(!0),e==="viewport"){let b=p=>{p.forEach(m=>{l(m.isIntersecting)})},E=new IntersectionObserver(b,{threshold:.5});return d.current&&E.observe(d.current),()=>{E.disconnect()}}},[e]),x.useEffect(()=>{if(a){let b=setTimeout(()=>{l(!0)},100);return()=>{clearTimeout(b)}}},[a]);let f=()=>{r(!0)},v=()=>{r(!1),l(!1)};return n?e!=="intent"?[i,d,{}]:[i,d,{onFocus:fi(s,f),onBlur:fi(o,v),onMouseEnter:fi(u,f),onMouseLeave:fi(c,v),onTouchStart:fi(h,f)}]:[!1,d,{}]}function fi(e,t){return n=>{e&&e(n),n.defaultPrevented||t(n)}}function lS({page:e,...t}){let{router:n}=Yp(),a=x.useMemo(()=>Op(n.routes,e,n.basename),[n.routes,e,n.basename]);return a?x.createElement(oS,{page:e,matches:a,...t}):null}function sS(e){let{manifest:t,routeModules:n}=Kp(),[a,r]=x.useState([]);return x.useEffect(()=>{let i=!1;return W_(e,t,n).then(l=>{i||r(l)}),()=>{i=!0}},[e,t,n]),a}function oS({page:e,matches:t,...n}){let a=Ia(),{future:r,manifest:i,routeModules:l}=Kp(),{basename:s}=Yp(),{loaderData:o,matches:u}=rS(),c=x.useMemo(()=>Zh(e,t,u,i,a,"data"),[e,t,u,i,a]),h=x.useMemo(()=>Zh(e,t,u,i,a,"assets"),[e,t,u,i,a]),d=x.useMemo(()=>{if(e===a.pathname+a.search+a.hash)return[];let b=new Set,E=!1;if(t.forEach(m=>{var w;let g=i.routes[m.route.id];!g||!g.hasLoader||(!c.some(S=>S.route.id===m.route.id)&&m.route.id in o&&((w=l[m.route.id])!=null&&w.shouldRevalidate)||g.hasClientLoader?E=!0:b.add(m.route.id))}),b.size===0)return[];let p=Q_(e,s,r.unstable_trailingSlashAwareDataRequests,"data");return E&&b.size>0&&p.searchParams.set("_routes",t.filter(m=>b.has(m.route.id)).map(m=>m.route.id).join(",")),[p.pathname+p.search]},[s,r.unstable_trailingSlashAwareDataRequests,o,a,i,c,t,e,l]),f=x.useMemo(()=>eS(h,i),[h,i]),v=sS(h);return x.createElement(x.Fragment,null,d.map(b=>x.createElement("link",{key:b,rel:"prefetch",as:"fetch",href:b,...n})),f.map(b=>x.createElement("link",{key:b,rel:"modulepreload",href:b,...n})),v.map(({key:b,link:E})=>x.createElement("link",{key:b,nonce:n.nonce,...E,crossOrigin:E.crossOrigin??n.crossOrigin})))}function uS(...e){return t=>{e.forEach(n=>{typeof n=="function"?n(t):n!=null&&(n.current=t)})}}var cS=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{cS&&(window.__reactRouterVersion="7.13.0")}catch{}function dS({basename:e,children:t,unstable_useTransitions:n,window:a}){let r=x.useRef();r.current==null&&(r.current=Iw({window:a,v5Compat:!0}));let i=r.current,[l,s]=x.useState({action:i.action,location:i.location}),o=x.useCallback(u=>{n===!1?s(u):x.startTransition(()=>s(u))},[n]);return x.useLayoutEffect(()=>i.listen(o),[i,o]),x.createElement(q_,{basename:e,children:t,location:l.location,navigationType:l.action,navigator:i,unstable_useTransitions:n})}var Pp=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Xp=x.forwardRef(function({onClick:t,discover:n="render",prefetch:a="none",relative:r,reloadDocument:i,replace:l,state:s,target:o,to:u,preventScrollReset:c,viewTransition:h,unstable_defaultShouldRevalidate:d,...f},v){let{basename:b,unstable_useTransitions:E}=x.useContext(Kt),p=typeof u=="string"&&Pp.test(u),m=zp(u,b);u=m.to;let g=x_(u,{relative:r}),[w,S,k]=iS(a,f),R=mS(u,{replace:l,state:s,target:o,preventScrollReset:c,relative:r,viewTransition:h,unstable_defaultShouldRevalidate:d,unstable_useTransitions:E});function U(q){t&&t(q),q.defaultPrevented||R(q)}let M=x.createElement("a",{...f,...k,href:m.absoluteURL||g,onClick:m.isExternal||i?t:U,ref:uS(v,S),target:o,"data-discover":!p&&n==="render"?"true":void 0});return w&&!p?x.createElement(x.Fragment,null,M,x.createElement(lS,{page:g})):M});Xp.displayName="Link";var fS=x.forwardRef(function({"aria-current":t="page",caseSensitive:n=!1,className:a="",end:r=!1,style:i,to:l,viewTransition:s,children:o,...u},c){let h=bl(l,{relative:u.relative}),d=Ia(),f=x.useContext(yo),{navigator:v,basename:b}=x.useContext(Kt),E=f!=null&&wS(h)&&s===!0,p=v.encodeLocation?v.encodeLocation(h).pathname:h.pathname,m=d.pathname,g=f&&f.navigation&&f.navigation.location?f.navigation.location.pathname:null;n||(m=m.toLowerCase(),g=g?g.toLowerCase():null,p=p.toLowerCase()),g&&b&&(g=Nn(g,b)||g);const w=p!=="/"&&p.endsWith("/")?p.length-1:p.length;let S=m===p||!r&&m.startsWith(p)&&m.charAt(w)==="/",k=g!=null&&(g===p||!r&&g.startsWith(p)&&g.charAt(p.length)==="/"),R={isActive:S,isPending:k,isTransitioning:E},U=S?t:void 0,M;typeof a=="function"?M=a(R):M=[a,S?"active":null,k?"pending":null,E?"transitioning":null].filter(Boolean).join(" ");let q=typeof i=="function"?i(R):i;return x.createElement(Xp,{...u,"aria-current":U,className:M,ref:c,style:q,to:l,viewTransition:s},typeof o=="function"?o(R):o)});fS.displayName="NavLink";var hS=x.forwardRef(({discover:e="render",fetcherKey:t,navigate:n,reloadDocument:a,replace:r,state:i,method:l=gs,action:s,onSubmit:o,relative:u,preventScrollReset:c,viewTransition:h,unstable_defaultShouldRevalidate:d,...f},v)=>{let{unstable_useTransitions:b}=x.useContext(Kt),E=vS(),p=bS(s,{relative:u}),m=l.toLowerCase()==="get"?"get":"post",g=typeof s=="string"&&Pp.test(s),w=S=>{if(o&&o(S),S.defaultPrevented)return;S.preventDefault();let k=S.nativeEvent.submitter,R=(k==null?void 0:k.getAttribute("formmethod"))||l,U=()=>E(k||S.currentTarget,{fetcherKey:t,method:R,navigate:n,replace:r,state:i,relative:u,preventScrollReset:c,viewTransition:h,unstable_defaultShouldRevalidate:d});b&&n!==!1?x.startTransition(()=>U()):U()};return x.createElement("form",{ref:v,method:m,action:p,onSubmit:a?o:w,...f,"data-discover":!g&&e==="render"?"true":void 0})});hS.displayName="Form";function gS(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function Jp(e){let t=x.useContext(Zr);return Me(t,gS(e)),t}function mS(e,{target:t,replace:n,state:a,preventScrollReset:r,relative:i,viewTransition:l,unstable_defaultShouldRevalidate:s,unstable_useTransitions:o}={}){let u=E_(),c=Ia(),h=bl(e,{relative:i});return x.useCallback(d=>{if(K_(d,t)){d.preventDefault();let f=n!==void 0?n:Zi(c)===Zi(h),v=()=>u(e,{replace:f,state:a,preventScrollReset:r,relative:i,viewTransition:l,unstable_defaultShouldRevalidate:s});o?x.startTransition(()=>v()):v()}},[c,u,h,n,a,t,e,r,i,l,s,o])}var pS=0,yS=()=>`__${String(++pS)}__`;function vS(){let{router:e}=Jp("useSubmit"),{basename:t}=x.useContext(Kt),n=z_(),a=e.fetch,r=e.navigate;return x.useCallback(async(i,l={})=>{let{action:s,method:o,encType:u,formData:c,body:h}=J_(i,t);if(l.navigate===!1){let d=l.fetcherKey||yS();await a(d,n,l.action||s,{unstable_defaultShouldRevalidate:l.unstable_defaultShouldRevalidate,preventScrollReset:l.preventScrollReset,formData:c,body:h,formMethod:l.method||o,formEncType:l.encType||u,flushSync:l.flushSync})}else await r(l.action||s,{unstable_defaultShouldRevalidate:l.unstable_defaultShouldRevalidate,preventScrollReset:l.preventScrollReset,formData:c,body:h,formMethod:l.method||o,formEncType:l.encType||u,replace:l.replace,state:l.state,fromRouteId:n,flushSync:l.flushSync,viewTransition:l.viewTransition})},[a,r,t,n])}function bS(e,{relative:t}={}){let{basename:n}=x.useContext(Kt),a=x.useContext(on);Me(a,"useFormAction must be used inside a RouteContext");let[r]=a.matches.slice(-1),i={...bl(e||".",{relative:t})},l=Ia();if(e==null){i.search=l.search;let s=new URLSearchParams(i.search),o=s.getAll("index");if(o.some(c=>c==="")){s.delete("index"),o.filter(h=>h).forEach(h=>s.append("index",h));let c=s.toString();i.search=c?`?${c}`:""}}return(!e||e===".")&&r.route.index&&(i.search=i.search?i.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(i.pathname=i.pathname==="/"?n:Tn([n,i.pathname])),Zi(i)}function wS(e,{relative:t}={}){let n=x.useContext(Lp);Me(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:a}=Jp("useViewTransitionState"),r=bl(e,{relative:t});if(!n.isTransitioning)return!1;let i=Nn(n.currentLocation.pathname,a)||n.currentLocation.pathname,l=Nn(n.nextLocation.pathname,a)||n.nextLocation.pathname;return Ys(r.pathname,l)!=null||Ys(r.pathname,i)!=null}var Wd={};(function e(t,n,a,r){var i=!!(t.Worker&&t.Blob&&t.Promise&&t.OffscreenCanvas&&t.OffscreenCanvasRenderingContext2D&&t.HTMLCanvasElement&&t.HTMLCanvasElement.prototype.transferControlToOffscreen&&t.URL&&t.URL.createObjectURL),l=typeof Path2D=="function"&&typeof DOMMatrix=="function",s=function(){if(!t.OffscreenCanvas)return!1;var A=new OffscreenCanvas(1,1),T=A.getContext("2d");T.fillRect(0,0,1,1);var G=A.transferToImageBitmap();try{T.createPattern(G,"no-repeat")}catch{return!1}return!0}();function o(){}function u(A){var T=n.exports.Promise,G=T!==void 0?T:t.Promise;return typeof G=="function"?new G(A):(A(o,o),null)}var c=function(A,T){return{transform:function(G){if(A)return G;if(T.has(G))return T.get(G);var X=new OffscreenCanvas(G.width,G.height),J=X.getContext("2d");return J.drawImage(G,0,0),T.set(G,X),X},clear:function(){T.clear()}}}(s,new Map),h=function(){var A=Math.floor(16.666666666666668),T,G,X={},J=0;return typeof requestAnimationFrame=="function"&&typeof cancelAnimationFrame=="function"?(T=function(F){var N=Math.random();return X[N]=requestAnimationFrame(function C(z){J===z||J+A-1<z?(J=z,delete X[N],F()):X[N]=requestAnimationFrame(C)}),N},G=function(F){X[F]&&cancelAnimationFrame(X[F])}):(T=function(F){return setTimeout(F,A)},G=function(F){return clearTimeout(F)}),{frame:T,cancel:G}}(),d=function(){var A,T,G={};function X(J){function F(N,C){J.postMessage({options:N||{},callback:C})}J.init=function(C){var z=C.transferControlToOffscreen();J.postMessage({canvas:z},[z])},J.fire=function(C,z,P){if(T)return F(C,null),T;var Q=Math.random().toString(36).slice(2);return T=u(function(ae){function re(ne){ne.data.callback===Q&&(delete G[Q],J.removeEventListener("message",re),T=null,c.clear(),P(),ae())}J.addEventListener("message",re),F(C,Q),G[Q]=re.bind(null,{data:{callback:Q}})}),T},J.reset=function(){J.postMessage({reset:!0});for(var C in G)G[C](),delete G[C]}}return function(){if(A)return A;if(!a&&i){var J=["var CONFETTI, SIZE = {}, module = {};","("+e.toString()+")(this, module, true, SIZE);","onmessage = function(msg) {","  if (msg.data.options) {","    CONFETTI(msg.data.options).then(function () {","      if (msg.data.callback) {","        postMessage({ callback: msg.data.callback });","      }","    });","  } else if (msg.data.reset) {","    CONFETTI && CONFETTI.reset();","  } else if (msg.data.resize) {","    SIZE.width = msg.data.resize.width;","    SIZE.height = msg.data.resize.height;","  } else if (msg.data.canvas) {","    SIZE.width = msg.data.canvas.width;","    SIZE.height = msg.data.canvas.height;","    CONFETTI = module.exports.create(msg.data.canvas);","  }","}"].join(`
`);try{A=new Worker(URL.createObjectURL(new Blob([J])))}catch(F){return typeof console!==void 0&&typeof console.warn=="function"&&console.warn(" Could not load worker",F),null}X(A)}return A}}(),f={particleCount:50,angle:90,spread:45,startVelocity:45,decay:.9,gravity:1,drift:0,ticks:200,x:.5,y:.5,shapes:["square","circle"],zIndex:100,colors:["#26ccff","#a25afd","#ff5e7e","#88ff5a","#fcff42","#ffa62d","#ff36ff"],disableForReducedMotion:!1,scalar:1};function v(A,T){return T?T(A):A}function b(A){return A!=null}function E(A,T,G){return v(A&&b(A[T])?A[T]:f[T],G)}function p(A){return A<0?0:Math.floor(A)}function m(A,T){return Math.floor(Math.random()*(T-A))+A}function g(A){return parseInt(A,16)}function w(A){return A.map(S)}function S(A){var T=String(A).replace(/[^0-9a-f]/gi,"");return T.length<6&&(T=T[0]+T[0]+T[1]+T[1]+T[2]+T[2]),{r:g(T.substring(0,2)),g:g(T.substring(2,4)),b:g(T.substring(4,6))}}function k(A){var T=E(A,"origin",Object);return T.x=E(T,"x",Number),T.y=E(T,"y",Number),T}function R(A){A.width=document.documentElement.clientWidth,A.height=document.documentElement.clientHeight}function U(A){var T=A.getBoundingClientRect();A.width=T.width,A.height=T.height}function M(A){var T=document.createElement("canvas");return T.style.position="fixed",T.style.top="0px",T.style.left="0px",T.style.pointerEvents="none",T.style.zIndex=A,T}function q(A,T,G,X,J,F,N,C,z){A.save(),A.translate(T,G),A.rotate(F),A.scale(X,J),A.arc(0,0,1,N,C,z),A.restore()}function fe(A){var T=A.angle*(Math.PI/180),G=A.spread*(Math.PI/180);return{x:A.x,y:A.y,wobble:Math.random()*10,wobbleSpeed:Math.min(.11,Math.random()*.1+.05),velocity:A.startVelocity*.5+Math.random()*A.startVelocity,angle2D:-T+(.5*G-Math.random()*G),tiltAngle:(Math.random()*(.75-.25)+.25)*Math.PI,color:A.color,shape:A.shape,tick:0,totalTicks:A.ticks,decay:A.decay,drift:A.drift,random:Math.random()+2,tiltSin:0,tiltCos:0,wobbleX:0,wobbleY:0,gravity:A.gravity*3,ovalScalar:.6,scalar:A.scalar,flat:A.flat}}function Ce(A,T){T.x+=Math.cos(T.angle2D)*T.velocity+T.drift,T.y+=Math.sin(T.angle2D)*T.velocity+T.gravity,T.velocity*=T.decay,T.flat?(T.wobble=0,T.wobbleX=T.x+10*T.scalar,T.wobbleY=T.y+10*T.scalar,T.tiltSin=0,T.tiltCos=0,T.random=1):(T.wobble+=T.wobbleSpeed,T.wobbleX=T.x+10*T.scalar*Math.cos(T.wobble),T.wobbleY=T.y+10*T.scalar*Math.sin(T.wobble),T.tiltAngle+=.1,T.tiltSin=Math.sin(T.tiltAngle),T.tiltCos=Math.cos(T.tiltAngle),T.random=Math.random()+2);var G=T.tick++/T.totalTicks,X=T.x+T.random*T.tiltCos,J=T.y+T.random*T.tiltSin,F=T.wobbleX+T.random*T.tiltCos,N=T.wobbleY+T.random*T.tiltSin;if(A.fillStyle="rgba("+T.color.r+", "+T.color.g+", "+T.color.b+", "+(1-G)+")",A.beginPath(),l&&T.shape.type==="path"&&typeof T.shape.path=="string"&&Array.isArray(T.shape.matrix))A.fill(V(T.shape.path,T.shape.matrix,T.x,T.y,Math.abs(F-X)*.1,Math.abs(N-J)*.1,Math.PI/10*T.wobble));else if(T.shape.type==="bitmap"){var C=Math.PI/10*T.wobble,z=Math.abs(F-X)*.1,P=Math.abs(N-J)*.1,Q=T.shape.bitmap.width*T.scalar,ae=T.shape.bitmap.height*T.scalar,re=new DOMMatrix([Math.cos(C)*z,Math.sin(C)*z,-Math.sin(C)*P,Math.cos(C)*P,T.x,T.y]);re.multiplySelf(new DOMMatrix(T.shape.matrix));var ne=A.createPattern(c.transform(T.shape.bitmap),"no-repeat");ne.setTransform(re),A.globalAlpha=1-G,A.fillStyle=ne,A.fillRect(T.x-Q/2,T.y-ae/2,Q,ae),A.globalAlpha=1}else if(T.shape==="circle")A.ellipse?A.ellipse(T.x,T.y,Math.abs(F-X)*T.ovalScalar,Math.abs(N-J)*T.ovalScalar,Math.PI/10*T.wobble,0,2*Math.PI):q(A,T.x,T.y,Math.abs(F-X)*T.ovalScalar,Math.abs(N-J)*T.ovalScalar,Math.PI/10*T.wobble,0,2*Math.PI);else if(T.shape==="star")for(var I=Math.PI/2*3,Ue=4*T.scalar,Oe=8*T.scalar,Ge=T.x,$=T.y,ht=5,Xe=Math.PI/ht;ht--;)Ge=T.x+Math.cos(I)*Oe,$=T.y+Math.sin(I)*Oe,A.lineTo(Ge,$),I+=Xe,Ge=T.x+Math.cos(I)*Ue,$=T.y+Math.sin(I)*Ue,A.lineTo(Ge,$),I+=Xe;else A.moveTo(Math.floor(T.x),Math.floor(T.y)),A.lineTo(Math.floor(T.wobbleX),Math.floor(J)),A.lineTo(Math.floor(F),Math.floor(N)),A.lineTo(Math.floor(X),Math.floor(T.wobbleY));return A.closePath(),A.fill(),T.tick<T.totalTicks}function De(A,T,G,X,J){var F=T.slice(),N=A.getContext("2d"),C,z,P=u(function(Q){function ae(){C=z=null,N.clearRect(0,0,X.width,X.height),c.clear(),J(),Q()}function re(){a&&!(X.width===r.width&&X.height===r.height)&&(X.width=A.width=r.width,X.height=A.height=r.height),!X.width&&!X.height&&(G(A),X.width=A.width,X.height=A.height),N.clearRect(0,0,X.width,X.height),F=F.filter(function(ne){return Ce(N,ne)}),F.length?C=h.frame(re):ae()}C=h.frame(re),z=ae});return{addFettis:function(Q){return F=F.concat(Q),P},canvas:A,promise:P,reset:function(){C&&h.cancel(C),z&&z()}}}function Ft(A,T){var G=!A,X=!!E(T||{},"resize"),J=!1,F=E(T,"disableForReducedMotion",Boolean),N=i&&!!E(T||{},"useWorker"),C=N?d():null,z=G?R:U,P=A&&C?!!A.__confetti_initialized:!1,Q=typeof matchMedia=="function"&&matchMedia("(prefers-reduced-motion)").matches,ae;function re(I,Ue,Oe){for(var Ge=E(I,"particleCount",p),$=E(I,"angle",Number),ht=E(I,"spread",Number),Xe=E(I,"startVelocity",Number),Va=E(I,"decay",Number),ga=E(I,"gravity",Number),Wr=E(I,"drift",Number),Un=E(I,"colors",w),ei=E(I,"ticks",Number),ma=E(I,"shapes"),_t=E(I,"scalar"),ti=!!E(I,"flat"),pa=k(I),Mn=Ge,Ya=[],ut=A.width*pa.x,ni=A.height*pa.y;Mn--;)Ya.push(fe({x:ut,y:ni,angle:$,spread:ht,startVelocity:Xe,color:Un[Mn%Un.length],shape:ma[m(0,ma.length)],ticks:ei,decay:Va,gravity:ga,drift:Wr,scalar:_t,flat:ti}));return ae?ae.addFettis(Ya):(ae=De(A,Ya,z,Ue,Oe),ae.promise)}function ne(I){var Ue=F||E(I,"disableForReducedMotion",Boolean),Oe=E(I,"zIndex",Number);if(Ue&&Q)return u(function(Xe){Xe()});G&&ae?A=ae.canvas:G&&!A&&(A=M(Oe),document.body.appendChild(A)),X&&!P&&z(A);var Ge={width:A.width,height:A.height};C&&!P&&C.init(A),P=!0,C&&(A.__confetti_initialized=!0);function $(){if(C){var Xe={getBoundingClientRect:function(){if(!G)return A.getBoundingClientRect()}};z(Xe),C.postMessage({resize:{width:Xe.width,height:Xe.height}});return}Ge.width=Ge.height=null}function ht(){ae=null,X&&(J=!1,t.removeEventListener("resize",$)),G&&A&&(document.body.removeChild(A),A=null,P=!1)}return X&&!J&&(J=!0,t.addEventListener("resize",$,!1)),C?C.fire(I,Ge,ht):re(I,Ge,ht)}return ne.reset=function(){C&&C.reset(),ae&&ae.reset()},ne}var ze;function H(){return ze||(ze=Ft(null,{useWorker:!0,resize:!0})),ze}function V(A,T,G,X,J,F,N){var C=new Path2D(A),z=new Path2D;z.addPath(C,new DOMMatrix(T));var P=new Path2D;return P.addPath(z,new DOMMatrix([Math.cos(N)*J,Math.sin(N)*J,-Math.sin(N)*F,Math.cos(N)*F,G,X])),P}function Z(A){if(!l)throw new Error("path confetti are not supported in this browser");var T,G;typeof A=="string"?T=A:(T=A.path,G=A.matrix);var X=new Path2D(T),J=document.createElement("canvas"),F=J.getContext("2d");if(!G){for(var N=1e3,C=N,z=N,P=0,Q=0,ae,re,ne=0;ne<N;ne+=2)for(var I=0;I<N;I+=2)F.isPointInPath(X,ne,I,"nonzero")&&(C=Math.min(C,ne),z=Math.min(z,I),P=Math.max(P,ne),Q=Math.max(Q,I));ae=P-C,re=Q-z;var Ue=10,Oe=Math.min(Ue/ae,Ue/re);G=[Oe,0,0,Oe,-Math.round(ae/2+C)*Oe,-Math.round(re/2+z)*Oe]}return{type:"path",path:T,matrix:G}}function me(A){var T,G=1,X="#000000",J='"Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol", "Noto Color Emoji", "EmojiOne Color", "Android Emoji", "Twemoji Mozilla", "system emoji", sans-serif';typeof A=="string"?T=A:(T=A.text,G="scalar"in A?A.scalar:G,J="fontFamily"in A?A.fontFamily:J,X="color"in A?A.color:X);var F=10*G,N=""+F+"px "+J,C=new OffscreenCanvas(F,F),z=C.getContext("2d");z.font=N;var P=z.measureText(T),Q=Math.ceil(P.actualBoundingBoxRight+P.actualBoundingBoxLeft),ae=Math.ceil(P.actualBoundingBoxAscent+P.actualBoundingBoxDescent),re=2,ne=P.actualBoundingBoxLeft+re,I=P.actualBoundingBoxAscent+re;Q+=re+re,ae+=re+re,C=new OffscreenCanvas(Q,ae),z=C.getContext("2d"),z.font=N,z.fillStyle=X,z.fillText(T,ne,I);var Ue=1/G;return{type:"bitmap",bitmap:C.transferToImageBitmap(),matrix:[Ue,0,0,Ue,-Q*Ue/2,-ae*Ue/2]}}n.exports=function(){return H().apply(this,arguments)},n.exports.reset=function(){H().reset()},n.exports.create=Ft,n.exports.shapeFromPath=Z,n.exports.shapeFromText=me})(function(){return typeof window<"u"?window:typeof self<"u"?self:this||{}}(),Wd,!1);const _S=Wd.exports;Wd.exports.create;const nt=[];for(let e=0;e<256;++e)nt.push((e+256).toString(16).slice(1));function SS(e,t=0){return(nt[e[t+0]]+nt[e[t+1]]+nt[e[t+2]]+nt[e[t+3]]+"-"+nt[e[t+4]]+nt[e[t+5]]+"-"+nt[e[t+6]]+nt[e[t+7]]+"-"+nt[e[t+8]]+nt[e[t+9]]+"-"+nt[e[t+10]]+nt[e[t+11]]+nt[e[t+12]]+nt[e[t+13]]+nt[e[t+14]]+nt[e[t+15]]).toLowerCase()}let bu;const xS=new Uint8Array(16);function ES(){if(!bu){if(typeof crypto>"u"||!crypto.getRandomValues)throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");bu=crypto.getRandomValues.bind(crypto)}return bu(xS)}const TS=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),Fh={randomUUID:TS};function AS(e,t,n){var r;e=e||{};const a=e.random??((r=e.rng)==null?void 0:r.call(e))??ES();if(a.length<16)throw new Error("Random bytes length must be >= 16");return a[6]=a[6]&15|64,a[8]=a[8]&63|128,SS(a)}function kS(e,t,n){return Fh.randomUUID&&!e?Fh.randomUUID():AS(e)}const RS=({isOpen:e,onClose:t,onSave:n,onDelete:a,initialDate:r,initialTask:i})=>{const[l,s]=x.useState("task"),[o,u]=x.useState(""),[c,h]=x.useState("blue"),[d,f]=x.useState("Normal"),[v,b]=x.useState(""),[E,p]=x.useState(""),[m,g]=x.useState(!1),[w,S]=x.useState("calendar"),[k,R]=x.useState(new Date),U=x.useRef(null),[M,q]=x.useState(!1),fe=x.useRef(null),Ce="1h";x.useEffect(()=>{if(e){if(i)s(i.type),u(i.title),h(i.color||"blue"),f(i.urgency),b(i.date),p(i.time||""),R(new Date(i.date));else{s("task"),u(""),h("blue"),f("Normal");const C=r||new Date,z=new Date(C.getTime()-C.getTimezoneOffset()*6e4);b(z.toISOString().split("T")[0]),p(""),R(new Date)}S("calendar"),g(!1),q(!1)}},[e,r,i]),x.useEffect(()=>{const C=z=>{U.current&&!U.current.contains(z.target)&&g(!1),fe.current&&!fe.current.contains(z.target)&&q(!1)};return(m||M)&&document.addEventListener("mousedown",C),()=>{document.removeEventListener("mousedown",C)}},[m,M]);const De=C=>{s(C)},Ft=["Low","Normal","Medium","High"],ze=[{id:"blue",class:"bg-blue-500",ring:"ring-blue-500"},{id:"red",class:"bg-red-500",ring:"ring-red-500"},{id:"green",class:"bg-emerald-500",ring:"ring-emerald-500"},{id:"amber",class:"bg-amber-500",ring:"ring-amber-500"},{id:"violet",class:"bg-violet-500",ring:"ring-violet-500"},{id:"pink",class:"bg-pink-500",ring:"ring-pink-500"},{id:"cyan",class:"bg-cyan-500",ring:"ring-cyan-500"},{id:"slate",class:"bg-slate-500",ring:"ring-slate-500"}],H=C=>{if(C.preventDefault(),!o.trim())return;const z=E,P=Ce,Q=l==="event"?"Normal":d,ae={id:(i==null?void 0:i.id)||kS(),title:o,category:"Deep Work",type:l,color:c,urgency:Q,date:v,time:z,duration:P,status:(i==null?void 0:i.status)||"todo",progress:i==null?void 0:i.progress};n(ae)},V=C=>{C.preventDefault(),C.stopPropagation(),i&&a&&(a(i.id),t())},Z=C=>{if(!C)return"Date";const[z,P,Q]=C.split("-").map(Number);return new Date(z,P-1,Q).toLocaleDateString("en-US",{month:"short",day:"numeric"})},me=(C,z)=>new Date(C,z+1,0).getDate(),A=(C,z)=>new Date(C,z,1).getDay(),T=C=>{C.stopPropagation(),R(new Date(k.getFullYear(),k.getMonth()-1,1))},G=C=>{C.stopPropagation(),R(new Date(k.getFullYear(),k.getMonth()+1,1))},X=C=>{const z=new Date(k.getFullYear(),k.getMonth(),C),P=new Date(z.getTime()-z.getTimezoneOffset()*6e4);b(P.toISOString().split("T")[0])},J=C=>{const z=new Date;let P=new Date;switch(C){case"tomorrow":P.setDate(z.getDate()+1);break;case"nextWeek":P.setDate(z.getDate()+((8-z.getDay())%7||7));break;case"nextWeekend":P.setDate(z.getDate()+((13-z.getDay())%7||7));break}const Q=new Date(P.getTime()-P.getTimezoneOffset()*6e4);b(Q.toISOString().split("T")[0])},F=()=>{const C=[];for(let z=0;z<24;z++)C.push(`${String(z).padStart(2,"0")}:00`),C.push(`${String(z).padStart(2,"0")}:30`);return C},N=()=>{const C=k.getFullYear(),z=k.getMonth(),P=me(C,z),Q=A(C,z),ae=Q===0?6:Q-1,re=[];for(let ne=0;ne<ae;ne++)re.push(y.jsx("div",{className:"w-8 h-8"},`empty-${ne}`));for(let ne=1;ne<=P;ne++){const I=new Date(C,z,ne),Ue=new Date(I.getTime()-I.getTimezoneOffset()*6e4).toISOString().split("T")[0],Oe=v===Ue,Ge=new Date().toDateString()===new Date(C,z,ne).toDateString();re.push(y.jsxs("button",{type:"button",onClick:$=>{$.stopPropagation(),X(ne)},className:`w-8 h-8 flex items-center justify-center rounded-full text-sm font-medium transition-colors relative
                      ${Oe?"bg-blue-600 text-white shadow-md":"text-slate-700 dark:text-slate-300 hover:bg-slate-100 dark:hover:bg-white/10"}
                  `,children:[ne,Ge&&!Oe&&y.jsx("span",{className:"absolute bottom-1 left-1/2 -translate-x-1/2 w-1 h-1 bg-blue-600 rounded-full"})]},ne))}return re};return e?hv.createPortal(y.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/40 backdrop-blur-sm p-4",role:"dialog","aria-modal":!0,children:y.jsx("div",{className:"w-full max-w-md bg-white dark:bg-surface-dark rounded-2xl shadow-2xl border border-slate-200 dark:border-slate-700 overflow-hidden",children:y.jsxs("form",{onSubmit:H,className:"p-6 space-y-6 text-left",children:[y.jsxs("div",{className:"flex items-start justify-between gap-4",children:[y.jsxs("div",{children:[y.jsx("p",{className:"text-xs uppercase font-bold tracking-wider text-slate-500 dark:text-slate-400",children:"Task"}),y.jsx("h2",{className:"text-xl font-bold text-slate-900 dark:text-white",children:i?"Edit Task":"New Task"})]}),y.jsx("button",{type:"button",onClick:t,className:"size-10 rounded-xl hover:bg-slate-100 dark:hover:bg-white/10 flex items-center justify-center text-slate-500",children:y.jsx("span",{className:"material-symbols-outlined text-[22px]",children:"close"})})]}),y.jsxs("div",{className:"space-y-4",children:[y.jsx("div",{className:"grid grid-cols-2 gap-2 bg-slate-50 dark:bg-white/5 p-1 rounded-xl",children:["task","event"].map(C=>y.jsx("button",{type:"button",onClick:()=>De(C),className:`py-2 rounded-lg text-sm font-semibold capitalize transition-colors ${l===C?"bg-white dark:bg-slate-800 shadow-sm text-primary":"text-slate-600 dark:text-slate-300"}`,children:C},C))}),y.jsxs("label",{className:"block space-y-1",children:[y.jsx("span",{className:"text-xs font-semibold text-slate-500 dark:text-slate-400",children:"Title"}),y.jsx("input",{className:"w-full rounded-lg border border-slate-200 dark:border-slate-700 bg-white dark:bg-slate-900 px-3 py-2 text-sm focus:ring-2 focus:ring-primary focus:border-transparent",placeholder:"What needs to be done?",value:o,onChange:C=>u(C.target.value),required:!0,autoFocus:!0})]}),y.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[y.jsxs("div",{className:"space-y-2",ref:U,children:[y.jsx("span",{className:"text-xs font-semibold text-slate-500 dark:text-slate-400",children:"When"}),y.jsxs("button",{type:"button",onClick:()=>g(C=>!C),className:"w-full flex items-center justify-between rounded-lg border border-slate-200 dark:border-slate-700 bg-white dark:bg-slate-900 px-3 py-2 text-sm",children:[y.jsxs("span",{className:"flex items-center gap-2",children:[y.jsx("span",{className:"material-symbols-outlined text-[18px]",children:"event"}),Z(v)]}),y.jsx("span",{className:"material-symbols-outlined text-[18px]",children:"expand_more"})]}),m&&y.jsxs("div",{className:"absolute mt-2 p-3 rounded-xl border border-slate-200 dark:border-slate-700 bg-white dark:bg-slate-900 shadow-lg space-y-3 z-50",children:[y.jsxs("div",{className:"flex items-center justify-between",children:[y.jsx("button",{type:"button",onClick:T,className:"p-2 rounded-lg hover:bg-slate-100 dark:hover:bg-white/10",children:y.jsx("span",{className:"material-symbols-outlined text-[18px]",children:"chevron_left"})}),y.jsx("div",{className:"text-sm font-semibold text-slate-700 dark:text-slate-200",children:k.toLocaleString("default",{month:"long",year:"numeric"})}),y.jsx("button",{type:"button",onClick:G,className:"p-2 rounded-lg hover:bg-slate-100 dark:hover:bg-white/10",children:y.jsx("span",{className:"material-symbols-outlined text-[18px]",children:"chevron_right"})})]}),y.jsx("div",{className:"grid grid-cols-7 gap-1 text-[11px] font-semibold text-slate-400 uppercase tracking-wide",children:["M","T","W","T","F","S","S"].map(C=>y.jsx("div",{className:"text-center py-1",children:C},C))}),y.jsx("div",{className:"grid grid-cols-7 gap-1 text-sm",children:N()}),y.jsxs("div",{className:"grid grid-cols-3 gap-2 text-[10px] font-semibold text-slate-600 dark:text-slate-300",children:[y.jsx("button",{type:"button",onClick:()=>J("tomorrow"),className:"px-2 py-1 rounded-lg border border-slate-200 dark:border-slate-700 hover:bg-slate-100 dark:hover:bg-white/10",children:"Tomorrow"}),y.jsx("button",{type:"button",onClick:()=>J("nextWeek"),className:"px-2 py-1 rounded-lg border border-slate-200 dark:border-slate-700 hover:bg-slate-100 dark:hover:bg-white/10",children:"Week"}),y.jsx("button",{type:"button",onClick:()=>J("nextWeekend"),className:"px-2 py-1 rounded-lg border border-slate-200 dark:border-slate-700 hover:bg-slate-100 dark:hover:bg-white/10",children:"Weekend"})]})]})]}),y.jsxs("div",{className:"space-y-2",children:[y.jsx("span",{className:"text-xs font-semibold text-slate-500 dark:text-slate-400",children:"Time"}),y.jsxs("select",{value:E,onChange:C=>p(C.target.value),className:"w-full rounded-lg border border-slate-200 dark:border-slate-700 bg-white dark:bg-slate-900 px-3 py-2 text-sm",children:[y.jsx("option",{value:"",children:"None"}),F().map(C=>y.jsx("option",{value:C,children:C},C))]})]})]}),l==="task"&&y.jsxs("div",{className:"space-y-2",ref:fe,children:[y.jsxs("div",{className:"flex items-center justify-between",children:[y.jsx("span",{className:"text-xs font-semibold text-slate-500 dark:text-slate-400",children:"Urgency"}),y.jsx("button",{type:"button",onClick:()=>q(C=>!C),className:"text-xs font-semibold text-primary",children:d})]}),M&&y.jsx("div",{className:"grid grid-cols-4 gap-2 text-sm",children:Ft.map(C=>y.jsx("button",{type:"button",onClick:()=>{f(C),q(!1)},className:`px-3 py-2 rounded-lg border text-center ${d===C?"border-primary text-primary":"border-slate-200 dark:border-slate-700 hover:border-primary/40"}`,children:C},C))})]}),y.jsxs("div",{className:"space-y-2",children:[y.jsx("span",{className:"text-xs font-semibold text-slate-500 dark:text-slate-400",children:"Color"}),y.jsx("div",{className:"flex gap-2",children:ze.map(C=>y.jsx("button",{type:"button",onClick:()=>h(C.id),className:`size-9 rounded-full border-2 transition-all ${c===C.id?`${C.ring} border-2 ring-2 ring-offset-2 ring-offset-white dark:ring-offset-slate-900`:"border-transparent hover:border-slate-200"}`,children:y.jsx("span",{className:`block size-full rounded-full ${C.class}`})},C.id))})]})]}),y.jsxs("div",{className:"flex items-center justify-between pt-2",children:[i&&a?y.jsxs("button",{type:"button",onClick:V,className:"flex items-center gap-2 text-sm font-semibold text-red-500 hover:text-red-600",children:[y.jsx("span",{className:"material-symbols-outlined text-[18px]",children:"delete"}),"Delete"]}):y.jsx("div",{}),y.jsxs("div",{className:"flex items-center gap-2",children:[y.jsx("button",{type:"button",onClick:t,className:"px-4 py-2 rounded-lg text-sm font-semibold text-slate-600 dark:text-slate-300 hover:bg-slate-100 dark:hover:bg-white/10",children:"Cancel"}),y.jsx("button",{type:"submit",className:"px-4 py-2 rounded-lg text-sm font-semibold bg-primary text-white shadow-sm hover:bg-primary-dark",children:i?"Save":"Add Task"})]})]})]})})}),document.body):null};function bo(e,t){var n={};for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&t.indexOf(a)<0&&(n[a]=e[a]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,a=Object.getOwnPropertySymbols(e);r<a.length;r++)t.indexOf(a[r])<0&&Object.prototype.propertyIsEnumerable.call(e,a[r])&&(n[a[r]]=e[a[r]]);return n}function CS(e,t,n,a){function r(i){return i instanceof n?i:new n(function(l){l(i)})}return new(n||(n=Promise))(function(i,l){function s(c){try{u(a.next(c))}catch(h){l(h)}}function o(c){try{u(a.throw(c))}catch(h){l(h)}}function u(c){c.done?i(c.value):r(c.value).then(s,o)}u((a=a.apply(e,t||[])).next())})}const OS=e=>e?(...t)=>e(...t):(...t)=>fetch(...t);class ef extends Error{constructor(t,n="FunctionsError",a){super(t),this.name=n,this.context=a}}class NS extends ef{constructor(t){super("Failed to send a request to the Edge Function","FunctionsFetchError",t)}}class Wh extends ef{constructor(t){super("Relay Error invoking the Edge Function","FunctionsRelayError",t)}}class e0 extends ef{constructor(t){super("Edge Function returned a non-2xx status code","FunctionsHttpError",t)}}var jc;(function(e){e.Any="any",e.ApNortheast1="ap-northeast-1",e.ApNortheast2="ap-northeast-2",e.ApSouth1="ap-south-1",e.ApSoutheast1="ap-southeast-1",e.ApSoutheast2="ap-southeast-2",e.CaCentral1="ca-central-1",e.EuCentral1="eu-central-1",e.EuWest1="eu-west-1",e.EuWest2="eu-west-2",e.EuWest3="eu-west-3",e.SaEast1="sa-east-1",e.UsEast1="us-east-1",e.UsWest1="us-west-1",e.UsWest2="us-west-2"})(jc||(jc={}));class jS{constructor(t,{headers:n={},customFetch:a,region:r=jc.Any}={}){this.url=t,this.headers=n,this.region=r,this.fetch=OS(a)}setAuth(t){this.headers.Authorization=`Bearer ${t}`}invoke(t){return CS(this,arguments,void 0,function*(n,a={}){var r;let i,l;try{const{headers:s,method:o,body:u,signal:c,timeout:h}=a;let d={},{region:f}=a;f||(f=this.region);const v=new URL(`${this.url}/${n}`);f&&f!=="any"&&(d["x-region"]=f,v.searchParams.set("forceFunctionRegion",f));let b;u&&(s&&!Object.prototype.hasOwnProperty.call(s,"Content-Type")||!s)?typeof Blob<"u"&&u instanceof Blob||u instanceof ArrayBuffer?(d["Content-Type"]="application/octet-stream",b=u):typeof u=="string"?(d["Content-Type"]="text/plain",b=u):typeof FormData<"u"&&u instanceof FormData?b=u:(d["Content-Type"]="application/json",b=JSON.stringify(u)):u&&typeof u!="string"&&!(typeof Blob<"u"&&u instanceof Blob)&&!(u instanceof ArrayBuffer)&&!(typeof FormData<"u"&&u instanceof FormData)?b=JSON.stringify(u):b=u;let E=c;h&&(l=new AbortController,i=setTimeout(()=>l.abort(),h),c?(E=l.signal,c.addEventListener("abort",()=>l.abort())):E=l.signal);const p=yield this.fetch(v.toString(),{method:o||"POST",headers:Object.assign(Object.assign(Object.assign({},d),this.headers),s),body:b,signal:E}).catch(S=>{throw new NS(S)}),m=p.headers.get("x-relay-error");if(m&&m==="true")throw new Wh(p);if(!p.ok)throw new e0(p);let g=((r=p.headers.get("Content-Type"))!==null&&r!==void 0?r:"text/plain").split(";")[0].trim(),w;return g==="application/json"?w=yield p.json():g==="application/octet-stream"||g==="application/pdf"?w=yield p.blob():g==="text/event-stream"?w=p:g==="multipart/form-data"?w=yield p.formData():w=yield p.text(),{data:w,error:null,response:p}}catch(s){return{data:null,error:s,response:s instanceof e0||s instanceof Wh?s.context:void 0}}finally{i&&clearTimeout(i)}})}}var DS=class extends Error{constructor(e){super(e.message),this.name="PostgrestError",this.details=e.details,this.hint=e.hint,this.code=e.code}},US=class{constructor(e){var t,n;this.shouldThrowOnError=!1,this.method=e.method,this.url=e.url,this.headers=new Headers(e.headers),this.schema=e.schema,this.body=e.body,this.shouldThrowOnError=(t=e.shouldThrowOnError)!==null&&t!==void 0?t:!1,this.signal=e.signal,this.isMaybeSingle=(n=e.isMaybeSingle)!==null&&n!==void 0?n:!1,e.fetch?this.fetch=e.fetch:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(e,t){return this.headers=new Headers(this.headers),this.headers.set(e,t),this}then(e,t){var n=this;this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const a=this.fetch;let r=a(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async i=>{let l=null,s=null,o=null,u=i.status,c=i.statusText;if(i.ok){var h,d;if(n.method!=="HEAD"){var f;const p=await i.text();p===""||(n.headers.get("Accept")==="text/csv"||n.headers.get("Accept")&&(!((f=n.headers.get("Accept"))===null||f===void 0)&&f.includes("application/vnd.pgrst.plan+text"))?s=p:s=JSON.parse(p))}const b=(h=n.headers.get("Prefer"))===null||h===void 0?void 0:h.match(/count=(exact|planned|estimated)/),E=(d=i.headers.get("content-range"))===null||d===void 0?void 0:d.split("/");b&&E&&E.length>1&&(o=parseInt(E[1])),n.isMaybeSingle&&n.method==="GET"&&Array.isArray(s)&&(s.length>1?(l={code:"PGRST116",details:`Results contain ${s.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},s=null,o=null,u=406,c="Not Acceptable"):s.length===1?s=s[0]:s=null)}else{var v;const b=await i.text();try{l=JSON.parse(b),Array.isArray(l)&&i.status===404&&(s=[],l=null,u=200,c="OK")}catch{i.status===404&&b===""?(u=204,c="No Content"):l={message:b}}if(l&&n.isMaybeSingle&&(!(l==null||(v=l.details)===null||v===void 0)&&v.includes("0 rows"))&&(l=null,u=200,c="OK"),l&&n.shouldThrowOnError)throw new DS(l)}return{error:l,data:s,count:o,status:u,statusText:c}});return this.shouldThrowOnError||(r=r.catch(i=>{var l;let s="";const o=i==null?void 0:i.cause;if(o){var u,c,h,d;const v=(u=o==null?void 0:o.message)!==null&&u!==void 0?u:"",b=(c=o==null?void 0:o.code)!==null&&c!==void 0?c:"";s=`${(h=i==null?void 0:i.name)!==null&&h!==void 0?h:"FetchError"}: ${i==null?void 0:i.message}`,s+=`

Caused by: ${(d=o==null?void 0:o.name)!==null&&d!==void 0?d:"Error"}: ${v}`,b&&(s+=` (${b})`),o!=null&&o.stack&&(s+=`
${o.stack}`)}else{var f;s=(f=i==null?void 0:i.stack)!==null&&f!==void 0?f:""}return{error:{message:`${(l=i==null?void 0:i.name)!==null&&l!==void 0?l:"FetchError"}: ${i==null?void 0:i.message}`,details:s,hint:"",code:""},data:null,count:null,status:0,statusText:""}})),r.then(e,t)}returns(){return this}overrideTypes(){return this}},MS=class extends US{select(e){let t=!1;const n=(e??"*").split("").map(a=>/\s/.test(a)&&!t?"":(a==='"'&&(t=!t),a)).join("");return this.url.searchParams.set("select",n),this.headers.append("Prefer","return=representation"),this}order(e,{ascending:t=!0,nullsFirst:n,foreignTable:a,referencedTable:r=a}={}){const i=r?`${r}.order`:"order",l=this.url.searchParams.get(i);return this.url.searchParams.set(i,`${l?`${l},`:""}${e}.${t?"asc":"desc"}${n===void 0?"":n?".nullsfirst":".nullslast"}`),this}limit(e,{foreignTable:t,referencedTable:n=t}={}){const a=typeof n>"u"?"limit":`${n}.limit`;return this.url.searchParams.set(a,`${e}`),this}range(e,t,{foreignTable:n,referencedTable:a=n}={}){const r=typeof a>"u"?"offset":`${a}.offset`,i=typeof a>"u"?"limit":`${a}.limit`;return this.url.searchParams.set(r,`${e}`),this.url.searchParams.set(i,`${t-e+1}`),this}abortSignal(e){return this.signal=e,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:e=!1,verbose:t=!1,settings:n=!1,buffers:a=!1,wal:r=!1,format:i="text"}={}){var l;const s=[e?"analyze":null,t?"verbose":null,n?"settings":null,a?"buffers":null,r?"wal":null].filter(Boolean).join("|"),o=(l=this.headers.get("Accept"))!==null&&l!==void 0?l:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${i}; for="${o}"; options=${s};`),i==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(e){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${e}`),this}};const t0=new RegExp("[,()]");var ar=class extends MS{eq(e,t){return this.url.searchParams.append(e,`eq.${t}`),this}neq(e,t){return this.url.searchParams.append(e,`neq.${t}`),this}gt(e,t){return this.url.searchParams.append(e,`gt.${t}`),this}gte(e,t){return this.url.searchParams.append(e,`gte.${t}`),this}lt(e,t){return this.url.searchParams.append(e,`lt.${t}`),this}lte(e,t){return this.url.searchParams.append(e,`lte.${t}`),this}like(e,t){return this.url.searchParams.append(e,`like.${t}`),this}likeAllOf(e,t){return this.url.searchParams.append(e,`like(all).{${t.join(",")}}`),this}likeAnyOf(e,t){return this.url.searchParams.append(e,`like(any).{${t.join(",")}}`),this}ilike(e,t){return this.url.searchParams.append(e,`ilike.${t}`),this}ilikeAllOf(e,t){return this.url.searchParams.append(e,`ilike(all).{${t.join(",")}}`),this}ilikeAnyOf(e,t){return this.url.searchParams.append(e,`ilike(any).{${t.join(",")}}`),this}regexMatch(e,t){return this.url.searchParams.append(e,`match.${t}`),this}regexIMatch(e,t){return this.url.searchParams.append(e,`imatch.${t}`),this}is(e,t){return this.url.searchParams.append(e,`is.${t}`),this}isDistinct(e,t){return this.url.searchParams.append(e,`isdistinct.${t}`),this}in(e,t){const n=Array.from(new Set(t)).map(a=>typeof a=="string"&&t0.test(a)?`"${a}"`:`${a}`).join(",");return this.url.searchParams.append(e,`in.(${n})`),this}notIn(e,t){const n=Array.from(new Set(t)).map(a=>typeof a=="string"&&t0.test(a)?`"${a}"`:`${a}`).join(",");return this.url.searchParams.append(e,`not.in.(${n})`),this}contains(e,t){return typeof t=="string"?this.url.searchParams.append(e,`cs.${t}`):Array.isArray(t)?this.url.searchParams.append(e,`cs.{${t.join(",")}}`):this.url.searchParams.append(e,`cs.${JSON.stringify(t)}`),this}containedBy(e,t){return typeof t=="string"?this.url.searchParams.append(e,`cd.${t}`):Array.isArray(t)?this.url.searchParams.append(e,`cd.{${t.join(",")}}`):this.url.searchParams.append(e,`cd.${JSON.stringify(t)}`),this}rangeGt(e,t){return this.url.searchParams.append(e,`sr.${t}`),this}rangeGte(e,t){return this.url.searchParams.append(e,`nxl.${t}`),this}rangeLt(e,t){return this.url.searchParams.append(e,`sl.${t}`),this}rangeLte(e,t){return this.url.searchParams.append(e,`nxr.${t}`),this}rangeAdjacent(e,t){return this.url.searchParams.append(e,`adj.${t}`),this}overlaps(e,t){return typeof t=="string"?this.url.searchParams.append(e,`ov.${t}`):this.url.searchParams.append(e,`ov.{${t.join(",")}}`),this}textSearch(e,t,{config:n,type:a}={}){let r="";a==="plain"?r="pl":a==="phrase"?r="ph":a==="websearch"&&(r="w");const i=n===void 0?"":`(${n})`;return this.url.searchParams.append(e,`${r}fts${i}.${t}`),this}match(e){return Object.entries(e).forEach(([t,n])=>{this.url.searchParams.append(t,`eq.${n}`)}),this}not(e,t,n){return this.url.searchParams.append(e,`not.${t}.${n}`),this}or(e,{foreignTable:t,referencedTable:n=t}={}){const a=n?`${n}.or`:"or";return this.url.searchParams.append(a,`(${e})`),this}filter(e,t,n){return this.url.searchParams.append(e,`${t}.${n}`),this}},zS=class{constructor(e,{headers:t={},schema:n,fetch:a}){this.url=e,this.headers=new Headers(t),this.schema=n,this.fetch=a}cloneRequestState(){return{url:new URL(this.url.toString()),headers:new Headers(this.headers)}}select(e,t){const{head:n=!1,count:a}=t??{},r=n?"HEAD":"GET";let i=!1;const l=(e??"*").split("").map(u=>/\s/.test(u)&&!i?"":(u==='"'&&(i=!i),u)).join(""),{url:s,headers:o}=this.cloneRequestState();return s.searchParams.set("select",l),a&&o.append("Prefer",`count=${a}`),new ar({method:r,url:s,headers:o,schema:this.schema,fetch:this.fetch})}insert(e,{count:t,defaultToNull:n=!0}={}){var a;const r="POST",{url:i,headers:l}=this.cloneRequestState();if(t&&l.append("Prefer",`count=${t}`),n||l.append("Prefer","missing=default"),Array.isArray(e)){const s=e.reduce((o,u)=>o.concat(Object.keys(u)),[]);if(s.length>0){const o=[...new Set(s)].map(u=>`"${u}"`);i.searchParams.set("columns",o.join(","))}}return new ar({method:r,url:i,headers:l,schema:this.schema,body:e,fetch:(a=this.fetch)!==null&&a!==void 0?a:fetch})}upsert(e,{onConflict:t,ignoreDuplicates:n=!1,count:a,defaultToNull:r=!0}={}){var i;const l="POST",{url:s,headers:o}=this.cloneRequestState();if(o.append("Prefer",`resolution=${n?"ignore":"merge"}-duplicates`),t!==void 0&&s.searchParams.set("on_conflict",t),a&&o.append("Prefer",`count=${a}`),r||o.append("Prefer","missing=default"),Array.isArray(e)){const u=e.reduce((c,h)=>c.concat(Object.keys(h)),[]);if(u.length>0){const c=[...new Set(u)].map(h=>`"${h}"`);s.searchParams.set("columns",c.join(","))}}return new ar({method:l,url:s,headers:o,schema:this.schema,body:e,fetch:(i=this.fetch)!==null&&i!==void 0?i:fetch})}update(e,{count:t}={}){var n;const a="PATCH",{url:r,headers:i}=this.cloneRequestState();return t&&i.append("Prefer",`count=${t}`),new ar({method:a,url:r,headers:i,schema:this.schema,body:e,fetch:(n=this.fetch)!==null&&n!==void 0?n:fetch})}delete({count:e}={}){var t;const n="DELETE",{url:a,headers:r}=this.cloneRequestState();return e&&r.append("Prefer",`count=${e}`),new ar({method:n,url:a,headers:r,schema:this.schema,fetch:(t=this.fetch)!==null&&t!==void 0?t:fetch})}},BS=class Qp{constructor(t,{headers:n={},schema:a,fetch:r}={}){this.url=t,this.headers=new Headers(n),this.schemaName=a,this.fetch=r}from(t){if(!t||typeof t!="string"||t.trim()==="")throw new Error("Invalid relation name: relation must be a non-empty string.");return new zS(new URL(`${this.url}/${t}`),{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(t){return new Qp(this.url,{headers:this.headers,schema:t,fetch:this.fetch})}rpc(t,n={},{head:a=!1,get:r=!1,count:i}={}){var l;let s;const o=new URL(`${this.url}/rpc/${t}`);let u;const c=f=>f!==null&&typeof f=="object"&&(!Array.isArray(f)||f.some(c)),h=a&&Object.values(n).some(c);h?(s="POST",u=n):a||r?(s=a?"HEAD":"GET",Object.entries(n).filter(([f,v])=>v!==void 0).map(([f,v])=>[f,Array.isArray(v)?`{${v.join(",")}}`:`${v}`]).forEach(([f,v])=>{o.searchParams.append(f,v)})):(s="POST",u=n);const d=new Headers(this.headers);return h?d.set("Prefer",i?`count=${i},return=minimal`:"return=minimal"):i&&d.set("Prefer",`count=${i}`),new ar({method:s,url:o,headers:d,schema:this.schemaName,body:u,fetch:(l=this.fetch)!==null&&l!==void 0?l:fetch})}};class LS{constructor(){}static detectEnvironment(){var t;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((t=navigator.userAgent)===null||t===void 0)&&t.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};const n=globalThis.process;if(n){const a=n.versions;if(a&&a.node){const r=a.node,i=parseInt(r.replace(/^v/,"").split(".")[0]);return i>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${i} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${i} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const t=this.detectEnvironment();if(t.constructor)return t.constructor;let n=t.error||"WebSocket not supported in this environment.";throw t.workaround&&(n+=`

Suggested solution: ${t.workaround}`),new Error(n)}static createWebSocket(t,n){const a=this.getWebSocketConstructor();return new a(t,n)}static isWebSocketSupported(){try{const t=this.detectEnvironment();return t.type==="native"||t.type==="ws"}catch{return!1}}}const HS="2.93.2",qS=`realtime-js/${HS}`,$S="1.0.0",Zp="2.0.0",n0=Zp,Dc=1e4,GS=1e3,IS=100;var qn;(function(e){e[e.connecting=0]="connecting",e[e.open=1]="open",e[e.closing=2]="closing",e[e.closed=3]="closed"})(qn||(qn={}));var Je;(function(e){e.closed="closed",e.errored="errored",e.joined="joined",e.joining="joining",e.leaving="leaving"})(Je||(Je={}));var Qt;(function(e){e.close="phx_close",e.error="phx_error",e.join="phx_join",e.reply="phx_reply",e.leave="phx_leave",e.access_token="access_token"})(Qt||(Qt={}));var Uc;(function(e){e.websocket="websocket"})(Uc||(Uc={}));var Ta;(function(e){e.Connecting="connecting",e.Open="open",e.Closing="closing",e.Closed="closed"})(Ta||(Ta={}));class VS{constructor(t){this.HEADER_LENGTH=1,this.USER_BROADCAST_PUSH_META_LENGTH=6,this.KINDS={userBroadcastPush:3,userBroadcast:4},this.BINARY_ENCODING=0,this.JSON_ENCODING=1,this.BROADCAST_EVENT="broadcast",this.allowedMetadataKeys=[],this.allowedMetadataKeys=t??[]}encode(t,n){if(t.event===this.BROADCAST_EVENT&&!(t.payload instanceof ArrayBuffer)&&typeof t.payload.event=="string")return n(this._binaryEncodeUserBroadcastPush(t));let a=[t.join_ref,t.ref,t.topic,t.event,t.payload];return n(JSON.stringify(a))}_binaryEncodeUserBroadcastPush(t){var n;return this._isArrayBuffer((n=t.payload)===null||n===void 0?void 0:n.payload)?this._encodeBinaryUserBroadcastPush(t):this._encodeJsonUserBroadcastPush(t)}_encodeBinaryUserBroadcastPush(t){var n,a;const r=(a=(n=t.payload)===null||n===void 0?void 0:n.payload)!==null&&a!==void 0?a:new ArrayBuffer(0);return this._encodeUserBroadcastPush(t,this.BINARY_ENCODING,r)}_encodeJsonUserBroadcastPush(t){var n,a;const r=(a=(n=t.payload)===null||n===void 0?void 0:n.payload)!==null&&a!==void 0?a:{},l=new TextEncoder().encode(JSON.stringify(r)).buffer;return this._encodeUserBroadcastPush(t,this.JSON_ENCODING,l)}_encodeUserBroadcastPush(t,n,a){var r,i;const l=t.topic,s=(r=t.ref)!==null&&r!==void 0?r:"",o=(i=t.join_ref)!==null&&i!==void 0?i:"",u=t.payload.event,c=this.allowedMetadataKeys?this._pick(t.payload,this.allowedMetadataKeys):{},h=Object.keys(c).length===0?"":JSON.stringify(c);if(o.length>255)throw new Error(`joinRef length ${o.length} exceeds maximum of 255`);if(s.length>255)throw new Error(`ref length ${s.length} exceeds maximum of 255`);if(l.length>255)throw new Error(`topic length ${l.length} exceeds maximum of 255`);if(u.length>255)throw new Error(`userEvent length ${u.length} exceeds maximum of 255`);if(h.length>255)throw new Error(`metadata length ${h.length} exceeds maximum of 255`);const d=this.USER_BROADCAST_PUSH_META_LENGTH+o.length+s.length+l.length+u.length+h.length,f=new ArrayBuffer(this.HEADER_LENGTH+d);let v=new DataView(f),b=0;v.setUint8(b++,this.KINDS.userBroadcastPush),v.setUint8(b++,o.length),v.setUint8(b++,s.length),v.setUint8(b++,l.length),v.setUint8(b++,u.length),v.setUint8(b++,h.length),v.setUint8(b++,n),Array.from(o,p=>v.setUint8(b++,p.charCodeAt(0))),Array.from(s,p=>v.setUint8(b++,p.charCodeAt(0))),Array.from(l,p=>v.setUint8(b++,p.charCodeAt(0))),Array.from(u,p=>v.setUint8(b++,p.charCodeAt(0))),Array.from(h,p=>v.setUint8(b++,p.charCodeAt(0)));var E=new Uint8Array(f.byteLength+a.byteLength);return E.set(new Uint8Array(f),0),E.set(new Uint8Array(a),f.byteLength),E.buffer}decode(t,n){if(this._isArrayBuffer(t)){let a=this._binaryDecode(t);return n(a)}if(typeof t=="string"){const a=JSON.parse(t),[r,i,l,s,o]=a;return n({join_ref:r,ref:i,topic:l,event:s,payload:o})}return n({})}_binaryDecode(t){const n=new DataView(t),a=n.getUint8(0),r=new TextDecoder;switch(a){case this.KINDS.userBroadcast:return this._decodeUserBroadcast(t,n,r)}}_decodeUserBroadcast(t,n,a){const r=n.getUint8(1),i=n.getUint8(2),l=n.getUint8(3),s=n.getUint8(4);let o=this.HEADER_LENGTH+4;const u=a.decode(t.slice(o,o+r));o=o+r;const c=a.decode(t.slice(o,o+i));o=o+i;const h=a.decode(t.slice(o,o+l));o=o+l;const d=t.slice(o,t.byteLength),f=s===this.JSON_ENCODING?JSON.parse(a.decode(d)):d,v={type:this.BROADCAST_EVENT,event:c,payload:f};return l>0&&(v.meta=JSON.parse(h)),{join_ref:null,ref:null,topic:u,event:this.BROADCAST_EVENT,payload:v}}_isArrayBuffer(t){var n;return t instanceof ArrayBuffer||((n=t==null?void 0:t.constructor)===null||n===void 0?void 0:n.name)==="ArrayBuffer"}_pick(t,n){return!t||typeof t!="object"?{}:Object.fromEntries(Object.entries(t).filter(([a])=>n.includes(a)))}}class Fp{constructor(t,n){this.callback=t,this.timerCalc=n,this.timer=void 0,this.tries=0,this.callback=t,this.timerCalc=n}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var Se;(function(e){e.abstime="abstime",e.bool="bool",e.date="date",e.daterange="daterange",e.float4="float4",e.float8="float8",e.int2="int2",e.int4="int4",e.int4range="int4range",e.int8="int8",e.int8range="int8range",e.json="json",e.jsonb="jsonb",e.money="money",e.numeric="numeric",e.oid="oid",e.reltime="reltime",e.text="text",e.time="time",e.timestamp="timestamp",e.timestamptz="timestamptz",e.timetz="timetz",e.tsrange="tsrange",e.tstzrange="tstzrange"})(Se||(Se={}));const a0=(e,t,n={})=>{var a;const r=(a=n.skipTypes)!==null&&a!==void 0?a:[];return t?Object.keys(t).reduce((i,l)=>(i[l]=YS(l,e,t,r),i),{}):{}},YS=(e,t,n,a)=>{const r=t.find(s=>s.name===e),i=r==null?void 0:r.type,l=n[e];return i&&!a.includes(i)?Wp(i,l):Mc(l)},Wp=(e,t)=>{if(e.charAt(0)==="_"){const n=e.slice(1,e.length);return JS(t,n)}switch(e){case Se.bool:return KS(t);case Se.float4:case Se.float8:case Se.int2:case Se.int4:case Se.int8:case Se.numeric:case Se.oid:return PS(t);case Se.json:case Se.jsonb:return XS(t);case Se.timestamp:return QS(t);case Se.abstime:case Se.date:case Se.daterange:case Se.int4range:case Se.int8range:case Se.money:case Se.reltime:case Se.text:case Se.time:case Se.timestamptz:case Se.timetz:case Se.tsrange:case Se.tstzrange:return Mc(t);default:return Mc(t)}},Mc=e=>e,KS=e=>{switch(e){case"t":return!0;case"f":return!1;default:return e}},PS=e=>{if(typeof e=="string"){const t=parseFloat(e);if(!Number.isNaN(t))return t}return e},XS=e=>{if(typeof e=="string")try{return JSON.parse(e)}catch{return e}return e},JS=(e,t)=>{if(typeof e!="string")return e;const n=e.length-1,a=e[n];if(e[0]==="{"&&a==="}"){let i;const l=e.slice(1,n);try{i=JSON.parse("["+l+"]")}catch{i=l?l.split(","):[]}return i.map(s=>Wp(t,s))}return e},QS=e=>typeof e=="string"?e.replace(" ","T"):e,ey=e=>{const t=new URL(e);return t.protocol=t.protocol.replace(/^ws/i,"http"),t.pathname=t.pathname.replace(/\/+$/,"").replace(/\/socket\/websocket$/i,"").replace(/\/socket$/i,"").replace(/\/websocket$/i,""),t.pathname===""||t.pathname==="/"?t.pathname="/api/broadcast":t.pathname=t.pathname+"/api/broadcast",t.href};class wu{constructor(t,n,a={},r=Dc){this.channel=t,this.event=n,this.payload=a,this.timeout=r,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(t){this.timeout=t,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(t){this.payload=Object.assign(Object.assign({},this.payload),t)}receive(t,n){var a;return this._hasReceived(t)&&n((a=this.receivedResp)===null||a===void 0?void 0:a.response),this.recHooks.push({status:t,callback:n}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const t=n=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=n,this._matchReceive(n)};this.channel._on(this.refEvent,{},t),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(t,n){this.refEvent&&this.channel._trigger(this.refEvent,{status:t,response:n})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:t,response:n}){this.recHooks.filter(a=>a.status===t).forEach(a=>a.callback(n))}_hasReceived(t){return this.receivedResp&&this.receivedResp.status===t}}var r0;(function(e){e.SYNC="sync",e.JOIN="join",e.LEAVE="leave"})(r0||(r0={}));class Ui{constructor(t,n){this.channel=t,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const a=(n==null?void 0:n.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(a.state,{},r=>{const{onJoin:i,onLeave:l,onSync:s}=this.caller;this.joinRef=this.channel._joinRef(),this.state=Ui.syncState(this.state,r,i,l),this.pendingDiffs.forEach(o=>{this.state=Ui.syncDiff(this.state,o,i,l)}),this.pendingDiffs=[],s()}),this.channel._on(a.diff,{},r=>{const{onJoin:i,onLeave:l,onSync:s}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(r):(this.state=Ui.syncDiff(this.state,r,i,l),s())}),this.onJoin((r,i,l)=>{this.channel._trigger("presence",{event:"join",key:r,currentPresences:i,newPresences:l})}),this.onLeave((r,i,l)=>{this.channel._trigger("presence",{event:"leave",key:r,currentPresences:i,leftPresences:l})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(t,n,a,r){const i=this.cloneDeep(t),l=this.transformState(n),s={},o={};return this.map(i,(u,c)=>{l[u]||(o[u]=c)}),this.map(l,(u,c)=>{const h=i[u];if(h){const d=c.map(E=>E.presence_ref),f=h.map(E=>E.presence_ref),v=c.filter(E=>f.indexOf(E.presence_ref)<0),b=h.filter(E=>d.indexOf(E.presence_ref)<0);v.length>0&&(s[u]=v),b.length>0&&(o[u]=b)}else s[u]=c}),this.syncDiff(i,{joins:s,leaves:o},a,r)}static syncDiff(t,n,a,r){const{joins:i,leaves:l}={joins:this.transformState(n.joins),leaves:this.transformState(n.leaves)};return a||(a=()=>{}),r||(r=()=>{}),this.map(i,(s,o)=>{var u;const c=(u=t[s])!==null&&u!==void 0?u:[];if(t[s]=this.cloneDeep(o),c.length>0){const h=t[s].map(f=>f.presence_ref),d=c.filter(f=>h.indexOf(f.presence_ref)<0);t[s].unshift(...d)}a(s,c,o)}),this.map(l,(s,o)=>{let u=t[s];if(!u)return;const c=o.map(h=>h.presence_ref);u=u.filter(h=>c.indexOf(h.presence_ref)<0),t[s]=u,r(s,u,o),u.length===0&&delete t[s]}),t}static map(t,n){return Object.getOwnPropertyNames(t).map(a=>n(a,t[a]))}static transformState(t){return t=this.cloneDeep(t),Object.getOwnPropertyNames(t).reduce((n,a)=>{const r=t[a];return"metas"in r?n[a]=r.metas.map(i=>(i.presence_ref=i.phx_ref,delete i.phx_ref,delete i.phx_ref_prev,i)):n[a]=r,n},{})}static cloneDeep(t){return JSON.parse(JSON.stringify(t))}onJoin(t){this.caller.onJoin=t}onLeave(t){this.caller.onLeave=t}onSync(t){this.caller.onSync=t}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var i0;(function(e){e.ALL="*",e.INSERT="INSERT",e.UPDATE="UPDATE",e.DELETE="DELETE"})(i0||(i0={}));var Mi;(function(e){e.BROADCAST="broadcast",e.PRESENCE="presence",e.POSTGRES_CHANGES="postgres_changes",e.SYSTEM="system"})(Mi||(Mi={}));var pn;(function(e){e.SUBSCRIBED="SUBSCRIBED",e.TIMED_OUT="TIMED_OUT",e.CLOSED="CLOSED",e.CHANNEL_ERROR="CHANNEL_ERROR"})(pn||(pn={}));class vr{constructor(t,n={config:{}},a){var r,i;if(this.topic=t,this.params=n,this.socket=a,this.bindings={},this.state=Je.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=t.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},n.config),this.timeout=this.socket.timeout,this.joinPush=new wu(this,Qt.join,this.params,this.timeout),this.rejoinTimer=new Fp(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=Je.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(l=>l.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=Je.closed,this.socket._remove(this)}),this._onError(l=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,l),this.state=Je.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=Je.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",l=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,l),this.state=Je.errored,this.rejoinTimer.scheduleTimeout())}),this._on(Qt.reply,{},(l,s)=>{this._trigger(this._replyEventName(s),l)}),this.presence=new Ui(this),this.broadcastEndpointURL=ey(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(!((i=(r=this.params.config)===null||r===void 0?void 0:r.broadcast)===null||i===void 0)&&i.replay))throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(t,n=this.timeout){var a,r,i;if(this.socket.isConnected()||this.socket.connect(),this.state==Je.closed){const{config:{broadcast:l,presence:s,private:o}}=this.params,u=(r=(a=this.bindings.postgres_changes)===null||a===void 0?void 0:a.map(f=>f.filter))!==null&&r!==void 0?r:[],c=!!this.bindings[Mi.PRESENCE]&&this.bindings[Mi.PRESENCE].length>0||((i=this.params.config.presence)===null||i===void 0?void 0:i.enabled)===!0,h={},d={broadcast:l,presence:Object.assign(Object.assign({},s),{enabled:c}),postgres_changes:u,private:o};this.socket.accessTokenValue&&(h.access_token=this.socket.accessTokenValue),this._onError(f=>t==null?void 0:t(pn.CHANNEL_ERROR,f)),this._onClose(()=>t==null?void 0:t(pn.CLOSED)),this.updateJoinPayload(Object.assign({config:d},h)),this.joinedOnce=!0,this._rejoin(n),this.joinPush.receive("ok",async({postgres_changes:f})=>{var v;if(this.socket._isManualToken()||this.socket.setAuth(),f===void 0){t==null||t(pn.SUBSCRIBED);return}else{const b=this.bindings.postgres_changes,E=(v=b==null?void 0:b.length)!==null&&v!==void 0?v:0,p=[];for(let m=0;m<E;m++){const g=b[m],{filter:{event:w,schema:S,table:k,filter:R}}=g,U=f&&f[m];if(U&&U.event===w&&vr.isFilterValueEqual(U.schema,S)&&vr.isFilterValueEqual(U.table,k)&&vr.isFilterValueEqual(U.filter,R))p.push(Object.assign(Object.assign({},g),{id:U.id}));else{this.unsubscribe(),this.state=Je.errored,t==null||t(pn.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=p,t&&t(pn.SUBSCRIBED);return}}).receive("error",f=>{this.state=Je.errored,t==null||t(pn.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(f).join(", ")||"error")))}).receive("timeout",()=>{t==null||t(pn.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(t,n={}){return await this.send({type:"presence",event:"track",payload:t},n.timeout||this.timeout)}async untrack(t={}){return await this.send({type:"presence",event:"untrack"},t)}on(t,n,a){return this.state===Je.joined&&t===Mi.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(async()=>await this.subscribe())),this._on(t,n,a)}async httpSend(t,n,a={}){var r;if(n==null)return Promise.reject("Payload is required for httpSend()");const i={apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"};this.socket.accessTokenValue&&(i.Authorization=`Bearer ${this.socket.accessTokenValue}`);const l={method:"POST",headers:i,body:JSON.stringify({messages:[{topic:this.subTopic,event:t,payload:n,private:this.private}]})},s=await this._fetchWithTimeout(this.broadcastEndpointURL,l,(r=a.timeout)!==null&&r!==void 0?r:this.timeout);if(s.status===202)return{success:!0};let o=s.statusText;try{const u=await s.json();o=u.error||u.message||o}catch{}return Promise.reject(new Error(o))}async send(t,n={}){var a,r;if(!this._canPush()&&t.type==="broadcast"){console.warn("Realtime send() is automatically falling back to REST API. This behavior will be deprecated in the future. Please use httpSend() explicitly for REST delivery.");const{event:i,payload:l}=t,s={apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"};this.socket.accessTokenValue&&(s.Authorization=`Bearer ${this.socket.accessTokenValue}`);const o={method:"POST",headers:s,body:JSON.stringify({messages:[{topic:this.subTopic,event:i,payload:l,private:this.private}]})};try{const u=await this._fetchWithTimeout(this.broadcastEndpointURL,o,(a=n.timeout)!==null&&a!==void 0?a:this.timeout);return await((r=u.body)===null||r===void 0?void 0:r.cancel()),u.ok?"ok":"error"}catch(u){return u.name==="AbortError"?"timed out":"error"}}else return new Promise(i=>{var l,s,o;const u=this._push(t.type,t,n.timeout||this.timeout);t.type==="broadcast"&&!(!((o=(s=(l=this.params)===null||l===void 0?void 0:l.config)===null||s===void 0?void 0:s.broadcast)===null||o===void 0)&&o.ack)&&i("ok"),u.receive("ok",()=>i("ok")),u.receive("error",()=>i("error")),u.receive("timeout",()=>i("timed out"))})}updateJoinPayload(t){this.joinPush.updatePayload(t)}unsubscribe(t=this.timeout){this.state=Je.leaving;const n=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(Qt.close,"leave",this._joinRef())};this.joinPush.destroy();let a=null;return new Promise(r=>{a=new wu(this,Qt.leave,{},t),a.receive("ok",()=>{n(),r("ok")}).receive("timeout",()=>{n(),r("timed out")}).receive("error",()=>{r("error")}),a.send(),this._canPush()||a.trigger("ok",{})}).finally(()=>{a==null||a.destroy()})}teardown(){this.pushBuffer.forEach(t=>t.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=Je.closed,this.bindings={}}async _fetchWithTimeout(t,n,a){const r=new AbortController,i=setTimeout(()=>r.abort(),a),l=await this.socket.fetch(t,Object.assign(Object.assign({},n),{signal:r.signal}));return clearTimeout(i),l}_push(t,n,a=this.timeout){if(!this.joinedOnce)throw`tried to push '${t}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let r=new wu(this,t,n,a);return this._canPush()?r.send():this._addToPushBuffer(r),r}_addToPushBuffer(t){if(t.startTimeout(),this.pushBuffer.push(t),this.pushBuffer.length>IS){const n=this.pushBuffer.shift();n&&(n.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${n.event}`,n.payload))}}_onMessage(t,n,a){return n}_isMember(t){return this.topic===t}_joinRef(){return this.joinPush.ref}_trigger(t,n,a){var r,i;const l=t.toLocaleLowerCase(),{close:s,error:o,leave:u,join:c}=Qt;if(a&&[s,o,u,c].indexOf(l)>=0&&a!==this._joinRef())return;let d=this._onMessage(l,n,a);if(n&&!d)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(l)?(r=this.bindings.postgres_changes)===null||r===void 0||r.filter(f=>{var v,b,E;return((v=f.filter)===null||v===void 0?void 0:v.event)==="*"||((E=(b=f.filter)===null||b===void 0?void 0:b.event)===null||E===void 0?void 0:E.toLocaleLowerCase())===l}).map(f=>f.callback(d,a)):(i=this.bindings[l])===null||i===void 0||i.filter(f=>{var v,b,E,p,m,g;if(["broadcast","presence","postgres_changes"].includes(l))if("id"in f){const w=f.id,S=(v=f.filter)===null||v===void 0?void 0:v.event;return w&&((b=n.ids)===null||b===void 0?void 0:b.includes(w))&&(S==="*"||(S==null?void 0:S.toLocaleLowerCase())===((E=n.data)===null||E===void 0?void 0:E.type.toLocaleLowerCase()))}else{const w=(m=(p=f==null?void 0:f.filter)===null||p===void 0?void 0:p.event)===null||m===void 0?void 0:m.toLocaleLowerCase();return w==="*"||w===((g=n==null?void 0:n.event)===null||g===void 0?void 0:g.toLocaleLowerCase())}else return f.type.toLocaleLowerCase()===l}).map(f=>{if(typeof d=="object"&&"ids"in d){const v=d.data,{schema:b,table:E,commit_timestamp:p,type:m,errors:g}=v;d=Object.assign(Object.assign({},{schema:b,table:E,commit_timestamp:p,eventType:m,new:{},old:{},errors:g}),this._getPayloadRecords(v))}f.callback(d,a)})}_isClosed(){return this.state===Je.closed}_isJoined(){return this.state===Je.joined}_isJoining(){return this.state===Je.joining}_isLeaving(){return this.state===Je.leaving}_replyEventName(t){return`chan_reply_${t}`}_on(t,n,a){const r=t.toLocaleLowerCase(),i={type:r,filter:n,callback:a};return this.bindings[r]?this.bindings[r].push(i):this.bindings[r]=[i],this}_off(t,n){const a=t.toLocaleLowerCase();return this.bindings[a]&&(this.bindings[a]=this.bindings[a].filter(r=>{var i;return!(((i=r.type)===null||i===void 0?void 0:i.toLocaleLowerCase())===a&&vr.isEqual(r.filter,n))})),this}static isEqual(t,n){if(Object.keys(t).length!==Object.keys(n).length)return!1;for(const a in t)if(t[a]!==n[a])return!1;return!0}static isFilterValueEqual(t,n){return(t??void 0)===(n??void 0)}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(t){this._on(Qt.close,{},t)}_onError(t){this._on(Qt.error,{},n=>t(n))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(t=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=Je.joining,this.joinPush.resend(t))}_getPayloadRecords(t){const n={new:{},old:{}};return(t.type==="INSERT"||t.type==="UPDATE")&&(n.new=a0(t.columns,t.record)),(t.type==="UPDATE"||t.type==="DELETE")&&(n.old=a0(t.columns,t.old_record)),n}}const _u=()=>{},Vl={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},ZS=[1e3,2e3,5e3,1e4],FS=1e4,WS=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class e1{constructor(t,n){var a;if(this.accessTokenValue=null,this.apiKey=null,this._manuallySetToken=!1,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=Dc,this.transport=null,this.heartbeatIntervalMs=Vl.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=_u,this.ref=0,this.reconnectTimer=null,this.vsn=n0,this.logger=_u,this.conn=null,this.sendBuffer=[],this.serializer=new VS,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._heartbeatSentAt=null,this._resolveFetch=r=>r?(...i)=>r(...i):(...i)=>fetch(...i),!(!((a=n==null?void 0:n.params)===null||a===void 0)&&a.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=n.params.apikey,this.endPoint=`${t}/${Uc.websocket}`,this.httpEndpoint=ey(t),this._initializeOptions(n),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(n==null?void 0:n.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this.accessToken&&!this._authPromise&&this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=LS.createWebSocket(this.endpointURL())}catch(t){this._setConnectionState("disconnected");const n=t.message;throw n.includes("Node.js")?new Error(`${n}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${n}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:this.vsn}))}disconnect(t,n){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const a=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(a),this._setConnectionState("disconnected")},typeof this.conn.close=="function"&&(t?this.conn.close(t,n??""):this.conn.close()),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(t){const n=await t.unsubscribe();return this.channels.length===0&&this.disconnect(),n}async removeAllChannels(){const t=await Promise.all(this.channels.map(n=>n.unsubscribe()));return this.channels=[],this.disconnect(),t}log(t,n,a){this.logger(t,n,a)}connectionState(){switch(this.conn&&this.conn.readyState){case qn.connecting:return Ta.Connecting;case qn.open:return Ta.Open;case qn.closing:return Ta.Closing;default:return Ta.Closed}}isConnected(){return this.connectionState()===Ta.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(t,n={config:{}}){const a=`realtime:${t}`,r=this.getChannels().find(i=>i.topic===a);if(r)return r;{const i=new vr(`realtime:${t}`,n,this);return this.channels.push(i),i}}push(t){const{topic:n,event:a,payload:r,ref:i}=t,l=()=>{this.encode(t,s=>{var o;(o=this.conn)===null||o===void 0||o.send(s)})};this.log("push",`${n} ${a} (${i})`,r),this.isConnected()?l():this.sendBuffer.push(l)}async setAuth(t=null){this._authPromise=this._performAuth(t);try{await this._authPromise}finally{this._authPromise=null}}_isManualToken(){return this._manuallySetToken}async sendHeartbeat(){var t;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(n){this.log("error","error in heartbeat callback",n)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this._heartbeatSentAt=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(n){this.log("error","error in heartbeat callback",n)}this._wasManualDisconnect=!1,(t=this.conn)===null||t===void 0||t.close(GS,"heartbeat timeout"),setTimeout(()=>{var n;this.isConnected()||(n=this.reconnectTimer)===null||n===void 0||n.scheduleTimeout()},Vl.HEARTBEAT_TIMEOUT_FALLBACK);return}this._heartbeatSentAt=Date.now(),this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(n){this.log("error","error in heartbeat callback",n)}this._setAuthSafely("heartbeat")}onHeartbeat(t){this.heartbeatCallback=t}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(t=>t()),this.sendBuffer=[])}_makeRef(){let t=this.ref+1;return t===this.ref?this.ref=0:this.ref=t,this.ref.toString()}_leaveOpenTopic(t){let n=this.channels.find(a=>a.topic===t&&(a._isJoined()||a._isJoining()));n&&(this.log("transport",`leaving duplicate topic "${t}"`),n.unsubscribe())}_remove(t){this.channels=this.channels.filter(n=>n.topic!==t.topic)}_onConnMessage(t){this.decode(t.data,n=>{if(n.topic==="phoenix"&&n.event==="phx_reply"&&n.ref&&n.ref===this.pendingHeartbeatRef){const u=this._heartbeatSentAt?Date.now()-this._heartbeatSentAt:void 0;try{this.heartbeatCallback(n.payload.status==="ok"?"ok":"error",u)}catch(c){this.log("error","error in heartbeat callback",c)}this._heartbeatSentAt=null,this.pendingHeartbeatRef=null}const{topic:a,event:r,payload:i,ref:l}=n,s=l?`(${l})`:"",o=i.status||"";this.log("receive",`${o} ${a} ${r} ${s}`.trim(),i),this.channels.filter(u=>u._isMember(a)).forEach(u=>u._trigger(r,i,l)),this._triggerStateCallbacks("message",n)})}_clearTimer(t){var n;t==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):t==="reconnect"&&((n=this.reconnectTimer)===null||n===void 0||n.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=t=>this._onConnError(t),this.conn.onmessage=t=>this._onConnMessage(t),this.conn.onclose=t=>this._onConnClose(t),this.conn.readyState===qn.open&&this._onConnOpen())}_teardownConnection(){if(this.conn){if(this.conn.readyState===qn.open||this.conn.readyState===qn.connecting)try{this.conn.close()}catch(t){this.log("error","Error closing connection",t)}this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null}this._clearAllTimers(),this._terminateWorker(),this.channels.forEach(t=>t.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),(this._authPromise||(this.accessToken&&!this.accessTokenValue?this.setAuth():Promise.resolve())).then(()=>{this.flushSendBuffer()}).catch(n=>{this.log("error","error waiting for auth on connect",n),this.flushSendBuffer()}),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const t=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(t),this.workerRef.onerror=n=>{this.log("worker","worker error",n.message),this._terminateWorker()},this.workerRef.onmessage=n=>{n.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_terminateWorker(){this.workerRef&&(this.log("worker","terminating worker"),this.workerRef.terminate(),this.workerRef=void 0)}_onConnClose(t){var n;this._setConnectionState("disconnected"),this.log("transport","close",t),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(n=this.reconnectTimer)===null||n===void 0||n.scheduleTimeout(),this._triggerStateCallbacks("close",t)}_onConnError(t){this._setConnectionState("disconnected"),this.log("transport",`${t}`),this._triggerChanError(),this._triggerStateCallbacks("error",t);try{this.heartbeatCallback("error")}catch(n){this.log("error","error in heartbeat callback",n)}}_triggerChanError(){this.channels.forEach(t=>t._trigger(Qt.error))}_appendParams(t,n){if(Object.keys(n).length===0)return t;const a=t.match(/\?/)?"&":"?",r=new URLSearchParams(n);return`${t}${a}${r}`}_workerObjectUrl(t){let n;if(t)n=t;else{const a=new Blob([WS],{type:"application/javascript"});n=URL.createObjectURL(a)}return n}_setConnectionState(t,n=!1){this._connectionState=t,t==="connecting"?this._wasManualDisconnect=!1:t==="disconnecting"&&(this._wasManualDisconnect=n)}async _performAuth(t=null){let n,a=!1;if(t)n=t,a=!0;else if(this.accessToken)try{n=await this.accessToken()}catch(r){this.log("error","Error fetching access token from callback",r),n=this.accessTokenValue}else n=this.accessTokenValue;a?this._manuallySetToken=!0:this.accessToken&&(this._manuallySetToken=!1),this.accessTokenValue!=n&&(this.accessTokenValue=n,this.channels.forEach(r=>{const i={access_token:n,version:qS};n&&r.updateJoinPayload(i),r.joinedOnce&&r._isJoined()&&r._push(Qt.access_token,{access_token:n})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(t="general"){this._isManualToken()||this.setAuth().catch(n=>{this.log("error",`Error setting auth in ${t}`,n)})}_triggerStateCallbacks(t,n){try{this.stateChangeCallbacks[t].forEach(a=>{try{a(n)}catch(r){this.log("error",`error in ${t} callback`,r)}})}catch(a){this.log("error",`error triggering ${t} callbacks`,a)}}_setupReconnectionTimer(){this.reconnectTimer=new Fp(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},Vl.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(t){var n,a,r,i,l,s,o,u,c,h,d,f;switch(this.transport=(n=t==null?void 0:t.transport)!==null&&n!==void 0?n:null,this.timeout=(a=t==null?void 0:t.timeout)!==null&&a!==void 0?a:Dc,this.heartbeatIntervalMs=(r=t==null?void 0:t.heartbeatIntervalMs)!==null&&r!==void 0?r:Vl.HEARTBEAT_INTERVAL,this.worker=(i=t==null?void 0:t.worker)!==null&&i!==void 0?i:!1,this.accessToken=(l=t==null?void 0:t.accessToken)!==null&&l!==void 0?l:null,this.heartbeatCallback=(s=t==null?void 0:t.heartbeatCallback)!==null&&s!==void 0?s:_u,this.vsn=(o=t==null?void 0:t.vsn)!==null&&o!==void 0?o:n0,t!=null&&t.params&&(this.params=t.params),t!=null&&t.logger&&(this.logger=t.logger),(t!=null&&t.logLevel||t!=null&&t.log_level)&&(this.logLevel=t.logLevel||t.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(u=t==null?void 0:t.reconnectAfterMs)!==null&&u!==void 0?u:v=>ZS[v-1]||FS,this.vsn){case $S:this.encode=(c=t==null?void 0:t.encode)!==null&&c!==void 0?c:(v,b)=>b(JSON.stringify(v)),this.decode=(h=t==null?void 0:t.decode)!==null&&h!==void 0?h:(v,b)=>b(JSON.parse(v));break;case Zp:this.encode=(d=t==null?void 0:t.encode)!==null&&d!==void 0?d:this.serializer.encode.bind(this.serializer),this.decode=(f=t==null?void 0:t.decode)!==null&&f!==void 0?f:this.serializer.decode.bind(this.serializer);break;default:throw new Error(`Unsupported serializer version: ${this.vsn}`)}if(this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=t==null?void 0:t.workerUrl}}}var Fi=class extends Error{constructor(e,t){var n;super(e),this.name="IcebergError",this.status=t.status,this.icebergType=t.icebergType,this.icebergCode=t.icebergCode,this.details=t.details,this.isCommitStateUnknown=t.icebergType==="CommitStateUnknownException"||[500,502,504].includes(t.status)&&((n=t.icebergType)==null?void 0:n.includes("CommitState"))===!0}isNotFound(){return this.status===404}isConflict(){return this.status===409}isAuthenticationTimeout(){return this.status===419}};function t1(e,t,n){const a=new URL(t,e);if(n)for(const[r,i]of Object.entries(n))i!==void 0&&a.searchParams.set(r,i);return a.toString()}async function n1(e){return!e||e.type==="none"?{}:e.type==="bearer"?{Authorization:`Bearer ${e.token}`}:e.type==="header"?{[e.name]:e.value}:e.type==="custom"?await e.getHeaders():{}}function a1(e){const t=e.fetchImpl??globalThis.fetch;return{async request({method:n,path:a,query:r,body:i,headers:l}){const s=t1(e.baseUrl,a,r),o=await n1(e.auth),u=await t(s,{method:n,headers:{...i?{"Content-Type":"application/json"}:{},...o,...l},body:i?JSON.stringify(i):void 0}),c=await u.text(),h=(u.headers.get("content-type")||"").includes("application/json"),d=h&&c?JSON.parse(c):c;if(!u.ok){const f=h?d:void 0,v=f==null?void 0:f.error;throw new Fi((v==null?void 0:v.message)??`Request failed with status ${u.status}`,{status:u.status,icebergType:v==null?void 0:v.type,icebergCode:v==null?void 0:v.code,details:f})}return{status:u.status,headers:u.headers,data:d}}}}function Yl(e){return e.join("")}var r1=class{constructor(e,t=""){this.client=e,this.prefix=t}async listNamespaces(e){const t=e?{parent:Yl(e.namespace)}:void 0;return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces`,query:t})).data.namespaces.map(a=>({namespace:a}))}async createNamespace(e,t){const n={namespace:e.namespace,properties:t==null?void 0:t.properties};return(await this.client.request({method:"POST",path:`${this.prefix}/namespaces`,body:n})).data}async dropNamespace(e){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${Yl(e.namespace)}`})}async loadNamespaceMetadata(e){return{properties:(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${Yl(e.namespace)}`})).data.properties}}async namespaceExists(e){try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${Yl(e.namespace)}`}),!0}catch(t){if(t instanceof Fi&&t.status===404)return!1;throw t}}async createNamespaceIfNotExists(e,t){try{return await this.createNamespace(e,t)}catch(n){if(n instanceof Fi&&n.status===409)return;throw n}}};function Xa(e){return e.join("")}var i1=class{constructor(e,t="",n){this.client=e,this.prefix=t,this.accessDelegation=n}async listTables(e){return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${Xa(e.namespace)}/tables`})).data.identifiers}async createTable(e,t){const n={};return this.accessDelegation&&(n["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${Xa(e.namespace)}/tables`,body:t,headers:n})).data.metadata}async updateTable(e,t){const n=await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${Xa(e.namespace)}/tables/${e.name}`,body:t});return{"metadata-location":n.data["metadata-location"],metadata:n.data.metadata}}async dropTable(e,t){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${Xa(e.namespace)}/tables/${e.name}`,query:{purgeRequested:String((t==null?void 0:t.purge)??!1)}})}async loadTable(e){const t={};return this.accessDelegation&&(t["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${Xa(e.namespace)}/tables/${e.name}`,headers:t})).data.metadata}async tableExists(e){const t={};this.accessDelegation&&(t["X-Iceberg-Access-Delegation"]=this.accessDelegation);try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${Xa(e.namespace)}/tables/${e.name}`,headers:t}),!0}catch(n){if(n instanceof Fi&&n.status===404)return!1;throw n}}async createTableIfNotExists(e,t){try{return await this.createTable(e,t)}catch(n){if(n instanceof Fi&&n.status===409)return await this.loadTable({namespace:e.namespace,name:t.name});throw n}}},l1=class{constructor(e){var a;let t="v1";e.catalogName&&(t+=`/${e.catalogName}`);const n=e.baseUrl.endsWith("/")?e.baseUrl:`${e.baseUrl}/`;this.client=a1({baseUrl:n,auth:e.auth,fetchImpl:e.fetch}),this.accessDelegation=(a=e.accessDelegation)==null?void 0:a.join(","),this.namespaceOps=new r1(this.client,t),this.tableOps=new i1(this.client,t,this.accessDelegation)}async listNamespaces(e){return this.namespaceOps.listNamespaces(e)}async createNamespace(e,t){return this.namespaceOps.createNamespace(e,t)}async dropNamespace(e){await this.namespaceOps.dropNamespace(e)}async loadNamespaceMetadata(e){return this.namespaceOps.loadNamespaceMetadata(e)}async listTables(e){return this.tableOps.listTables(e)}async createTable(e,t){return this.tableOps.createTable(e,t)}async updateTable(e,t){return this.tableOps.updateTable(e,t)}async dropTable(e,t){await this.tableOps.dropTable(e,t)}async loadTable(e){return this.tableOps.loadTable(e)}async namespaceExists(e){return this.namespaceOps.namespaceExists(e)}async tableExists(e){return this.tableOps.tableExists(e)}async createNamespaceIfNotExists(e,t){return this.namespaceOps.createNamespaceIfNotExists(e,t)}async createTableIfNotExists(e,t){return this.tableOps.createTableIfNotExists(e,t)}},wo=class extends Error{constructor(e,t="storage",n,a){super(e),this.__isStorageError=!0,this.namespace=t,this.name=t==="vectors"?"StorageVectorsError":"StorageError",this.status=n,this.statusCode=a}};function _o(e){return typeof e=="object"&&e!==null&&"__isStorageError"in e}var Kl=class extends wo{constructor(e,t,n,a="storage"){super(e,a,t,n),this.name=a==="vectors"?"StorageVectorsApiError":"StorageApiError",this.status=t,this.statusCode=n}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}},ty=class extends wo{constructor(e,t,n="storage"){super(e,n),this.name=n==="vectors"?"StorageVectorsUnknownError":"StorageUnknownError",this.originalError=t}};const s1=e=>e?(...t)=>e(...t):(...t)=>fetch(...t),o1=e=>{if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)},zc=e=>{if(Array.isArray(e))return e.map(n=>zc(n));if(typeof e=="function"||e!==Object(e))return e;const t={};return Object.entries(e).forEach(([n,a])=>{const r=n.replace(/([-_][a-z])/gi,i=>i.toUpperCase().replace(/[-_]/g,""));t[r]=zc(a)}),t},u1=e=>!e||typeof e!="string"||e.length===0||e.length>100||e.trim()!==e||e.includes("/")||e.includes("\\")?!1:/^[\w!.\*'() &$@=;:+,?-]+$/.test(e);function Wi(e){"@babel/helpers - typeof";return Wi=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Wi(e)}function c1(e,t){if(Wi(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var a=n.call(e,t);if(Wi(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function d1(e){var t=c1(e,"string");return Wi(t)=="symbol"?t:t+""}function f1(e,t,n){return(t=d1(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function l0(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable})),n.push.apply(n,a)}return n}function ee(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?l0(Object(n),!0).forEach(function(a){f1(e,a,n[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):l0(Object(n)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(n,a))})}return e}const s0=e=>{var t;return e.msg||e.message||e.error_description||(typeof e.error=="string"?e.error:(t=e.error)===null||t===void 0?void 0:t.message)||JSON.stringify(e)},h1=async(e,t,n,a)=>{if(e&&typeof e=="object"&&"status"in e&&"ok"in e&&typeof e.status=="number"&&!(n!=null&&n.noResolveJson)){const r=e,i=r.status||500;if(typeof r.json=="function")r.json().then(l=>{const s=(l==null?void 0:l.statusCode)||(l==null?void 0:l.code)||i+"";t(new Kl(s0(l),i,s,a))}).catch(()=>{if(a==="vectors"){const l=i+"";t(new Kl(r.statusText||`HTTP ${i} error`,i,l,a))}else{const l=i+"";t(new Kl(r.statusText||`HTTP ${i} error`,i,l,a))}});else{const l=i+"";t(new Kl(r.statusText||`HTTP ${i} error`,i,l,a))}}else t(new ty(s0(e),e,a))},g1=(e,t,n,a)=>{const r={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"||e==="HEAD"||!a?ee(ee({},r),n):(o1(a)?(r.headers=ee({"Content-Type":"application/json"},t==null?void 0:t.headers),r.body=JSON.stringify(a)):r.body=a,t!=null&&t.duplex&&(r.duplex=t.duplex),ee(ee({},r),n))};async function hi(e,t,n,a,r,i,l){return new Promise((s,o)=>{e(n,g1(t,a,r,i)).then(u=>{if(!u.ok)throw u;if(a!=null&&a.noResolveJson)return u;if(l==="vectors"){const c=u.headers.get("content-type");if(!c||!c.includes("application/json"))return{}}return u.json()}).then(u=>s(u)).catch(u=>h1(u,o,a,l))})}function m1(e="storage"){return{get:async(t,n,a,r)=>hi(t,"GET",n,a,r,void 0,e),post:async(t,n,a,r,i)=>hi(t,"POST",n,r,i,a,e),put:async(t,n,a,r,i)=>hi(t,"PUT",n,r,i,a,e),head:async(t,n,a,r)=>hi(t,"HEAD",n,ee(ee({},a),{},{noResolveJson:!0}),r,void 0,e),remove:async(t,n,a,r,i)=>hi(t,"DELETE",n,r,i,a,e)}}const p1=m1("storage"),{get:el,post:je,put:Bc,head:y1,remove:tf}=p1;var Fr=class{constructor(e,t={},n,a="storage"){this.shouldThrowOnError=!1,this.url=e,this.headers=t,this.fetch=s1(n),this.namespace=a}throwOnError(){return this.shouldThrowOnError=!0,this}async handleOperation(e){var t=this;try{return{data:await e(),error:null}}catch(n){if(t.shouldThrowOnError)throw n;if(_o(n))return{data:null,error:n};throw n}}},v1=class{constructor(e,t){this.downloadFn=e,this.shouldThrowOnError=t}then(e,t){return this.execute().then(e,t)}async execute(){var e=this;try{return{data:(await e.downloadFn()).body,error:null}}catch(t){if(e.shouldThrowOnError)throw t;if(_o(t))return{data:null,error:t};throw t}}};let ny;ny=Symbol.toStringTag;var b1=class{constructor(e,t){this.downloadFn=e,this.shouldThrowOnError=t,this[ny]="BlobDownloadBuilder",this.promise=null}asStream(){return new v1(this.downloadFn,this.shouldThrowOnError)}then(e,t){return this.getPromise().then(e,t)}catch(e){return this.getPromise().catch(e)}finally(e){return this.getPromise().finally(e)}getPromise(){return this.promise||(this.promise=this.execute()),this.promise}async execute(){var e=this;try{return{data:await(await e.downloadFn()).blob(),error:null}}catch(t){if(e.shouldThrowOnError)throw t;if(_o(t))return{data:null,error:t};throw t}}};const w1={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},o0={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};var _1=class extends Fr{constructor(e,t={},n,a){super(e,t,a,"storage"),this.bucketId=n}async uploadOrUpdate(e,t,n,a){var r=this;return r.handleOperation(async()=>{let i;const l=ee(ee({},o0),a);let s=ee(ee({},r.headers),e==="POST"&&{"x-upsert":String(l.upsert)});const o=l.metadata;typeof Blob<"u"&&n instanceof Blob?(i=new FormData,i.append("cacheControl",l.cacheControl),o&&i.append("metadata",r.encodeMetadata(o)),i.append("",n)):typeof FormData<"u"&&n instanceof FormData?(i=n,i.has("cacheControl")||i.append("cacheControl",l.cacheControl),o&&!i.has("metadata")&&i.append("metadata",r.encodeMetadata(o))):(i=n,s["cache-control"]=`max-age=${l.cacheControl}`,s["content-type"]=l.contentType,o&&(s["x-metadata"]=r.toBase64(r.encodeMetadata(o))),(typeof ReadableStream<"u"&&i instanceof ReadableStream||i&&typeof i=="object"&&"pipe"in i&&typeof i.pipe=="function")&&!l.duplex&&(l.duplex="half")),a!=null&&a.headers&&(s=ee(ee({},s),a.headers));const u=r._removeEmptyFolders(t),c=r._getFinalPath(u),h=await(e=="PUT"?Bc:je)(r.fetch,`${r.url}/object/${c}`,i,ee({headers:s},l!=null&&l.duplex?{duplex:l.duplex}:{}));return{path:u,id:h.Id,fullPath:h.Key}})}async upload(e,t,n){return this.uploadOrUpdate("POST",e,t,n)}async uploadToSignedUrl(e,t,n,a){var r=this;const i=r._removeEmptyFolders(e),l=r._getFinalPath(i),s=new URL(r.url+`/object/upload/sign/${l}`);return s.searchParams.set("token",t),r.handleOperation(async()=>{let o;const u=ee({upsert:o0.upsert},a),c=ee(ee({},r.headers),{"x-upsert":String(u.upsert)});return typeof Blob<"u"&&n instanceof Blob?(o=new FormData,o.append("cacheControl",u.cacheControl),o.append("",n)):typeof FormData<"u"&&n instanceof FormData?(o=n,o.append("cacheControl",u.cacheControl)):(o=n,c["cache-control"]=`max-age=${u.cacheControl}`,c["content-type"]=u.contentType),{path:i,fullPath:(await Bc(r.fetch,s.toString(),o,{headers:c})).Key}})}async createSignedUploadUrl(e,t){var n=this;return n.handleOperation(async()=>{let a=n._getFinalPath(e);const r=ee({},n.headers);t!=null&&t.upsert&&(r["x-upsert"]="true");const i=await je(n.fetch,`${n.url}/object/upload/sign/${a}`,{},{headers:r}),l=new URL(n.url+i.url),s=l.searchParams.get("token");if(!s)throw new wo("No token returned by API");return{signedUrl:l.toString(),path:e,token:s}})}async update(e,t,n){return this.uploadOrUpdate("PUT",e,t,n)}async move(e,t,n){var a=this;return a.handleOperation(async()=>await je(a.fetch,`${a.url}/object/move`,{bucketId:a.bucketId,sourceKey:e,destinationKey:t,destinationBucket:n==null?void 0:n.destinationBucket},{headers:a.headers}))}async copy(e,t,n){var a=this;return a.handleOperation(async()=>({path:(await je(a.fetch,`${a.url}/object/copy`,{bucketId:a.bucketId,sourceKey:e,destinationKey:t,destinationBucket:n==null?void 0:n.destinationBucket},{headers:a.headers})).Key}))}async createSignedUrl(e,t,n){var a=this;return a.handleOperation(async()=>{let r=a._getFinalPath(e),i=await je(a.fetch,`${a.url}/object/sign/${r}`,ee({expiresIn:t},n!=null&&n.transform?{transform:n.transform}:{}),{headers:a.headers});const l=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return{signedUrl:encodeURI(`${a.url}${i.signedURL}${l}`)}})}async createSignedUrls(e,t,n){var a=this;return a.handleOperation(async()=>{const r=await je(a.fetch,`${a.url}/object/sign/${a.bucketId}`,{expiresIn:t,paths:e},{headers:a.headers}),i=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return r.map(l=>ee(ee({},l),{},{signedUrl:l.signedURL?encodeURI(`${a.url}${l.signedURL}${i}`):null}))})}download(e,t){const n=typeof(t==null?void 0:t.transform)<"u"?"render/image/authenticated":"object",a=this.transformOptsToQueryString((t==null?void 0:t.transform)||{}),r=a?`?${a}`:"",i=this._getFinalPath(e),l=()=>el(this.fetch,`${this.url}/${n}/${i}${r}`,{headers:this.headers,noResolveJson:!0});return new b1(l,this.shouldThrowOnError)}async info(e){var t=this;const n=t._getFinalPath(e);return t.handleOperation(async()=>zc(await el(t.fetch,`${t.url}/object/info/${n}`,{headers:t.headers})))}async exists(e){var t=this;const n=t._getFinalPath(e);try{return await y1(t.fetch,`${t.url}/object/${n}`,{headers:t.headers}),{data:!0,error:null}}catch(a){if(t.shouldThrowOnError)throw a;if(_o(a)&&a instanceof ty){const r=a.originalError;if([400,404].includes(r==null?void 0:r.status))return{data:!1,error:a}}throw a}}getPublicUrl(e,t){const n=this._getFinalPath(e),a=[],r=t!=null&&t.download?`download=${t.download===!0?"":t.download}`:"";r!==""&&a.push(r);const i=typeof(t==null?void 0:t.transform)<"u"?"render/image":"object",l=this.transformOptsToQueryString((t==null?void 0:t.transform)||{});l!==""&&a.push(l);let s=a.join("&");return s!==""&&(s=`?${s}`),{data:{publicUrl:encodeURI(`${this.url}/${i}/public/${n}${s}`)}}}async remove(e){var t=this;return t.handleOperation(async()=>await tf(t.fetch,`${t.url}/object/${t.bucketId}`,{prefixes:e},{headers:t.headers}))}async list(e,t,n){var a=this;return a.handleOperation(async()=>{const r=ee(ee(ee({},w1),t),{},{prefix:e||""});return await je(a.fetch,`${a.url}/object/list/${a.bucketId}`,r,{headers:a.headers},n)})}async listV2(e,t){var n=this;return n.handleOperation(async()=>{const a=ee({},e);return await je(n.fetch,`${n.url}/object/list-v2/${n.bucketId}`,a,{headers:n.headers},t)})}encodeMetadata(e){return JSON.stringify(e)}toBase64(e){return typeof Buffer<"u"?Buffer.from(e).toString("base64"):btoa(e)}_getFinalPath(e){return`${this.bucketId}/${e.replace(/^\/+/,"")}`}_removeEmptyFolders(e){return e.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(e){const t=[];return e.width&&t.push(`width=${e.width}`),e.height&&t.push(`height=${e.height}`),e.resize&&t.push(`resize=${e.resize}`),e.format&&t.push(`format=${e.format}`),e.quality&&t.push(`quality=${e.quality}`),t.join("&")}};const S1="2.93.2",wl={"X-Client-Info":`storage-js/${S1}`};var x1=class extends Fr{constructor(e,t={},n,a){const r=new URL(e);a!=null&&a.useNewHostname&&/supabase\.(co|in|red)$/.test(r.hostname)&&!r.hostname.includes("storage.supabase.")&&(r.hostname=r.hostname.replace("supabase.","storage.supabase."));const i=r.href.replace(/\/$/,""),l=ee(ee({},wl),t);super(i,l,n,"storage")}async listBuckets(e){var t=this;return t.handleOperation(async()=>{const n=t.listBucketOptionsToQueryString(e);return await el(t.fetch,`${t.url}/bucket${n}`,{headers:t.headers})})}async getBucket(e){var t=this;return t.handleOperation(async()=>await el(t.fetch,`${t.url}/bucket/${e}`,{headers:t.headers}))}async createBucket(e,t={public:!1}){var n=this;return n.handleOperation(async()=>await je(n.fetch,`${n.url}/bucket`,{id:e,name:e,type:t.type,public:t.public,file_size_limit:t.fileSizeLimit,allowed_mime_types:t.allowedMimeTypes},{headers:n.headers}))}async updateBucket(e,t){var n=this;return n.handleOperation(async()=>await Bc(n.fetch,`${n.url}/bucket/${e}`,{id:e,name:e,public:t.public,file_size_limit:t.fileSizeLimit,allowed_mime_types:t.allowedMimeTypes},{headers:n.headers}))}async emptyBucket(e){var t=this;return t.handleOperation(async()=>await je(t.fetch,`${t.url}/bucket/${e}/empty`,{},{headers:t.headers}))}async deleteBucket(e){var t=this;return t.handleOperation(async()=>await tf(t.fetch,`${t.url}/bucket/${e}`,{},{headers:t.headers}))}listBucketOptionsToQueryString(e){const t={};return e&&("limit"in e&&(t.limit=String(e.limit)),"offset"in e&&(t.offset=String(e.offset)),e.search&&(t.search=e.search),e.sortColumn&&(t.sortColumn=e.sortColumn),e.sortOrder&&(t.sortOrder=e.sortOrder)),Object.keys(t).length>0?"?"+new URLSearchParams(t).toString():""}},E1=class extends Fr{constructor(e,t={},n){const a=e.replace(/\/$/,""),r=ee(ee({},wl),t);super(a,r,n,"storage")}async createBucket(e){var t=this;return t.handleOperation(async()=>await je(t.fetch,`${t.url}/bucket`,{name:e},{headers:t.headers}))}async listBuckets(e){var t=this;return t.handleOperation(async()=>{const n=new URLSearchParams;(e==null?void 0:e.limit)!==void 0&&n.set("limit",e.limit.toString()),(e==null?void 0:e.offset)!==void 0&&n.set("offset",e.offset.toString()),e!=null&&e.sortColumn&&n.set("sortColumn",e.sortColumn),e!=null&&e.sortOrder&&n.set("sortOrder",e.sortOrder),e!=null&&e.search&&n.set("search",e.search);const a=n.toString(),r=a?`${t.url}/bucket?${a}`:`${t.url}/bucket`;return await el(t.fetch,r,{headers:t.headers})})}async deleteBucket(e){var t=this;return t.handleOperation(async()=>await tf(t.fetch,`${t.url}/bucket/${e}`,{},{headers:t.headers}))}from(e){var t=this;if(!u1(e))throw new wo("Invalid bucket name: File, folder, and bucket names must follow AWS object key naming guidelines and should avoid the use of any other characters.");const n=new l1({baseUrl:this.url,catalogName:e,auth:{type:"custom",getHeaders:async()=>t.headers},fetch:this.fetch}),a=this.shouldThrowOnError;return new Proxy(n,{get(r,i){const l=r[i];return typeof l!="function"?l:async(...s)=>{try{return{data:await l.apply(r,s),error:null}}catch(o){if(a)throw o;return{data:null,error:o}}}}})}},T1=class extends Fr{constructor(e,t={},n){const a=e.replace(/\/$/,""),r=ee(ee({},wl),{},{"Content-Type":"application/json"},t);super(a,r,n,"vectors")}async createIndex(e){var t=this;return t.handleOperation(async()=>await je(t.fetch,`${t.url}/CreateIndex`,e,{headers:t.headers})||{})}async getIndex(e,t){var n=this;return n.handleOperation(async()=>await je(n.fetch,`${n.url}/GetIndex`,{vectorBucketName:e,indexName:t},{headers:n.headers}))}async listIndexes(e){var t=this;return t.handleOperation(async()=>await je(t.fetch,`${t.url}/ListIndexes`,e,{headers:t.headers}))}async deleteIndex(e,t){var n=this;return n.handleOperation(async()=>await je(n.fetch,`${n.url}/DeleteIndex`,{vectorBucketName:e,indexName:t},{headers:n.headers})||{})}},A1=class extends Fr{constructor(e,t={},n){const a=e.replace(/\/$/,""),r=ee(ee({},wl),{},{"Content-Type":"application/json"},t);super(a,r,n,"vectors")}async putVectors(e){var t=this;if(e.vectors.length<1||e.vectors.length>500)throw new Error("Vector batch size must be between 1 and 500 items");return t.handleOperation(async()=>await je(t.fetch,`${t.url}/PutVectors`,e,{headers:t.headers})||{})}async getVectors(e){var t=this;return t.handleOperation(async()=>await je(t.fetch,`${t.url}/GetVectors`,e,{headers:t.headers}))}async listVectors(e){var t=this;if(e.segmentCount!==void 0){if(e.segmentCount<1||e.segmentCount>16)throw new Error("segmentCount must be between 1 and 16");if(e.segmentIndex!==void 0&&(e.segmentIndex<0||e.segmentIndex>=e.segmentCount))throw new Error(`segmentIndex must be between 0 and ${e.segmentCount-1}`)}return t.handleOperation(async()=>await je(t.fetch,`${t.url}/ListVectors`,e,{headers:t.headers}))}async queryVectors(e){var t=this;return t.handleOperation(async()=>await je(t.fetch,`${t.url}/QueryVectors`,e,{headers:t.headers}))}async deleteVectors(e){var t=this;if(e.keys.length<1||e.keys.length>500)throw new Error("Keys batch size must be between 1 and 500 items");return t.handleOperation(async()=>await je(t.fetch,`${t.url}/DeleteVectors`,e,{headers:t.headers})||{})}},k1=class extends Fr{constructor(e,t={},n){const a=e.replace(/\/$/,""),r=ee(ee({},wl),{},{"Content-Type":"application/json"},t);super(a,r,n,"vectors")}async createBucket(e){var t=this;return t.handleOperation(async()=>await je(t.fetch,`${t.url}/CreateVectorBucket`,{vectorBucketName:e},{headers:t.headers})||{})}async getBucket(e){var t=this;return t.handleOperation(async()=>await je(t.fetch,`${t.url}/GetVectorBucket`,{vectorBucketName:e},{headers:t.headers}))}async listBuckets(e={}){var t=this;return t.handleOperation(async()=>await je(t.fetch,`${t.url}/ListVectorBuckets`,e,{headers:t.headers}))}async deleteBucket(e){var t=this;return t.handleOperation(async()=>await je(t.fetch,`${t.url}/DeleteVectorBucket`,{vectorBucketName:e},{headers:t.headers})||{})}},R1=class extends k1{constructor(e,t={}){super(e,t.headers||{},t.fetch)}from(e){return new C1(this.url,this.headers,e,this.fetch)}async createBucket(e){var t=()=>super.createBucket,n=this;return t().call(n,e)}async getBucket(e){var t=()=>super.getBucket,n=this;return t().call(n,e)}async listBuckets(e={}){var t=()=>super.listBuckets,n=this;return t().call(n,e)}async deleteBucket(e){var t=()=>super.deleteBucket,n=this;return t().call(n,e)}},C1=class extends T1{constructor(e,t,n,a){super(e,t,a),this.vectorBucketName=n}async createIndex(e){var t=()=>super.createIndex,n=this;return t().call(n,ee(ee({},e),{},{vectorBucketName:n.vectorBucketName}))}async listIndexes(e={}){var t=()=>super.listIndexes,n=this;return t().call(n,ee(ee({},e),{},{vectorBucketName:n.vectorBucketName}))}async getIndex(e){var t=()=>super.getIndex,n=this;return t().call(n,n.vectorBucketName,e)}async deleteIndex(e){var t=()=>super.deleteIndex,n=this;return t().call(n,n.vectorBucketName,e)}index(e){return new O1(this.url,this.headers,this.vectorBucketName,e,this.fetch)}},O1=class extends A1{constructor(e,t,n,a,r){super(e,t,r),this.vectorBucketName=n,this.indexName=a}async putVectors(e){var t=()=>super.putVectors,n=this;return t().call(n,ee(ee({},e),{},{vectorBucketName:n.vectorBucketName,indexName:n.indexName}))}async getVectors(e){var t=()=>super.getVectors,n=this;return t().call(n,ee(ee({},e),{},{vectorBucketName:n.vectorBucketName,indexName:n.indexName}))}async listVectors(e={}){var t=()=>super.listVectors,n=this;return t().call(n,ee(ee({},e),{},{vectorBucketName:n.vectorBucketName,indexName:n.indexName}))}async queryVectors(e){var t=()=>super.queryVectors,n=this;return t().call(n,ee(ee({},e),{},{vectorBucketName:n.vectorBucketName,indexName:n.indexName}))}async deleteVectors(e){var t=()=>super.deleteVectors,n=this;return t().call(n,ee(ee({},e),{},{vectorBucketName:n.vectorBucketName,indexName:n.indexName}))}},N1=class extends x1{constructor(e,t={},n,a){super(e,t,n,a)}from(e){return new _1(this.url,this.headers,e,this.fetch)}get vectors(){return new R1(this.url+"/vector",{headers:this.headers,fetch:this.fetch})}get analytics(){return new E1(this.url+"/iceberg",this.headers,this.fetch)}};const ay="2.93.2",rr=30*1e3,Lc=3,Su=Lc*rr,j1="http://localhost:9999",D1="supabase.auth.token",U1={"X-Client-Info":`gotrue-js/${ay}`},Hc="X-Supabase-Api-Version",ry={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},M1=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,z1=10*60*1e3;class tl extends Error{constructor(t,n,a){super(t),this.__isAuthError=!0,this.name="AuthError",this.status=n,this.code=a}}function K(e){return typeof e=="object"&&e!==null&&"__isAuthError"in e}class B1 extends tl{constructor(t,n,a){super(t,n,a),this.name="AuthApiError",this.status=n,this.code=a}}function L1(e){return K(e)&&e.name==="AuthApiError"}class Aa extends tl{constructor(t,n){super(t),this.name="AuthUnknownError",this.originalError=n}}class Dn extends tl{constructor(t,n,a,r){super(t,a,r),this.name=n,this.status=a}}class xt extends Dn{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function xu(e){return K(e)&&e.name==="AuthSessionMissingError"}class Ja extends Dn{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class Pl extends Dn{constructor(t){super(t,"AuthInvalidCredentialsError",400,void 0)}}class Xl extends Dn{constructor(t,n=null){super(t,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function H1(e){return K(e)&&e.name==="AuthImplicitGrantRedirectError"}class u0 extends Dn{constructor(t,n=null){super(t,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class q1 extends Dn{constructor(){super("PKCE code verifier not found in storage. This can happen if the auth flow was initiated in a different browser or device, or if the storage was cleared. For SSR frameworks (Next.js, SvelteKit, etc.), use @supabase/ssr on both the server and client to store the code verifier in cookies.","AuthPKCECodeVerifierMissingError",400,"pkce_code_verifier_not_found")}}class qc extends Dn{constructor(t,n){super(t,"AuthRetryableFetchError",n,void 0)}}function Eu(e){return K(e)&&e.name==="AuthRetryableFetchError"}class c0 extends Dn{constructor(t,n,a){super(t,"AuthWeakPasswordError",n,"weak_password"),this.reasons=a}}class $c extends Dn{constructor(t){super(t,"AuthInvalidJwtError",400,"invalid_jwt")}}const Ks="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),d0=` 	
\r=`.split(""),$1=(()=>{const e=new Array(128);for(let t=0;t<e.length;t+=1)e[t]=-1;for(let t=0;t<d0.length;t+=1)e[d0[t].charCodeAt(0)]=-2;for(let t=0;t<Ks.length;t+=1)e[Ks[t].charCodeAt(0)]=t;return e})();function f0(e,t,n){if(e!==null)for(t.queue=t.queue<<8|e,t.queuedBits+=8;t.queuedBits>=6;){const a=t.queue>>t.queuedBits-6&63;n(Ks[a]),t.queuedBits-=6}else if(t.queuedBits>0)for(t.queue=t.queue<<6-t.queuedBits,t.queuedBits=6;t.queuedBits>=6;){const a=t.queue>>t.queuedBits-6&63;n(Ks[a]),t.queuedBits-=6}}function iy(e,t,n){const a=$1[e];if(a>-1)for(t.queue=t.queue<<6|a,t.queuedBits+=6;t.queuedBits>=8;)n(t.queue>>t.queuedBits-8&255),t.queuedBits-=8;else{if(a===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(e)}"`)}}function h0(e){const t=[],n=l=>{t.push(String.fromCodePoint(l))},a={utf8seq:0,codepoint:0},r={queue:0,queuedBits:0},i=l=>{V1(l,a,n)};for(let l=0;l<e.length;l+=1)iy(e.charCodeAt(l),r,i);return t.join("")}function G1(e,t){if(e<=127){t(e);return}else if(e<=2047){t(192|e>>6),t(128|e&63);return}else if(e<=65535){t(224|e>>12),t(128|e>>6&63),t(128|e&63);return}else if(e<=1114111){t(240|e>>18),t(128|e>>12&63),t(128|e>>6&63),t(128|e&63);return}throw new Error(`Unrecognized Unicode codepoint: ${e.toString(16)}`)}function I1(e,t){for(let n=0;n<e.length;n+=1){let a=e.charCodeAt(n);if(a>55295&&a<=56319){const r=(a-55296)*1024&65535;a=(e.charCodeAt(n+1)-56320&65535|r)+65536,n+=1}G1(a,t)}}function V1(e,t,n){if(t.utf8seq===0){if(e<=127){n(e);return}for(let a=1;a<6;a+=1)if(!(e>>7-a&1)){t.utf8seq=a;break}if(t.utf8seq===2)t.codepoint=e&31;else if(t.utf8seq===3)t.codepoint=e&15;else if(t.utf8seq===4)t.codepoint=e&7;else throw new Error("Invalid UTF-8 sequence");t.utf8seq-=1}else if(t.utf8seq>0){if(e<=127)throw new Error("Invalid UTF-8 sequence");t.codepoint=t.codepoint<<6|e&63,t.utf8seq-=1,t.utf8seq===0&&n(t.codepoint)}}function Ar(e){const t=[],n={queue:0,queuedBits:0},a=r=>{t.push(r)};for(let r=0;r<e.length;r+=1)iy(e.charCodeAt(r),n,a);return new Uint8Array(t)}function Y1(e){const t=[];return I1(e,n=>t.push(n)),new Uint8Array(t)}function ka(e){const t=[],n={queue:0,queuedBits:0},a=r=>{t.push(r)};return e.forEach(r=>f0(r,n,a)),f0(null,n,a),t.join("")}function K1(e){return Math.round(Date.now()/1e3)+e}function P1(){return Symbol("auth-callback")}const at=()=>typeof window<"u"&&typeof document<"u",va={tested:!1,writable:!1},ly=()=>{if(!at())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(va.tested)return va.writable;const e=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(e,e),globalThis.localStorage.removeItem(e),va.tested=!0,va.writable=!0}catch{va.tested=!0,va.writable=!1}return va.writable};function X1(e){const t={},n=new URL(e);if(n.hash&&n.hash[0]==="#")try{new URLSearchParams(n.hash.substring(1)).forEach((r,i)=>{t[i]=r})}catch{}return n.searchParams.forEach((a,r)=>{t[r]=a}),t}const sy=e=>e?(...t)=>e(...t):(...t)=>fetch(...t),J1=e=>typeof e=="object"&&e!==null&&"status"in e&&"ok"in e&&"json"in e&&typeof e.json=="function",ir=async(e,t,n)=>{await e.setItem(t,JSON.stringify(n))},ba=async(e,t)=>{const n=await e.getItem(t);if(!n)return null;try{return JSON.parse(n)}catch{return n}},tt=async(e,t)=>{await e.removeItem(t)};class So{constructor(){this.promise=new So.promiseConstructor((t,n)=>{this.resolve=t,this.reject=n})}}So.promiseConstructor=Promise;function Jl(e){const t=e.split(".");if(t.length!==3)throw new $c("Invalid JWT structure");for(let a=0;a<t.length;a++)if(!M1.test(t[a]))throw new $c("JWT not in base64url format");return{header:JSON.parse(h0(t[0])),payload:JSON.parse(h0(t[1])),signature:Ar(t[2]),raw:{header:t[0],payload:t[1]}}}async function Q1(e){return await new Promise(t=>{setTimeout(()=>t(null),e)})}function Z1(e,t){return new Promise((a,r)=>{(async()=>{for(let i=0;i<1/0;i++)try{const l=await e(i);if(!t(i,null,l)){a(l);return}}catch(l){if(!t(i,l)){r(l);return}}})()})}function F1(e){return("0"+e.toString(16)).substr(-2)}function W1(){const t=new Uint32Array(56);if(typeof crypto>"u"){const n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",a=n.length;let r="";for(let i=0;i<56;i++)r+=n.charAt(Math.floor(Math.random()*a));return r}return crypto.getRandomValues(t),Array.from(t,F1).join("")}async function ex(e){const n=new TextEncoder().encode(e),a=await crypto.subtle.digest("SHA-256",n),r=new Uint8Array(a);return Array.from(r).map(i=>String.fromCharCode(i)).join("")}async function tx(e){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),e;const n=await ex(e);return btoa(n).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function Qa(e,t,n=!1){const a=W1();let r=a;n&&(r+="/PASSWORD_RECOVERY"),await ir(e,`${t}-code-verifier`,r);const i=await tx(a);return[i,a===i?"plain":"s256"]}const nx=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function ax(e){const t=e.headers.get(Hc);if(!t||!t.match(nx))return null;try{return new Date(`${t}T00:00:00.0Z`)}catch{return null}}function rx(e){if(!e)throw new Error("Missing exp claim");const t=Math.floor(Date.now()/1e3);if(e<=t)throw new Error("JWT has expired")}function ix(e){switch(e){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const lx=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function Za(e){if(!lx.test(e))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function Tu(){const e={};return new Proxy(e,{get:(t,n)=>{if(n==="__isUserNotAvailableProxy")return!0;if(typeof n=="symbol"){const a=n.toString();if(a==="Symbol(Symbol.toPrimitive)"||a==="Symbol(Symbol.toStringTag)"||a==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${n}" property of the session object is not supported. Please use getUser() instead.`)},set:(t,n)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${n}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(t,n)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${n}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function sx(e,t){return new Proxy(e,{get:(n,a,r)=>{if(a==="__isInsecureUserWarningProxy")return!0;if(typeof a=="symbol"){const i=a.toString();if(i==="Symbol(Symbol.toPrimitive)"||i==="Symbol(Symbol.toStringTag)"||i==="Symbol(util.inspect.custom)"||i==="Symbol(nodejs.util.inspect.custom)")return Reflect.get(n,a,r)}return!t.value&&typeof a=="string"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),t.value=!0),Reflect.get(n,a,r)}})}function g0(e){return JSON.parse(JSON.stringify(e))}const Ea=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),ox=[502,503,504];async function m0(e){var t;if(!J1(e))throw new qc(Ea(e),0);if(ox.includes(e.status))throw new qc(Ea(e),e.status);let n;try{n=await e.json()}catch(i){throw new Aa(Ea(i),i)}let a;const r=ax(e);if(r&&r.getTime()>=ry["2024-01-01"].timestamp&&typeof n=="object"&&n&&typeof n.code=="string"?a=n.code:typeof n=="object"&&n&&typeof n.error_code=="string"&&(a=n.error_code),a){if(a==="weak_password")throw new c0(Ea(n),e.status,((t=n.weak_password)===null||t===void 0?void 0:t.reasons)||[]);if(a==="session_not_found")throw new xt}else if(typeof n=="object"&&n&&typeof n.weak_password=="object"&&n.weak_password&&Array.isArray(n.weak_password.reasons)&&n.weak_password.reasons.length&&n.weak_password.reasons.reduce((i,l)=>i&&typeof l=="string",!0))throw new c0(Ea(n),e.status,n.weak_password.reasons);throw new B1(Ea(n),e.status||500,a)}const ux=(e,t,n,a)=>{const r={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"?r:(r.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},t==null?void 0:t.headers),r.body=JSON.stringify(a),Object.assign(Object.assign({},r),n))};async function W(e,t,n,a){var r;const i=Object.assign({},a==null?void 0:a.headers);i[Hc]||(i[Hc]=ry["2024-01-01"].name),a!=null&&a.jwt&&(i.Authorization=`Bearer ${a.jwt}`);const l=(r=a==null?void 0:a.query)!==null&&r!==void 0?r:{};a!=null&&a.redirectTo&&(l.redirect_to=a.redirectTo);const s=Object.keys(l).length?"?"+new URLSearchParams(l).toString():"",o=await cx(e,t,n+s,{headers:i,noResolveJson:a==null?void 0:a.noResolveJson},{},a==null?void 0:a.body);return a!=null&&a.xform?a==null?void 0:a.xform(o):{data:Object.assign({},o),error:null}}async function cx(e,t,n,a,r,i){const l=ux(t,a,r,i);let s;try{s=await e(n,Object.assign({},l))}catch(o){throw console.error(o),new qc(Ea(o),0)}if(s.ok||await m0(s),a!=null&&a.noResolveJson)return s;try{return await s.json()}catch(o){await m0(o)}}function Xt(e){var t;let n=null;hx(e)&&(n=Object.assign({},e),e.expires_at||(n.expires_at=K1(e.expires_in)));const a=(t=e.user)!==null&&t!==void 0?t:e;return{data:{session:n,user:a},error:null}}function p0(e){const t=Xt(e);return!t.error&&e.weak_password&&typeof e.weak_password=="object"&&Array.isArray(e.weak_password.reasons)&&e.weak_password.reasons.length&&e.weak_password.message&&typeof e.weak_password.message=="string"&&e.weak_password.reasons.reduce((n,a)=>n&&typeof a=="string",!0)&&(t.data.weak_password=e.weak_password),t}function Yn(e){var t;return{data:{user:(t=e.user)!==null&&t!==void 0?t:e},error:null}}function dx(e){return{data:e,error:null}}function fx(e){const{action_link:t,email_otp:n,hashed_token:a,redirect_to:r,verification_type:i}=e,l=bo(e,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),s={action_link:t,email_otp:n,hashed_token:a,redirect_to:r,verification_type:i},o=Object.assign({},l);return{data:{properties:s,user:o},error:null}}function y0(e){return e}function hx(e){return e.access_token&&e.refresh_token&&e.expires_in}const Au=["global","local","others"];class gx{constructor({url:t="",headers:n={},fetch:a}){this.url=t,this.headers=n,this.fetch=sy(a),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),updateClient:this._updateOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}async signOut(t,n=Au[0]){if(Au.indexOf(n)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${Au.join(", ")}`);try{return await W(this.fetch,"POST",`${this.url}/logout?scope=${n}`,{headers:this.headers,jwt:t,noResolveJson:!0}),{data:null,error:null}}catch(a){if(K(a))return{data:null,error:a};throw a}}async inviteUserByEmail(t,n={}){try{return await W(this.fetch,"POST",`${this.url}/invite`,{body:{email:t,data:n.data},headers:this.headers,redirectTo:n.redirectTo,xform:Yn})}catch(a){if(K(a))return{data:{user:null},error:a};throw a}}async generateLink(t){try{const{options:n}=t,a=bo(t,["options"]),r=Object.assign(Object.assign({},a),n);return"newEmail"in a&&(r.new_email=a==null?void 0:a.newEmail,delete r.newEmail),await W(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:r,headers:this.headers,xform:fx,redirectTo:n==null?void 0:n.redirectTo})}catch(n){if(K(n))return{data:{properties:null,user:null},error:n};throw n}}async createUser(t){try{return await W(this.fetch,"POST",`${this.url}/admin/users`,{body:t,headers:this.headers,xform:Yn})}catch(n){if(K(n))return{data:{user:null},error:n};throw n}}async listUsers(t){var n,a,r,i,l,s,o;try{const u={nextPage:null,lastPage:0,total:0},c=await W(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(a=(n=t==null?void 0:t.page)===null||n===void 0?void 0:n.toString())!==null&&a!==void 0?a:"",per_page:(i=(r=t==null?void 0:t.perPage)===null||r===void 0?void 0:r.toString())!==null&&i!==void 0?i:""},xform:y0});if(c.error)throw c.error;const h=await c.json(),d=(l=c.headers.get("x-total-count"))!==null&&l!==void 0?l:0,f=(o=(s=c.headers.get("link"))===null||s===void 0?void 0:s.split(","))!==null&&o!==void 0?o:[];return f.length>0&&(f.forEach(v=>{const b=parseInt(v.split(";")[0].split("=")[1].substring(0,1)),E=JSON.parse(v.split(";")[1].split("=")[1]);u[`${E}Page`]=b}),u.total=parseInt(d)),{data:Object.assign(Object.assign({},h),u),error:null}}catch(u){if(K(u))return{data:{users:[]},error:u};throw u}}async getUserById(t){Za(t);try{return await W(this.fetch,"GET",`${this.url}/admin/users/${t}`,{headers:this.headers,xform:Yn})}catch(n){if(K(n))return{data:{user:null},error:n};throw n}}async updateUserById(t,n){Za(t);try{return await W(this.fetch,"PUT",`${this.url}/admin/users/${t}`,{body:n,headers:this.headers,xform:Yn})}catch(a){if(K(a))return{data:{user:null},error:a};throw a}}async deleteUser(t,n=!1){Za(t);try{return await W(this.fetch,"DELETE",`${this.url}/admin/users/${t}`,{headers:this.headers,body:{should_soft_delete:n},xform:Yn})}catch(a){if(K(a))return{data:{user:null},error:a};throw a}}async _listFactors(t){Za(t.userId);try{const{data:n,error:a}=await W(this.fetch,"GET",`${this.url}/admin/users/${t.userId}/factors`,{headers:this.headers,xform:r=>({data:{factors:r},error:null})});return{data:n,error:a}}catch(n){if(K(n))return{data:null,error:n};throw n}}async _deleteFactor(t){Za(t.userId),Za(t.id);try{return{data:await W(this.fetch,"DELETE",`${this.url}/admin/users/${t.userId}/factors/${t.id}`,{headers:this.headers}),error:null}}catch(n){if(K(n))return{data:null,error:n};throw n}}async _listOAuthClients(t){var n,a,r,i,l,s,o;try{const u={nextPage:null,lastPage:0,total:0},c=await W(this.fetch,"GET",`${this.url}/admin/oauth/clients`,{headers:this.headers,noResolveJson:!0,query:{page:(a=(n=t==null?void 0:t.page)===null||n===void 0?void 0:n.toString())!==null&&a!==void 0?a:"",per_page:(i=(r=t==null?void 0:t.perPage)===null||r===void 0?void 0:r.toString())!==null&&i!==void 0?i:""},xform:y0});if(c.error)throw c.error;const h=await c.json(),d=(l=c.headers.get("x-total-count"))!==null&&l!==void 0?l:0,f=(o=(s=c.headers.get("link"))===null||s===void 0?void 0:s.split(","))!==null&&o!==void 0?o:[];return f.length>0&&(f.forEach(v=>{const b=parseInt(v.split(";")[0].split("=")[1].substring(0,1)),E=JSON.parse(v.split(";")[1].split("=")[1]);u[`${E}Page`]=b}),u.total=parseInt(d)),{data:Object.assign(Object.assign({},h),u),error:null}}catch(u){if(K(u))return{data:{clients:[]},error:u};throw u}}async _createOAuthClient(t){try{return await W(this.fetch,"POST",`${this.url}/admin/oauth/clients`,{body:t,headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(K(n))return{data:null,error:n};throw n}}async _getOAuthClient(t){try{return await W(this.fetch,"GET",`${this.url}/admin/oauth/clients/${t}`,{headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(K(n))return{data:null,error:n};throw n}}async _updateOAuthClient(t,n){try{return await W(this.fetch,"PUT",`${this.url}/admin/oauth/clients/${t}`,{body:n,headers:this.headers,xform:a=>({data:a,error:null})})}catch(a){if(K(a))return{data:null,error:a};throw a}}async _deleteOAuthClient(t){try{return await W(this.fetch,"DELETE",`${this.url}/admin/oauth/clients/${t}`,{headers:this.headers,noResolveJson:!0}),{data:null,error:null}}catch(n){if(K(n))return{data:null,error:n};throw n}}async _regenerateOAuthClientSecret(t){try{return await W(this.fetch,"POST",`${this.url}/admin/oauth/clients/${t}/regenerate_secret`,{headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(K(n))return{data:null,error:n};throw n}}}function v0(e={}){return{getItem:t=>e[t]||null,setItem:(t,n)=>{e[t]=n},removeItem:t=>{delete e[t]}}}const Fa={debug:!!(globalThis&&ly()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class oy extends Error{constructor(t){super(t),this.isAcquireTimeout=!0}}class mx extends oy{}async function px(e,t,n){Fa.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",e,t);const a=new globalThis.AbortController;return t>0&&setTimeout(()=>{a.abort(),Fa.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",e)},t),await Promise.resolve().then(()=>globalThis.navigator.locks.request(e,t===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:a.signal},async r=>{if(r){Fa.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",e,r.name);try{return await n()}finally{Fa.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",e,r.name)}}else{if(t===0)throw Fa.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",e),new mx(`Acquiring an exclusive Navigator LockManager lock "${e}" immediately failed`);if(Fa.debug)try{const i=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(i,null,"  "))}catch(i){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",i)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await n()}}))}function yx(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}function uy(e){if(!/^0x[a-fA-F0-9]{40}$/.test(e))throw new Error(`@supabase/auth-js: Address "${e}" is invalid.`);return e.toLowerCase()}function vx(e){return parseInt(e,16)}function bx(e){const t=new TextEncoder().encode(e);return"0x"+Array.from(t,a=>a.toString(16).padStart(2,"0")).join("")}function wx(e){var t;const{chainId:n,domain:a,expirationTime:r,issuedAt:i=new Date,nonce:l,notBefore:s,requestId:o,resources:u,scheme:c,uri:h,version:d}=e;{if(!Number.isInteger(n))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${n}`);if(!a)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(l&&l.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${l}`);if(!h)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(d!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${d}`);if(!((t=e.statement)===null||t===void 0)&&t.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${e.statement}`)}const f=uy(e.address),v=c?`${c}://${a}`:a,b=e.statement?`${e.statement}
`:"",E=`${v} wants you to sign in with your Ethereum account:
${f}

${b}`;let p=`URI: ${h}
Version: ${d}
Chain ID: ${n}${l?`
Nonce: ${l}`:""}
Issued At: ${i.toISOString()}`;if(r&&(p+=`
Expiration Time: ${r.toISOString()}`),s&&(p+=`
Not Before: ${s.toISOString()}`),o&&(p+=`
Request ID: ${o}`),u){let m=`
Resources:`;for(const g of u){if(!g||typeof g!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${g}`);m+=`
- ${g}`}p+=m}return`${E}
${p}`}class Ie extends Error{constructor({message:t,code:n,cause:a,name:r}){var i;super(t,{cause:a}),this.__isWebAuthnError=!0,this.name=(i=r??(a instanceof Error?a.name:void 0))!==null&&i!==void 0?i:"Unknown Error",this.code=n}}class Ps extends Ie{constructor(t,n){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:n,message:t}),this.name="WebAuthnUnknownError",this.originalError=n}}function _x({error:e,options:t}){var n,a,r;const{publicKey:i}=t;if(!i)throw Error("options was missing required publicKey property");if(e.name==="AbortError"){if(t.signal instanceof AbortSignal)return new Ie({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:e})}else if(e.name==="ConstraintError"){if(((n=i.authenticatorSelection)===null||n===void 0?void 0:n.requireResidentKey)===!0)return new Ie({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:e});if(t.mediation==="conditional"&&((a=i.authenticatorSelection)===null||a===void 0?void 0:a.userVerification)==="required")return new Ie({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:e});if(((r=i.authenticatorSelection)===null||r===void 0?void 0:r.userVerification)==="required")return new Ie({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:e})}else{if(e.name==="InvalidStateError")return new Ie({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:e});if(e.name==="NotAllowedError")return new Ie({message:e.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e});if(e.name==="NotSupportedError")return i.pubKeyCredParams.filter(s=>s.type==="public-key").length===0?new Ie({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:e}):new Ie({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:e});if(e.name==="SecurityError"){const l=window.location.hostname;if(cy(l)){if(i.rp.id!==l)return new Ie({message:`The RP ID "${i.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:e})}else return new Ie({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:e})}else if(e.name==="TypeError"){if(i.user.id.byteLength<1||i.user.id.byteLength>64)return new Ie({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:e})}else if(e.name==="UnknownError")return new Ie({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:e})}return new Ie({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e})}function Sx({error:e,options:t}){const{publicKey:n}=t;if(!n)throw Error("options was missing required publicKey property");if(e.name==="AbortError"){if(t.signal instanceof AbortSignal)return new Ie({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:e})}else{if(e.name==="NotAllowedError")return new Ie({message:e.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e});if(e.name==="SecurityError"){const a=window.location.hostname;if(cy(a)){if(n.rpId!==a)return new Ie({message:`The RP ID "${n.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:e})}else return new Ie({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:e})}else if(e.name==="UnknownError")return new Ie({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:e})}return new Ie({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e})}class xx{createNewAbortSignal(){if(this.controller){const n=new Error("Cancelling existing WebAuthn API call for new one");n.name="AbortError",this.controller.abort(n)}const t=new AbortController;return this.controller=t,t.signal}cancelCeremony(){if(this.controller){const t=new Error("Manually cancelling existing WebAuthn API call");t.name="AbortError",this.controller.abort(t),this.controller=void 0}}}const Ex=new xx;function Tx(e){if(!e)throw new Error("Credential creation options are required");if(typeof PublicKeyCredential<"u"&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseCreationOptionsFromJSON=="function")return PublicKeyCredential.parseCreationOptionsFromJSON(e);const{challenge:t,user:n,excludeCredentials:a}=e,r=bo(e,["challenge","user","excludeCredentials"]),i=Ar(t).buffer,l=Object.assign(Object.assign({},n),{id:Ar(n.id).buffer}),s=Object.assign(Object.assign({},r),{challenge:i,user:l});if(a&&a.length>0){s.excludeCredentials=new Array(a.length);for(let o=0;o<a.length;o++){const u=a[o];s.excludeCredentials[o]=Object.assign(Object.assign({},u),{id:Ar(u.id).buffer,type:u.type||"public-key",transports:u.transports})}}return s}function Ax(e){if(!e)throw new Error("Credential request options are required");if(typeof PublicKeyCredential<"u"&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseRequestOptionsFromJSON=="function")return PublicKeyCredential.parseRequestOptionsFromJSON(e);const{challenge:t,allowCredentials:n}=e,a=bo(e,["challenge","allowCredentials"]),r=Ar(t).buffer,i=Object.assign(Object.assign({},a),{challenge:r});if(n&&n.length>0){i.allowCredentials=new Array(n.length);for(let l=0;l<n.length;l++){const s=n[l];i.allowCredentials[l]=Object.assign(Object.assign({},s),{id:Ar(s.id).buffer,type:s.type||"public-key",transports:s.transports})}}return i}function kx(e){var t;if("toJSON"in e&&typeof e.toJSON=="function")return e.toJSON();const n=e;return{id:e.id,rawId:e.id,response:{attestationObject:ka(new Uint8Array(e.response.attestationObject)),clientDataJSON:ka(new Uint8Array(e.response.clientDataJSON))},type:"public-key",clientExtensionResults:e.getClientExtensionResults(),authenticatorAttachment:(t=n.authenticatorAttachment)!==null&&t!==void 0?t:void 0}}function Rx(e){var t;if("toJSON"in e&&typeof e.toJSON=="function")return e.toJSON();const n=e,a=e.getClientExtensionResults(),r=e.response;return{id:e.id,rawId:e.id,response:{authenticatorData:ka(new Uint8Array(r.authenticatorData)),clientDataJSON:ka(new Uint8Array(r.clientDataJSON)),signature:ka(new Uint8Array(r.signature)),userHandle:r.userHandle?ka(new Uint8Array(r.userHandle)):void 0},type:"public-key",clientExtensionResults:a,authenticatorAttachment:(t=n.authenticatorAttachment)!==null&&t!==void 0?t:void 0}}function cy(e){return e==="localhost"||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(e)}function b0(){var e,t;return!!(at()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&typeof((e=navigator==null?void 0:navigator.credentials)===null||e===void 0?void 0:e.create)=="function"&&typeof((t=navigator==null?void 0:navigator.credentials)===null||t===void 0?void 0:t.get)=="function")}async function Cx(e){try{const t=await navigator.credentials.create(e);return t?t instanceof PublicKeyCredential?{data:t,error:null}:{data:null,error:new Ps("Browser returned unexpected credential type",t)}:{data:null,error:new Ps("Empty credential response",t)}}catch(t){return{data:null,error:_x({error:t,options:e})}}}async function Ox(e){try{const t=await navigator.credentials.get(e);return t?t instanceof PublicKeyCredential?{data:t,error:null}:{data:null,error:new Ps("Browser returned unexpected credential type",t)}:{data:null,error:new Ps("Empty credential response",t)}}catch(t){return{data:null,error:Sx({error:t,options:e})}}}const Nx={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"direct"},jx={userVerification:"preferred",hints:["security-key"],attestation:"direct"};function Xs(...e){const t=r=>r!==null&&typeof r=="object"&&!Array.isArray(r),n=r=>r instanceof ArrayBuffer||ArrayBuffer.isView(r),a={};for(const r of e)if(r)for(const i in r){const l=r[i];if(l!==void 0)if(Array.isArray(l))a[i]=l;else if(n(l))a[i]=l;else if(t(l)){const s=a[i];t(s)?a[i]=Xs(s,l):a[i]=Xs(l)}else a[i]=l}return a}function Dx(e,t){return Xs(Nx,e,t||{})}function Ux(e,t){return Xs(jx,e,t||{})}class Mx{constructor(t){this.client=t,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}async _enroll(t){return this.client.mfa.enroll(Object.assign(Object.assign({},t),{factorType:"webauthn"}))}async _challenge({factorId:t,webauthn:n,friendlyName:a,signal:r},i){try{const{data:l,error:s}=await this.client.mfa.challenge({factorId:t,webauthn:n});if(!l)return{data:null,error:s};const o=r??Ex.createNewAbortSignal();if(l.webauthn.type==="create"){const{user:u}=l.webauthn.credential_options.publicKey;u.name||(u.name=`${u.id}:${a}`),u.displayName||(u.displayName=u.name)}switch(l.webauthn.type){case"create":{const u=Dx(l.webauthn.credential_options.publicKey,i==null?void 0:i.create),{data:c,error:h}=await Cx({publicKey:u,signal:o});return c?{data:{factorId:t,challengeId:l.id,webauthn:{type:l.webauthn.type,credential_response:c}},error:null}:{data:null,error:h}}case"request":{const u=Ux(l.webauthn.credential_options.publicKey,i==null?void 0:i.request),{data:c,error:h}=await Ox(Object.assign(Object.assign({},l.webauthn.credential_options),{publicKey:u,signal:o}));return c?{data:{factorId:t,challengeId:l.id,webauthn:{type:l.webauthn.type,credential_response:c}},error:null}:{data:null,error:h}}}}catch(l){return K(l)?{data:null,error:l}:{data:null,error:new Aa("Unexpected error in challenge",l)}}}async _verify({challengeId:t,factorId:n,webauthn:a}){return this.client.mfa.verify({factorId:n,challengeId:t,webauthn:a})}async _authenticate({factorId:t,webauthn:{rpId:n=typeof window<"u"?window.location.hostname:void 0,rpOrigins:a=typeof window<"u"?[window.location.origin]:void 0,signal:r}={}},i){if(!n)return{data:null,error:new tl("rpId is required for WebAuthn authentication")};try{if(!b0())return{data:null,error:new Aa("Browser does not support WebAuthn",null)};const{data:l,error:s}=await this.challenge({factorId:t,webauthn:{rpId:n,rpOrigins:a},signal:r},{request:i});if(!l)return{data:null,error:s};const{webauthn:o}=l;return this._verify({factorId:t,challengeId:l.challengeId,webauthn:{type:o.type,rpId:n,rpOrigins:a,credential_response:o.credential_response}})}catch(l){return K(l)?{data:null,error:l}:{data:null,error:new Aa("Unexpected error in authenticate",l)}}}async _register({friendlyName:t,webauthn:{rpId:n=typeof window<"u"?window.location.hostname:void 0,rpOrigins:a=typeof window<"u"?[window.location.origin]:void 0,signal:r}={}},i){if(!n)return{data:null,error:new tl("rpId is required for WebAuthn registration")};try{if(!b0())return{data:null,error:new Aa("Browser does not support WebAuthn",null)};const{data:l,error:s}=await this._enroll({friendlyName:t});if(!l)return await this.client.mfa.listFactors().then(c=>{var h;return(h=c.data)===null||h===void 0?void 0:h.all.find(d=>d.factor_type==="webauthn"&&d.friendly_name===t&&d.status!=="unverified")}).then(c=>c?this.client.mfa.unenroll({factorId:c==null?void 0:c.id}):void 0),{data:null,error:s};const{data:o,error:u}=await this._challenge({factorId:l.id,friendlyName:l.friendly_name,webauthn:{rpId:n,rpOrigins:a},signal:r},{create:i});return o?this._verify({factorId:l.id,challengeId:o.challengeId,webauthn:{rpId:n,rpOrigins:a,type:o.webauthn.type,credential_response:o.webauthn.credential_response}}):{data:null,error:u}}catch(l){return K(l)?{data:null,error:l}:{data:null,error:new Aa("Unexpected error in register",l)}}}}yx();const zx={url:j1,storageKey:D1,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:U1,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1,throwOnError:!1,lockAcquireTimeout:1e4};async function w0(e,t,n){return await n()}const Wa={};class nl{get jwks(){var t,n;return(n=(t=Wa[this.storageKey])===null||t===void 0?void 0:t.jwks)!==null&&n!==void 0?n:{keys:[]}}set jwks(t){Wa[this.storageKey]=Object.assign(Object.assign({},Wa[this.storageKey]),{jwks:t})}get jwks_cached_at(){var t,n;return(n=(t=Wa[this.storageKey])===null||t===void 0?void 0:t.cachedAt)!==null&&n!==void 0?n:Number.MIN_SAFE_INTEGER}set jwks_cached_at(t){Wa[this.storageKey]=Object.assign(Object.assign({},Wa[this.storageKey]),{cachedAt:t})}constructor(t){var n,a,r;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.autoRefreshTickTimeout=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log;const i=Object.assign(Object.assign({},zx),t);if(this.storageKey=i.storageKey,this.instanceID=(n=nl.nextInstanceID[this.storageKey])!==null&&n!==void 0?n:0,nl.nextInstanceID[this.storageKey]=this.instanceID+1,this.logDebugMessages=!!i.debug,typeof i.debug=="function"&&(this.logger=i.debug),this.instanceID>0&&at()){const l=`${this._logPrefix()} Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.`;console.warn(l),this.logDebugMessages&&console.trace(l)}if(this.persistSession=i.persistSession,this.autoRefreshToken=i.autoRefreshToken,this.admin=new gx({url:i.url,headers:i.headers,fetch:i.fetch}),this.url=i.url,this.headers=i.headers,this.fetch=sy(i.fetch),this.lock=i.lock||w0,this.detectSessionInUrl=i.detectSessionInUrl,this.flowType=i.flowType,this.hasCustomAuthorizationHeader=i.hasCustomAuthorizationHeader,this.throwOnError=i.throwOnError,this.lockAcquireTimeout=i.lockAcquireTimeout,i.lock?this.lock=i.lock:this.persistSession&&at()&&(!((a=globalThis==null?void 0:globalThis.navigator)===null||a===void 0)&&a.locks)?this.lock=px:this.lock=w0,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new Mx(this)},this.oauth={getAuthorizationDetails:this._getAuthorizationDetails.bind(this),approveAuthorization:this._approveAuthorization.bind(this),denyAuthorization:this._denyAuthorization.bind(this),listGrants:this._listOAuthGrants.bind(this),revokeGrant:this._revokeOAuthGrant.bind(this)},this.persistSession?(i.storage?this.storage=i.storage:ly()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=v0(this.memoryStorage)),i.userStorage&&(this.userStorage=i.userStorage)):(this.memoryStorage={},this.storage=v0(this.memoryStorage)),at()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(l){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",l)}(r=this.broadcastChannel)===null||r===void 0||r.addEventListener("message",async l=>{this._debug("received broadcast notification from other tab or client",l);try{await this._notifyAllSubscribers(l.data.event,l.data.session,!1)}catch(s){this._debug("#broadcastChannel","error",s)}})}this.initialize().catch(l=>{this._debug("#initialize()","error",l)})}isThrowOnErrorEnabled(){return this.throwOnError}_returnResult(t){if(this.throwOnError&&t&&t.error)throw t.error;return t}_logPrefix(){return`GoTrueClient@${this.storageKey}:${this.instanceID} (${ay}) ${new Date().toISOString()}`}_debug(...t){return this.logDebugMessages&&this.logger(this._logPrefix(),...t),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(this.lockAcquireTimeout,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var t;try{let n={},a="none";if(at()&&(n=X1(window.location.href),this._isImplicitGrantCallback(n)?a="implicit":await this._isPKCECallback(n)&&(a="pkce")),at()&&this.detectSessionInUrl&&a!=="none"){const{data:r,error:i}=await this._getSessionFromURL(n,a);if(i){if(this._debug("#_initialize()","error detecting session from URL",i),H1(i)){const o=(t=i.details)===null||t===void 0?void 0:t.code;if(o==="identity_already_exists"||o==="identity_not_found"||o==="single_identity_not_deletable")return{error:i}}return{error:i}}const{session:l,redirectType:s}=r;return this._debug("#_initialize()","detected session in URL",l,"redirect type",s),await this._saveSession(l),setTimeout(async()=>{s==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",l):await this._notifyAllSubscribers("SIGNED_IN",l)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(n){return K(n)?this._returnResult({error:n}):this._returnResult({error:new Aa("Unexpected error during initialization",n)})}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(t){var n,a,r;try{const i=await W(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(a=(n=t==null?void 0:t.options)===null||n===void 0?void 0:n.data)!==null&&a!==void 0?a:{},gotrue_meta_security:{captcha_token:(r=t==null?void 0:t.options)===null||r===void 0?void 0:r.captchaToken}},xform:Xt}),{data:l,error:s}=i;if(s||!l)return this._returnResult({data:{user:null,session:null},error:s});const o=l.session,u=l.user;return l.session&&(await this._saveSession(l.session),await this._notifyAllSubscribers("SIGNED_IN",o)),this._returnResult({data:{user:u,session:o},error:null})}catch(i){if(K(i))return this._returnResult({data:{user:null,session:null},error:i});throw i}}async signUp(t){var n,a,r;try{let i;if("email"in t){const{email:c,password:h,options:d}=t;let f=null,v=null;this.flowType==="pkce"&&([f,v]=await Qa(this.storage,this.storageKey)),i=await W(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:d==null?void 0:d.emailRedirectTo,body:{email:c,password:h,data:(n=d==null?void 0:d.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:d==null?void 0:d.captchaToken},code_challenge:f,code_challenge_method:v},xform:Xt})}else if("phone"in t){const{phone:c,password:h,options:d}=t;i=await W(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:c,password:h,data:(a=d==null?void 0:d.data)!==null&&a!==void 0?a:{},channel:(r=d==null?void 0:d.channel)!==null&&r!==void 0?r:"sms",gotrue_meta_security:{captcha_token:d==null?void 0:d.captchaToken}},xform:Xt})}else throw new Pl("You must provide either an email or phone number and a password");const{data:l,error:s}=i;if(s||!l)return await tt(this.storage,`${this.storageKey}-code-verifier`),this._returnResult({data:{user:null,session:null},error:s});const o=l.session,u=l.user;return l.session&&(await this._saveSession(l.session),await this._notifyAllSubscribers("SIGNED_IN",o)),this._returnResult({data:{user:u,session:o},error:null})}catch(i){if(await tt(this.storage,`${this.storageKey}-code-verifier`),K(i))return this._returnResult({data:{user:null,session:null},error:i});throw i}}async signInWithPassword(t){try{let n;if("email"in t){const{email:i,password:l,options:s}=t;n=await W(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:i,password:l,gotrue_meta_security:{captcha_token:s==null?void 0:s.captchaToken}},xform:p0})}else if("phone"in t){const{phone:i,password:l,options:s}=t;n=await W(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:i,password:l,gotrue_meta_security:{captcha_token:s==null?void 0:s.captchaToken}},xform:p0})}else throw new Pl("You must provide either an email or phone number and a password");const{data:a,error:r}=n;if(r)return this._returnResult({data:{user:null,session:null},error:r});if(!a||!a.session||!a.user){const i=new Ja;return this._returnResult({data:{user:null,session:null},error:i})}return a.session&&(await this._saveSession(a.session),await this._notifyAllSubscribers("SIGNED_IN",a.session)),this._returnResult({data:Object.assign({user:a.user,session:a.session},a.weak_password?{weakPassword:a.weak_password}:null),error:r})}catch(n){if(K(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async signInWithOAuth(t){var n,a,r,i;return await this._handleProviderSignIn(t.provider,{redirectTo:(n=t.options)===null||n===void 0?void 0:n.redirectTo,scopes:(a=t.options)===null||a===void 0?void 0:a.scopes,queryParams:(r=t.options)===null||r===void 0?void 0:r.queryParams,skipBrowserRedirect:(i=t.options)===null||i===void 0?void 0:i.skipBrowserRedirect})}async exchangeCodeForSession(t){return await this.initializePromise,this._acquireLock(this.lockAcquireTimeout,async()=>this._exchangeCodeForSession(t))}async signInWithWeb3(t){const{chain:n}=t;switch(n){case"ethereum":return await this.signInWithEthereum(t);case"solana":return await this.signInWithSolana(t);default:throw new Error(`@supabase/auth-js: Unsupported chain "${n}"`)}}async signInWithEthereum(t){var n,a,r,i,l,s,o,u,c,h,d;let f,v;if("message"in t)f=t.message,v=t.signature;else{const{chain:b,wallet:E,statement:p,options:m}=t;let g;if(at())if(typeof E=="object")g=E;else{const M=window;if("ethereum"in M&&typeof M.ethereum=="object"&&"request"in M.ethereum&&typeof M.ethereum.request=="function")g=M.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof E!="object"||!(m!=null&&m.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");g=E}const w=new URL((n=m==null?void 0:m.url)!==null&&n!==void 0?n:window.location.href),S=await g.request({method:"eth_requestAccounts"}).then(M=>M).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!S||S.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const k=uy(S[0]);let R=(a=m==null?void 0:m.signInWithEthereum)===null||a===void 0?void 0:a.chainId;if(!R){const M=await g.request({method:"eth_chainId"});R=vx(M)}const U={domain:w.host,address:k,statement:p,uri:w.href,version:"1",chainId:R,nonce:(r=m==null?void 0:m.signInWithEthereum)===null||r===void 0?void 0:r.nonce,issuedAt:(l=(i=m==null?void 0:m.signInWithEthereum)===null||i===void 0?void 0:i.issuedAt)!==null&&l!==void 0?l:new Date,expirationTime:(s=m==null?void 0:m.signInWithEthereum)===null||s===void 0?void 0:s.expirationTime,notBefore:(o=m==null?void 0:m.signInWithEthereum)===null||o===void 0?void 0:o.notBefore,requestId:(u=m==null?void 0:m.signInWithEthereum)===null||u===void 0?void 0:u.requestId,resources:(c=m==null?void 0:m.signInWithEthereum)===null||c===void 0?void 0:c.resources};f=wx(U),v=await g.request({method:"personal_sign",params:[bx(f),k]})}try{const{data:b,error:E}=await W(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:f,signature:v},!((h=t.options)===null||h===void 0)&&h.captchaToken?{gotrue_meta_security:{captcha_token:(d=t.options)===null||d===void 0?void 0:d.captchaToken}}:null),xform:Xt});if(E)throw E;if(!b||!b.session||!b.user){const p=new Ja;return this._returnResult({data:{user:null,session:null},error:p})}return b.session&&(await this._saveSession(b.session),await this._notifyAllSubscribers("SIGNED_IN",b.session)),this._returnResult({data:Object.assign({},b),error:E})}catch(b){if(K(b))return this._returnResult({data:{user:null,session:null},error:b});throw b}}async signInWithSolana(t){var n,a,r,i,l,s,o,u,c,h,d,f;let v,b;if("message"in t)v=t.message,b=t.signature;else{const{chain:E,wallet:p,statement:m,options:g}=t;let w;if(at())if(typeof p=="object")w=p;else{const k=window;if("solana"in k&&typeof k.solana=="object"&&("signIn"in k.solana&&typeof k.solana.signIn=="function"||"signMessage"in k.solana&&typeof k.solana.signMessage=="function"))w=k.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof p!="object"||!(g!=null&&g.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");w=p}const S=new URL((n=g==null?void 0:g.url)!==null&&n!==void 0?n:window.location.href);if("signIn"in w&&w.signIn){const k=await w.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},g==null?void 0:g.signInWithSolana),{version:"1",domain:S.host,uri:S.href}),m?{statement:m}:null));let R;if(Array.isArray(k)&&k[0]&&typeof k[0]=="object")R=k[0];else if(k&&typeof k=="object"&&"signedMessage"in k&&"signature"in k)R=k;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in R&&"signature"in R&&(typeof R.signedMessage=="string"||R.signedMessage instanceof Uint8Array)&&R.signature instanceof Uint8Array)v=typeof R.signedMessage=="string"?R.signedMessage:new TextDecoder().decode(R.signedMessage),b=R.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in w)||typeof w.signMessage!="function"||!("publicKey"in w)||typeof w!="object"||!w.publicKey||!("toBase58"in w.publicKey)||typeof w.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");v=[`${S.host} wants you to sign in with your Solana account:`,w.publicKey.toBase58(),...m?["",m,""]:[""],"Version: 1",`URI: ${S.href}`,`Issued At: ${(r=(a=g==null?void 0:g.signInWithSolana)===null||a===void 0?void 0:a.issuedAt)!==null&&r!==void 0?r:new Date().toISOString()}`,...!((i=g==null?void 0:g.signInWithSolana)===null||i===void 0)&&i.notBefore?[`Not Before: ${g.signInWithSolana.notBefore}`]:[],...!((l=g==null?void 0:g.signInWithSolana)===null||l===void 0)&&l.expirationTime?[`Expiration Time: ${g.signInWithSolana.expirationTime}`]:[],...!((s=g==null?void 0:g.signInWithSolana)===null||s===void 0)&&s.chainId?[`Chain ID: ${g.signInWithSolana.chainId}`]:[],...!((o=g==null?void 0:g.signInWithSolana)===null||o===void 0)&&o.nonce?[`Nonce: ${g.signInWithSolana.nonce}`]:[],...!((u=g==null?void 0:g.signInWithSolana)===null||u===void 0)&&u.requestId?[`Request ID: ${g.signInWithSolana.requestId}`]:[],...!((h=(c=g==null?void 0:g.signInWithSolana)===null||c===void 0?void 0:c.resources)===null||h===void 0)&&h.length?["Resources",...g.signInWithSolana.resources.map(R=>`- ${R}`)]:[]].join(`
`);const k=await w.signMessage(new TextEncoder().encode(v),"utf8");if(!k||!(k instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");b=k}}try{const{data:E,error:p}=await W(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:v,signature:ka(b)},!((d=t.options)===null||d===void 0)&&d.captchaToken?{gotrue_meta_security:{captcha_token:(f=t.options)===null||f===void 0?void 0:f.captchaToken}}:null),xform:Xt});if(p)throw p;if(!E||!E.session||!E.user){const m=new Ja;return this._returnResult({data:{user:null,session:null},error:m})}return E.session&&(await this._saveSession(E.session),await this._notifyAllSubscribers("SIGNED_IN",E.session)),this._returnResult({data:Object.assign({},E),error:p})}catch(E){if(K(E))return this._returnResult({data:{user:null,session:null},error:E});throw E}}async _exchangeCodeForSession(t){const n=await ba(this.storage,`${this.storageKey}-code-verifier`),[a,r]=(n??"").split("/");try{if(!a&&this.flowType==="pkce")throw new q1;const{data:i,error:l}=await W(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:t,code_verifier:a},xform:Xt});if(await tt(this.storage,`${this.storageKey}-code-verifier`),l)throw l;if(!i||!i.session||!i.user){const s=new Ja;return this._returnResult({data:{user:null,session:null,redirectType:null},error:s})}return i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",i.session)),this._returnResult({data:Object.assign(Object.assign({},i),{redirectType:r??null}),error:l})}catch(i){if(await tt(this.storage,`${this.storageKey}-code-verifier`),K(i))return this._returnResult({data:{user:null,session:null,redirectType:null},error:i});throw i}}async signInWithIdToken(t){try{const{options:n,provider:a,token:r,access_token:i,nonce:l}=t,s=await W(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:a,id_token:r,access_token:i,nonce:l,gotrue_meta_security:{captcha_token:n==null?void 0:n.captchaToken}},xform:Xt}),{data:o,error:u}=s;if(u)return this._returnResult({data:{user:null,session:null},error:u});if(!o||!o.session||!o.user){const c=new Ja;return this._returnResult({data:{user:null,session:null},error:c})}return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",o.session)),this._returnResult({data:o,error:u})}catch(n){if(K(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async signInWithOtp(t){var n,a,r,i,l;try{if("email"in t){const{email:s,options:o}=t;let u=null,c=null;this.flowType==="pkce"&&([u,c]=await Qa(this.storage,this.storageKey));const{error:h}=await W(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:s,data:(n=o==null?void 0:o.data)!==null&&n!==void 0?n:{},create_user:(a=o==null?void 0:o.shouldCreateUser)!==null&&a!==void 0?a:!0,gotrue_meta_security:{captcha_token:o==null?void 0:o.captchaToken},code_challenge:u,code_challenge_method:c},redirectTo:o==null?void 0:o.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:h})}if("phone"in t){const{phone:s,options:o}=t,{data:u,error:c}=await W(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:s,data:(r=o==null?void 0:o.data)!==null&&r!==void 0?r:{},create_user:(i=o==null?void 0:o.shouldCreateUser)!==null&&i!==void 0?i:!0,gotrue_meta_security:{captcha_token:o==null?void 0:o.captchaToken},channel:(l=o==null?void 0:o.channel)!==null&&l!==void 0?l:"sms"}});return this._returnResult({data:{user:null,session:null,messageId:u==null?void 0:u.message_id},error:c})}throw new Pl("You must provide either an email or phone number.")}catch(s){if(await tt(this.storage,`${this.storageKey}-code-verifier`),K(s))return this._returnResult({data:{user:null,session:null},error:s});throw s}}async verifyOtp(t){var n,a;try{let r,i;"options"in t&&(r=(n=t.options)===null||n===void 0?void 0:n.redirectTo,i=(a=t.options)===null||a===void 0?void 0:a.captchaToken);const{data:l,error:s}=await W(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},t),{gotrue_meta_security:{captcha_token:i}}),redirectTo:r,xform:Xt});if(s)throw s;if(!l)throw new Error("An error occurred on token verification.");const o=l.session,u=l.user;return o!=null&&o.access_token&&(await this._saveSession(o),await this._notifyAllSubscribers(t.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",o)),this._returnResult({data:{user:u,session:o},error:null})}catch(r){if(K(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async signInWithSSO(t){var n,a,r,i,l;try{let s=null,o=null;this.flowType==="pkce"&&([s,o]=await Qa(this.storage,this.storageKey));const u=await W(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in t?{provider_id:t.providerId}:null),"domain"in t?{domain:t.domain}:null),{redirect_to:(a=(n=t.options)===null||n===void 0?void 0:n.redirectTo)!==null&&a!==void 0?a:void 0}),!((r=t==null?void 0:t.options)===null||r===void 0)&&r.captchaToken?{gotrue_meta_security:{captcha_token:t.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:s,code_challenge_method:o}),headers:this.headers,xform:dx});return!((i=u.data)===null||i===void 0)&&i.url&&at()&&!(!((l=t.options)===null||l===void 0)&&l.skipBrowserRedirect)&&window.location.assign(u.data.url),this._returnResult(u)}catch(s){if(await tt(this.storage,`${this.storageKey}-code-verifier`),K(s))return this._returnResult({data:null,error:s});throw s}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async t=>{const{data:{session:n},error:a}=t;if(a)throw a;if(!n)throw new xt;const{error:r}=await W(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:n.access_token});return this._returnResult({data:{user:null,session:null},error:r})})}catch(t){if(K(t))return this._returnResult({data:{user:null,session:null},error:t});throw t}}async resend(t){try{const n=`${this.url}/resend`;if("email"in t){const{email:a,type:r,options:i}=t,{error:l}=await W(this.fetch,"POST",n,{headers:this.headers,body:{email:a,type:r,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}},redirectTo:i==null?void 0:i.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:l})}else if("phone"in t){const{phone:a,type:r,options:i}=t,{data:l,error:s}=await W(this.fetch,"POST",n,{headers:this.headers,body:{phone:a,type:r,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}}});return this._returnResult({data:{user:null,session:null,messageId:l==null?void 0:l.message_id},error:s})}throw new Pl("You must provide either an email or phone number and a type")}catch(n){if(K(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async getSession(){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>this._useSession(async n=>n))}async _acquireLock(t,n){this._debug("#_acquireLock","begin",t);try{if(this.lockAcquired){const a=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),r=(async()=>(await a,await n()))();return this.pendingInLock.push((async()=>{try{await r}catch{}})()),r}return await this.lock(`lock:${this.storageKey}`,t,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const a=n();for(this.pendingInLock.push((async()=>{try{await a}catch{}})()),await a;this.pendingInLock.length;){const r=[...this.pendingInLock];await Promise.all(r),this.pendingInLock.splice(0,r.length)}return await a}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(t){this._debug("#_useSession","begin");try{const n=await this.__loadSession();return await t(n)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let t=null;const n=await ba(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",n),n!==null&&(this._isValidSession(n)?t=n:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!t)return{data:{session:null},error:null};const a=t.expires_at?t.expires_at*1e3-Date.now()<Su:!1;if(this._debug("#__loadSession()",`session has${a?"":" not"} expired`,"expires_at",t.expires_at),!a){if(this.userStorage){const l=await ba(this.userStorage,this.storageKey+"-user");l!=null&&l.user?t.user=l.user:t.user=Tu()}if(this.storage.isServer&&t.user&&!t.user.__isUserNotAvailableProxy){const l={value:this.suppressGetSessionWarning};t.user=sx(t.user,l),l.value&&(this.suppressGetSessionWarning=!0)}return{data:{session:t},error:null}}const{data:r,error:i}=await this._callRefreshToken(t.refresh_token);return i?this._returnResult({data:{session:null},error:i}):this._returnResult({data:{session:r},error:null})}finally{this._debug("#__loadSession()","end")}}async getUser(t){if(t)return await this._getUser(t);await this.initializePromise;const n=await this._acquireLock(this.lockAcquireTimeout,async()=>await this._getUser());return n.data.user&&(this.suppressGetSessionWarning=!0),n}async _getUser(t){try{return t?await W(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:t,xform:Yn}):await this._useSession(async n=>{var a,r,i;const{data:l,error:s}=n;if(s)throw s;return!(!((a=l.session)===null||a===void 0)&&a.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new xt}:await W(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(i=(r=l.session)===null||r===void 0?void 0:r.access_token)!==null&&i!==void 0?i:void 0,xform:Yn})})}catch(n){if(K(n))return xu(n)&&(await this._removeSession(),await tt(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({data:{user:null},error:n});throw n}}async updateUser(t,n={}){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._updateUser(t,n))}async _updateUser(t,n={}){try{return await this._useSession(async a=>{const{data:r,error:i}=a;if(i)throw i;if(!r.session)throw new xt;const l=r.session;let s=null,o=null;this.flowType==="pkce"&&t.email!=null&&([s,o]=await Qa(this.storage,this.storageKey));const{data:u,error:c}=await W(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:n==null?void 0:n.emailRedirectTo,body:Object.assign(Object.assign({},t),{code_challenge:s,code_challenge_method:o}),jwt:l.access_token,xform:Yn});if(c)throw c;return l.user=u.user,await this._saveSession(l),await this._notifyAllSubscribers("USER_UPDATED",l),this._returnResult({data:{user:l.user},error:null})})}catch(a){if(await tt(this.storage,`${this.storageKey}-code-verifier`),K(a))return this._returnResult({data:{user:null},error:a});throw a}}async setSession(t){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._setSession(t))}async _setSession(t){try{if(!t.access_token||!t.refresh_token)throw new xt;const n=Date.now()/1e3;let a=n,r=!0,i=null;const{payload:l}=Jl(t.access_token);if(l.exp&&(a=l.exp,r=a<=n),r){const{data:s,error:o}=await this._callRefreshToken(t.refresh_token);if(o)return this._returnResult({data:{user:null,session:null},error:o});if(!s)return{data:{user:null,session:null},error:null};i=s}else{const{data:s,error:o}=await this._getUser(t.access_token);if(o)return this._returnResult({data:{user:null,session:null},error:o});i={access_token:t.access_token,refresh_token:t.refresh_token,user:s.user,token_type:"bearer",expires_in:a-n,expires_at:a},await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)}return this._returnResult({data:{user:i.user,session:i},error:null})}catch(n){if(K(n))return this._returnResult({data:{session:null,user:null},error:n});throw n}}async refreshSession(t){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._refreshSession(t))}async _refreshSession(t){try{return await this._useSession(async n=>{var a;if(!t){const{data:l,error:s}=n;if(s)throw s;t=(a=l.session)!==null&&a!==void 0?a:void 0}if(!(t!=null&&t.refresh_token))throw new xt;const{data:r,error:i}=await this._callRefreshToken(t.refresh_token);return i?this._returnResult({data:{user:null,session:null},error:i}):r?this._returnResult({data:{user:r.user,session:r},error:null}):this._returnResult({data:{user:null,session:null},error:null})})}catch(n){if(K(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async _getSessionFromURL(t,n){try{if(!at())throw new Xl("No browser detected.");if(t.error||t.error_description||t.error_code)throw new Xl(t.error_description||"Error in URL with unspecified error_description",{error:t.error||"unspecified_error",code:t.error_code||"unspecified_code"});switch(n){case"implicit":if(this.flowType==="pkce")throw new u0("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new Xl("Not a valid implicit grant flow url.");break;default:}if(n==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!t.code)throw new u0("No code detected.");const{data:m,error:g}=await this._exchangeCodeForSession(t.code);if(g)throw g;const w=new URL(window.location.href);return w.searchParams.delete("code"),window.history.replaceState(window.history.state,"",w.toString()),{data:{session:m.session,redirectType:null},error:null}}const{provider_token:a,provider_refresh_token:r,access_token:i,refresh_token:l,expires_in:s,expires_at:o,token_type:u}=t;if(!i||!s||!l||!u)throw new Xl("No session defined in URL");const c=Math.round(Date.now()/1e3),h=parseInt(s);let d=c+h;o&&(d=parseInt(o));const f=d-c;f*1e3<=rr&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${f}s, should have been closer to ${h}s`);const v=d-h;c-v>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",v,d,c):c-v<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",v,d,c);const{data:b,error:E}=await this._getUser(i);if(E)throw E;const p={provider_token:a,provider_refresh_token:r,access_token:i,expires_in:h,expires_at:d,refresh_token:l,token_type:u,user:b.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),this._returnResult({data:{session:p,redirectType:t.type},error:null})}catch(a){if(K(a))return this._returnResult({data:{session:null,redirectType:null},error:a});throw a}}_isImplicitGrantCallback(t){return typeof this.detectSessionInUrl=="function"?this.detectSessionInUrl(new URL(window.location.href),t):!!(t.access_token||t.error_description)}async _isPKCECallback(t){const n=await ba(this.storage,`${this.storageKey}-code-verifier`);return!!(t.code&&n)}async signOut(t={scope:"global"}){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._signOut(t))}async _signOut({scope:t}={scope:"global"}){return await this._useSession(async n=>{var a;const{data:r,error:i}=n;if(i&&!xu(i))return this._returnResult({error:i});const l=(a=r.session)===null||a===void 0?void 0:a.access_token;if(l){const{error:s}=await this.admin.signOut(l,t);if(s&&!(L1(s)&&(s.status===404||s.status===401||s.status===403)||xu(s)))return this._returnResult({error:s})}return t!=="others"&&(await this._removeSession(),await tt(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({error:null})})}onAuthStateChange(t){const n=P1(),a={id:n,callback:t,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",n),this.stateChangeEmitters.delete(n)}};return this._debug("#onAuthStateChange()","registered callback with id",n),this.stateChangeEmitters.set(n,a),(async()=>(await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>{this._emitInitialSession(n)})))(),{data:{subscription:a}}}async _emitInitialSession(t){return await this._useSession(async n=>{var a,r;try{const{data:{session:i},error:l}=n;if(l)throw l;await((a=this.stateChangeEmitters.get(t))===null||a===void 0?void 0:a.callback("INITIAL_SESSION",i)),this._debug("INITIAL_SESSION","callback id",t,"session",i)}catch(i){await((r=this.stateChangeEmitters.get(t))===null||r===void 0?void 0:r.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",t,"error",i),console.error(i)}})}async resetPasswordForEmail(t,n={}){let a=null,r=null;this.flowType==="pkce"&&([a,r]=await Qa(this.storage,this.storageKey,!0));try{return await W(this.fetch,"POST",`${this.url}/recover`,{body:{email:t,code_challenge:a,code_challenge_method:r,gotrue_meta_security:{captcha_token:n.captchaToken}},headers:this.headers,redirectTo:n.redirectTo})}catch(i){if(await tt(this.storage,`${this.storageKey}-code-verifier`),K(i))return this._returnResult({data:null,error:i});throw i}}async getUserIdentities(){var t;try{const{data:n,error:a}=await this.getUser();if(a)throw a;return this._returnResult({data:{identities:(t=n.user.identities)!==null&&t!==void 0?t:[]},error:null})}catch(n){if(K(n))return this._returnResult({data:null,error:n});throw n}}async linkIdentity(t){return"token"in t?this.linkIdentityIdToken(t):this.linkIdentityOAuth(t)}async linkIdentityOAuth(t){var n;try{const{data:a,error:r}=await this._useSession(async i=>{var l,s,o,u,c;const{data:h,error:d}=i;if(d)throw d;const f=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,t.provider,{redirectTo:(l=t.options)===null||l===void 0?void 0:l.redirectTo,scopes:(s=t.options)===null||s===void 0?void 0:s.scopes,queryParams:(o=t.options)===null||o===void 0?void 0:o.queryParams,skipBrowserRedirect:!0});return await W(this.fetch,"GET",f,{headers:this.headers,jwt:(c=(u=h.session)===null||u===void 0?void 0:u.access_token)!==null&&c!==void 0?c:void 0})});if(r)throw r;return at()&&!(!((n=t.options)===null||n===void 0)&&n.skipBrowserRedirect)&&window.location.assign(a==null?void 0:a.url),this._returnResult({data:{provider:t.provider,url:a==null?void 0:a.url},error:null})}catch(a){if(K(a))return this._returnResult({data:{provider:t.provider,url:null},error:a});throw a}}async linkIdentityIdToken(t){return await this._useSession(async n=>{var a;try{const{error:r,data:{session:i}}=n;if(r)throw r;const{options:l,provider:s,token:o,access_token:u,nonce:c}=t,h=await W(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,jwt:(a=i==null?void 0:i.access_token)!==null&&a!==void 0?a:void 0,body:{provider:s,id_token:o,access_token:u,nonce:c,link_identity:!0,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}},xform:Xt}),{data:d,error:f}=h;return f?this._returnResult({data:{user:null,session:null},error:f}):!d||!d.session||!d.user?this._returnResult({data:{user:null,session:null},error:new Ja}):(d.session&&(await this._saveSession(d.session),await this._notifyAllSubscribers("USER_UPDATED",d.session)),this._returnResult({data:d,error:f}))}catch(r){if(await tt(this.storage,`${this.storageKey}-code-verifier`),K(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}})}async unlinkIdentity(t){try{return await this._useSession(async n=>{var a,r;const{data:i,error:l}=n;if(l)throw l;return await W(this.fetch,"DELETE",`${this.url}/user/identities/${t.identity_id}`,{headers:this.headers,jwt:(r=(a=i.session)===null||a===void 0?void 0:a.access_token)!==null&&r!==void 0?r:void 0})})}catch(n){if(K(n))return this._returnResult({data:null,error:n});throw n}}async _refreshAccessToken(t){const n=`#_refreshAccessToken(${t.substring(0,5)}...)`;this._debug(n,"begin");try{const a=Date.now();return await Z1(async r=>(r>0&&await Q1(200*Math.pow(2,r-1)),this._debug(n,"refreshing attempt",r),await W(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:t},headers:this.headers,xform:Xt})),(r,i)=>{const l=200*Math.pow(2,r);return i&&Eu(i)&&Date.now()+l-a<rr})}catch(a){if(this._debug(n,"error",a),K(a))return this._returnResult({data:{session:null,user:null},error:a});throw a}finally{this._debug(n,"end")}}_isValidSession(t){return typeof t=="object"&&t!==null&&"access_token"in t&&"refresh_token"in t&&"expires_at"in t}async _handleProviderSignIn(t,n){const a=await this._getUrlForProvider(`${this.url}/authorize`,t,{redirectTo:n.redirectTo,scopes:n.scopes,queryParams:n.queryParams});return this._debug("#_handleProviderSignIn()","provider",t,"options",n,"url",a),at()&&!n.skipBrowserRedirect&&window.location.assign(a),{data:{provider:t,url:a},error:null}}async _recoverAndRefresh(){var t,n;const a="#_recoverAndRefresh()";this._debug(a,"begin");try{const r=await ba(this.storage,this.storageKey);if(r&&this.userStorage){let l=await ba(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!l&&(l={user:r.user},await ir(this.userStorage,this.storageKey+"-user",l)),r.user=(t=l==null?void 0:l.user)!==null&&t!==void 0?t:Tu()}else if(r&&!r.user&&!r.user){const l=await ba(this.storage,this.storageKey+"-user");l&&(l!=null&&l.user)?(r.user=l.user,await tt(this.storage,this.storageKey+"-user"),await ir(this.storage,this.storageKey,r)):r.user=Tu()}if(this._debug(a,"session from storage",r),!this._isValidSession(r)){this._debug(a,"session is not valid"),r!==null&&await this._removeSession();return}const i=((n=r.expires_at)!==null&&n!==void 0?n:1/0)*1e3-Date.now()<Su;if(this._debug(a,`session has${i?"":" not"} expired with margin of ${Su}s`),i){if(this.autoRefreshToken&&r.refresh_token){const{error:l}=await this._callRefreshToken(r.refresh_token);l&&(console.error(l),Eu(l)||(this._debug(a,"refresh failed with a non-retryable error, removing the session",l),await this._removeSession()))}}else if(r.user&&r.user.__isUserNotAvailableProxy===!0)try{const{data:l,error:s}=await this._getUser(r.access_token);!s&&(l!=null&&l.user)?(r.user=l.user,await this._saveSession(r),await this._notifyAllSubscribers("SIGNED_IN",r)):this._debug(a,"could not get user data, skipping SIGNED_IN notification")}catch(l){console.error("Error getting user data:",l),this._debug(a,"error getting user data, skipping SIGNED_IN notification",l)}else await this._notifyAllSubscribers("SIGNED_IN",r)}catch(r){this._debug(a,"error",r),console.error(r);return}finally{this._debug(a,"end")}}async _callRefreshToken(t){var n,a;if(!t)throw new xt;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const r=`#_callRefreshToken(${t.substring(0,5)}...)`;this._debug(r,"begin");try{this.refreshingDeferred=new So;const{data:i,error:l}=await this._refreshAccessToken(t);if(l)throw l;if(!i.session)throw new xt;await this._saveSession(i.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",i.session);const s={data:i.session,error:null};return this.refreshingDeferred.resolve(s),s}catch(i){if(this._debug(r,"error",i),K(i)){const l={data:null,error:i};return Eu(i)||await this._removeSession(),(n=this.refreshingDeferred)===null||n===void 0||n.resolve(l),l}throw(a=this.refreshingDeferred)===null||a===void 0||a.reject(i),i}finally{this.refreshingDeferred=null,this._debug(r,"end")}}async _notifyAllSubscribers(t,n,a=!0){const r=`#_notifyAllSubscribers(${t})`;this._debug(r,"begin",n,`broadcast = ${a}`);try{this.broadcastChannel&&a&&this.broadcastChannel.postMessage({event:t,session:n});const i=[],l=Array.from(this.stateChangeEmitters.values()).map(async s=>{try{await s.callback(t,n)}catch(o){i.push(o)}});if(await Promise.all(l),i.length>0){for(let s=0;s<i.length;s+=1)console.error(i[s]);throw i[0]}}finally{this._debug(r,"end")}}async _saveSession(t){this._debug("#_saveSession()",t),this.suppressGetSessionWarning=!0,await tt(this.storage,`${this.storageKey}-code-verifier`);const n=Object.assign({},t),a=n.user&&n.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!a&&n.user&&await ir(this.userStorage,this.storageKey+"-user",{user:n.user});const r=Object.assign({},n);delete r.user;const i=g0(r);await ir(this.storage,this.storageKey,i)}else{const r=g0(n);await ir(this.storage,this.storageKey,r)}}async _removeSession(){this._debug("#_removeSession()"),this.suppressGetSessionWarning=!1,await tt(this.storage,this.storageKey),await tt(this.storage,this.storageKey+"-code-verifier"),await tt(this.storage,this.storageKey+"-user"),this.userStorage&&await tt(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const t=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{t&&at()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",t)}catch(n){console.error("removing visibilitychange callback failed",n)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const t=setInterval(()=>this._autoRefreshTokenTick(),rr);this.autoRefreshTicker=t,t&&typeof t=="object"&&typeof t.unref=="function"?t.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(t);const n=setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0);this.autoRefreshTickTimeout=n,n&&typeof n=="object"&&typeof n.unref=="function"?n.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(n)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const t=this.autoRefreshTicker;this.autoRefreshTicker=null,t&&clearInterval(t);const n=this.autoRefreshTickTimeout;this.autoRefreshTickTimeout=null,n&&clearTimeout(n)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const t=Date.now();try{return await this._useSession(async n=>{const{data:{session:a}}=n;if(!a||!a.refresh_token||!a.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const r=Math.floor((a.expires_at*1e3-t)/rr);this._debug("#_autoRefreshTokenTick()",`access token expires in ${r} ticks, a tick lasts ${rr}ms, refresh threshold is ${Lc} ticks`),r<=Lc&&await this._callRefreshToken(a.refresh_token)})}catch(n){console.error("Auto refresh tick failed with error. This is likely a transient error.",n)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(t){if(t.isAcquireTimeout||t instanceof oy)this._debug("auto refresh token tick lock not available");else throw t}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!at()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>{try{await this._onVisibilityChanged(!1)}catch(t){this._debug("#visibilityChangedCallback","error",t)}},window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(t){console.error("_handleVisibilityChange",t)}}async _onVisibilityChanged(t){const n=`#_onVisibilityChanged(${t})`;this._debug(n,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),t||(await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>{if(document.visibilityState!=="visible"){this._debug(n,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(t,n,a){const r=[`provider=${encodeURIComponent(n)}`];if(a!=null&&a.redirectTo&&r.push(`redirect_to=${encodeURIComponent(a.redirectTo)}`),a!=null&&a.scopes&&r.push(`scopes=${encodeURIComponent(a.scopes)}`),this.flowType==="pkce"){const[i,l]=await Qa(this.storage,this.storageKey),s=new URLSearchParams({code_challenge:`${encodeURIComponent(i)}`,code_challenge_method:`${encodeURIComponent(l)}`});r.push(s.toString())}if(a!=null&&a.queryParams){const i=new URLSearchParams(a.queryParams);r.push(i.toString())}return a!=null&&a.skipBrowserRedirect&&r.push(`skip_http_redirect=${a.skipBrowserRedirect}`),`${t}?${r.join("&")}`}async _unenroll(t){try{return await this._useSession(async n=>{var a;const{data:r,error:i}=n;return i?this._returnResult({data:null,error:i}):await W(this.fetch,"DELETE",`${this.url}/factors/${t.factorId}`,{headers:this.headers,jwt:(a=r==null?void 0:r.session)===null||a===void 0?void 0:a.access_token})})}catch(n){if(K(n))return this._returnResult({data:null,error:n});throw n}}async _enroll(t){try{return await this._useSession(async n=>{var a,r;const{data:i,error:l}=n;if(l)return this._returnResult({data:null,error:l});const s=Object.assign({friendly_name:t.friendlyName,factor_type:t.factorType},t.factorType==="phone"?{phone:t.phone}:t.factorType==="totp"?{issuer:t.issuer}:{}),{data:o,error:u}=await W(this.fetch,"POST",`${this.url}/factors`,{body:s,headers:this.headers,jwt:(a=i==null?void 0:i.session)===null||a===void 0?void 0:a.access_token});return u?this._returnResult({data:null,error:u}):(t.factorType==="totp"&&o.type==="totp"&&(!((r=o==null?void 0:o.totp)===null||r===void 0)&&r.qr_code)&&(o.totp.qr_code=`data:image/svg+xml;utf-8,${o.totp.qr_code}`),this._returnResult({data:o,error:null}))})}catch(n){if(K(n))return this._returnResult({data:null,error:n});throw n}}async _verify(t){return this._acquireLock(this.lockAcquireTimeout,async()=>{try{return await this._useSession(async n=>{var a;const{data:r,error:i}=n;if(i)return this._returnResult({data:null,error:i});const l=Object.assign({challenge_id:t.challengeId},"webauthn"in t?{webauthn:Object.assign(Object.assign({},t.webauthn),{credential_response:t.webauthn.type==="create"?kx(t.webauthn.credential_response):Rx(t.webauthn.credential_response)})}:{code:t.code}),{data:s,error:o}=await W(this.fetch,"POST",`${this.url}/factors/${t.factorId}/verify`,{body:l,headers:this.headers,jwt:(a=r==null?void 0:r.session)===null||a===void 0?void 0:a.access_token});return o?this._returnResult({data:null,error:o}):(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+s.expires_in},s)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",s),this._returnResult({data:s,error:o}))})}catch(n){if(K(n))return this._returnResult({data:null,error:n});throw n}})}async _challenge(t){return this._acquireLock(this.lockAcquireTimeout,async()=>{try{return await this._useSession(async n=>{var a;const{data:r,error:i}=n;if(i)return this._returnResult({data:null,error:i});const l=await W(this.fetch,"POST",`${this.url}/factors/${t.factorId}/challenge`,{body:t,headers:this.headers,jwt:(a=r==null?void 0:r.session)===null||a===void 0?void 0:a.access_token});if(l.error)return l;const{data:s}=l;if(s.type!=="webauthn")return{data:s,error:null};switch(s.webauthn.type){case"create":return{data:Object.assign(Object.assign({},s),{webauthn:Object.assign(Object.assign({},s.webauthn),{credential_options:Object.assign(Object.assign({},s.webauthn.credential_options),{publicKey:Tx(s.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},s),{webauthn:Object.assign(Object.assign({},s.webauthn),{credential_options:Object.assign(Object.assign({},s.webauthn.credential_options),{publicKey:Ax(s.webauthn.credential_options.publicKey)})})}),error:null}}})}catch(n){if(K(n))return this._returnResult({data:null,error:n});throw n}})}async _challengeAndVerify(t){const{data:n,error:a}=await this._challenge({factorId:t.factorId});return a?this._returnResult({data:null,error:a}):await this._verify({factorId:t.factorId,challengeId:n.id,code:t.code})}async _listFactors(){var t;const{data:{user:n},error:a}=await this.getUser();if(a)return{data:null,error:a};const r={all:[],phone:[],totp:[],webauthn:[]};for(const i of(t=n==null?void 0:n.factors)!==null&&t!==void 0?t:[])r.all.push(i),i.status==="verified"&&r[i.factor_type].push(i);return{data:r,error:null}}async _getAuthenticatorAssuranceLevel(t){var n,a,r,i;if(t)try{const{payload:f}=Jl(t);let v=null;f.aal&&(v=f.aal);let b=v;const{data:{user:E},error:p}=await this.getUser(t);if(p)return this._returnResult({data:null,error:p});((a=(n=E==null?void 0:E.factors)===null||n===void 0?void 0:n.filter(w=>w.status==="verified"))!==null&&a!==void 0?a:[]).length>0&&(b="aal2");const g=f.amr||[];return{data:{currentLevel:v,nextLevel:b,currentAuthenticationMethods:g},error:null}}catch(f){if(K(f))return this._returnResult({data:null,error:f});throw f}const{data:{session:l},error:s}=await this.getSession();if(s)return this._returnResult({data:null,error:s});if(!l)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:o}=Jl(l.access_token);let u=null;o.aal&&(u=o.aal);let c=u;((i=(r=l.user.factors)===null||r===void 0?void 0:r.filter(f=>f.status==="verified"))!==null&&i!==void 0?i:[]).length>0&&(c="aal2");const d=o.amr||[];return{data:{currentLevel:u,nextLevel:c,currentAuthenticationMethods:d},error:null}}async _getAuthorizationDetails(t){try{return await this._useSession(async n=>{const{data:{session:a},error:r}=n;return r?this._returnResult({data:null,error:r}):a?await W(this.fetch,"GET",`${this.url}/oauth/authorizations/${t}`,{headers:this.headers,jwt:a.access_token,xform:i=>({data:i,error:null})}):this._returnResult({data:null,error:new xt})})}catch(n){if(K(n))return this._returnResult({data:null,error:n});throw n}}async _approveAuthorization(t,n){try{return await this._useSession(async a=>{const{data:{session:r},error:i}=a;if(i)return this._returnResult({data:null,error:i});if(!r)return this._returnResult({data:null,error:new xt});const l=await W(this.fetch,"POST",`${this.url}/oauth/authorizations/${t}/consent`,{headers:this.headers,jwt:r.access_token,body:{action:"approve"},xform:s=>({data:s,error:null})});return l.data&&l.data.redirect_url&&at()&&!(n!=null&&n.skipBrowserRedirect)&&window.location.assign(l.data.redirect_url),l})}catch(a){if(K(a))return this._returnResult({data:null,error:a});throw a}}async _denyAuthorization(t,n){try{return await this._useSession(async a=>{const{data:{session:r},error:i}=a;if(i)return this._returnResult({data:null,error:i});if(!r)return this._returnResult({data:null,error:new xt});const l=await W(this.fetch,"POST",`${this.url}/oauth/authorizations/${t}/consent`,{headers:this.headers,jwt:r.access_token,body:{action:"deny"},xform:s=>({data:s,error:null})});return l.data&&l.data.redirect_url&&at()&&!(n!=null&&n.skipBrowserRedirect)&&window.location.assign(l.data.redirect_url),l})}catch(a){if(K(a))return this._returnResult({data:null,error:a});throw a}}async _listOAuthGrants(){try{return await this._useSession(async t=>{const{data:{session:n},error:a}=t;return a?this._returnResult({data:null,error:a}):n?await W(this.fetch,"GET",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:n.access_token,xform:r=>({data:r,error:null})}):this._returnResult({data:null,error:new xt})})}catch(t){if(K(t))return this._returnResult({data:null,error:t});throw t}}async _revokeOAuthGrant(t){try{return await this._useSession(async n=>{const{data:{session:a},error:r}=n;return r?this._returnResult({data:null,error:r}):a?(await W(this.fetch,"DELETE",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:a.access_token,query:{client_id:t.clientId},noResolveJson:!0}),{data:{},error:null}):this._returnResult({data:null,error:new xt})})}catch(n){if(K(n))return this._returnResult({data:null,error:n});throw n}}async fetchJwk(t,n={keys:[]}){let a=n.keys.find(s=>s.kid===t);if(a)return a;const r=Date.now();if(a=this.jwks.keys.find(s=>s.kid===t),a&&this.jwks_cached_at+z1>r)return a;const{data:i,error:l}=await W(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(l)throw l;return!i.keys||i.keys.length===0||(this.jwks=i,this.jwks_cached_at=r,a=i.keys.find(s=>s.kid===t),!a)?null:a}async getClaims(t,n={}){try{let a=t;if(!a){const{data:f,error:v}=await this.getSession();if(v||!f.session)return this._returnResult({data:null,error:v});a=f.session.access_token}const{header:r,payload:i,signature:l,raw:{header:s,payload:o}}=Jl(a);n!=null&&n.allowExpired||rx(i.exp);const u=!r.alg||r.alg.startsWith("HS")||!r.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(r.kid,n!=null&&n.keys?{keys:n.keys}:n==null?void 0:n.jwks);if(!u){const{error:f}=await this.getUser(a);if(f)throw f;return{data:{claims:i,header:r,signature:l},error:null}}const c=ix(r.alg),h=await crypto.subtle.importKey("jwk",u,c,!0,["verify"]);if(!await crypto.subtle.verify(c,h,l,Y1(`${s}.${o}`)))throw new $c("Invalid JWT signature");return{data:{claims:i,header:r,signature:l},error:null}}catch(a){if(K(a))return this._returnResult({data:null,error:a});throw a}}}nl.nextInstanceID={};const Bx=nl,Lx="2.93.2";let bi="";typeof Deno<"u"?bi="deno":typeof document<"u"?bi="web":typeof navigator<"u"&&navigator.product==="ReactNative"?bi="react-native":bi="node";const Hx={"X-Client-Info":`supabase-js-${bi}/${Lx}`},qx={headers:Hx},$x={schema:"public"},Gx={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},Ix={};function al(e){"@babel/helpers - typeof";return al=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},al(e)}function Vx(e,t){if(al(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var a=n.call(e,t);if(al(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Yx(e){var t=Vx(e,"string");return al(t)=="symbol"?t:t+""}function Kx(e,t,n){return(t=Yx(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function _0(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable})),n.push.apply(n,a)}return n}function Le(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?_0(Object(n),!0).forEach(function(a){Kx(e,a,n[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):_0(Object(n)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(n,a))})}return e}const Px=e=>e?(...t)=>e(...t):(...t)=>fetch(...t),Xx=()=>Headers,Jx=(e,t,n)=>{const a=Px(n),r=Xx();return async(i,l)=>{var s;const o=(s=await t())!==null&&s!==void 0?s:e;let u=new r(l==null?void 0:l.headers);return u.has("apikey")||u.set("apikey",e),u.has("Authorization")||u.set("Authorization",`Bearer ${o}`),a(i,Le(Le({},l),{},{headers:u}))}};function Qx(e){return e.endsWith("/")?e:e+"/"}function Zx(e,t){var n,a;const{db:r,auth:i,realtime:l,global:s}=e,{db:o,auth:u,realtime:c,global:h}=t,d={db:Le(Le({},o),r),auth:Le(Le({},u),i),realtime:Le(Le({},c),l),storage:{},global:Le(Le(Le({},h),s),{},{headers:Le(Le({},(n=h==null?void 0:h.headers)!==null&&n!==void 0?n:{}),(a=s==null?void 0:s.headers)!==null&&a!==void 0?a:{})}),accessToken:async()=>""};return e.accessToken?d.accessToken=e.accessToken:delete d.accessToken,d}function Fx(e){const t=e==null?void 0:e.trim();if(!t)throw new Error("supabaseUrl is required.");if(!t.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(Qx(t))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}var Wx=class extends Bx{constructor(e){super(e)}},eE=class{constructor(e,t,n){var a,r;this.supabaseUrl=e,this.supabaseKey=t;const i=Fx(e);if(!t)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",i),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",i),this.storageUrl=new URL("storage/v1",i),this.functionsUrl=new URL("functions/v1",i);const l=`sb-${i.hostname.split(".")[0]}-auth-token`,s={db:$x,realtime:Ix,auth:Le(Le({},Gx),{},{storageKey:l}),global:qx},o=Zx(n??{},s);if(this.storageKey=(a=o.auth.storageKey)!==null&&a!==void 0?a:"",this.headers=(r=o.global.headers)!==null&&r!==void 0?r:{},o.accessToken)this.accessToken=o.accessToken,this.auth=new Proxy({},{get:(c,h)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(h)} is not possible`)}});else{var u;this.auth=this._initSupabaseAuthClient((u=o.auth)!==null&&u!==void 0?u:{},this.headers,o.global.fetch)}this.fetch=Jx(t,this._getAccessToken.bind(this),o.global.fetch),this.realtime=this._initRealtimeClient(Le({headers:this.headers,accessToken:this._getAccessToken.bind(this)},o.realtime)),this.accessToken&&Promise.resolve(this.accessToken()).then(c=>this.realtime.setAuth(c)).catch(c=>console.warn("Failed to set initial Realtime auth token:",c)),this.rest=new BS(new URL("rest/v1",i).href,{headers:this.headers,schema:o.db.schema,fetch:this.fetch}),this.storage=new N1(this.storageUrl.href,this.headers,this.fetch,n==null?void 0:n.storage),o.accessToken||this._listenForAuthEvents()}get functions(){return new jS(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(e){return this.rest.from(e)}schema(e){return this.rest.schema(e)}rpc(e,t={},n={head:!1,get:!1,count:void 0}){return this.rest.rpc(e,t,n)}channel(e,t={config:{}}){return this.realtime.channel(e,t)}getChannels(){return this.realtime.getChannels()}removeChannel(e){return this.realtime.removeChannel(e)}removeAllChannels(){return this.realtime.removeAllChannels()}async _getAccessToken(){var e=this,t,n;if(e.accessToken)return await e.accessToken();const{data:a}=await e.auth.getSession();return(t=(n=a.session)===null||n===void 0?void 0:n.access_token)!==null&&t!==void 0?t:e.supabaseKey}_initSupabaseAuthClient({autoRefreshToken:e,persistSession:t,detectSessionInUrl:n,storage:a,userStorage:r,storageKey:i,flowType:l,lock:s,debug:o,throwOnError:u},c,h){const d={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new Wx({url:this.authUrl.href,headers:Le(Le({},d),c),storageKey:i,autoRefreshToken:e,persistSession:t,detectSessionInUrl:n,storage:a,userStorage:r,flowType:l,lock:s,debug:o,throwOnError:u,fetch:h,hasCustomAuthorizationHeader:Object.keys(this.headers).some(f=>f.toLowerCase()==="authorization")})}_initRealtimeClient(e){return new e1(this.realtimeUrl.href,Le(Le({},e),{},{params:Le(Le({},{apikey:this.supabaseKey}),e==null?void 0:e.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((e,t)=>{this._handleTokenChanged(e,"CLIENT",t==null?void 0:t.access_token)})}_handleTokenChanged(e,t,n){(e==="TOKEN_REFRESHED"||e==="SIGNED_IN")&&this.changedAccessToken!==n?(this.changedAccessToken=n,this.realtime.setAuth(n)):e==="SIGNED_OUT"&&(this.realtime.setAuth(),t=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}};const tE=(e,t,n)=>new eE(e,t,n);function nE(){if(typeof window<"u")return!1;const e=globalThis.process;if(!e)return!1;const t=e.version;if(t==null)return!1;const n=t.match(/^v(\d+)\./);return n?parseInt(n[1],10)<=18:!1}nE()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const aE="https://jdjiykefnqwxqgzhwzab.supabase.co",rE="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Impkaml5a2VmbnF3eHFnemh3emFiIiwicm9sZSI6ImFub24iLCJpYXQiOjE3Njk2MTA5OTQsImV4cCI6MjA4NTE4Njk5NH0.Qa-G5dXsr9pkFf8BU4fEZ1lDTdfL24VrQo4iSVxL02g",Te=tE(aE,rE),iE=({toggleTheme:e,tasks:t,onToggleTaskStatus:n,onAddTask:a,onEditTask:r,onDeleteTask:i,userId:l})=>{const[s,o]=x.useState(!1),[u,c]=x.useState(null),[h,d]=x.useState(void 0),[f,v]=x.useState(new Set),[b,E]=x.useState(null),[p,m]=x.useState(2),[g,w]=x.useState(!1),[S,k]=x.useState({status:"all",type:"all",urgency:"all",timeframe:"all"}),R=x.useRef(null);x.useEffect(()=>{const N=()=>{window.innerWidth<768?m(1):(window.innerWidth<1280,m(2))};return N(),window.addEventListener("resize",N),()=>window.removeEventListener("resize",N)},[]),x.useEffect(()=>{const N=C=>{R.current&&!R.current.contains(C.target)&&w(!1)};return g&&document.addEventListener("mousedown",N),()=>{document.removeEventListener("mousedown",N)}},[g]);const U=x.useMemo(()=>{const N=new Date().toLocaleDateString("en-CA");return t.filter(C=>{if(S.status==="active"&&C.status==="completed"||S.status==="completed"&&C.status!=="completed"||S.type!=="all"&&C.type!==S.type||S.urgency!=="all"&&C.urgency!==S.urgency)return!1;if(S.timeframe==="past"){if(C.date>=N)return!1}else if(S.timeframe==="today"){if(C.date!==N)return!1}else if(S.timeframe==="upcoming"&&C.date<=N)return!1;return!0})},[t,S]),M=Object.values(S).filter(N=>N!=="all").length,q=()=>{c(null),d(void 0),o(!0)},fe=N=>{c(null),d(N),o(!0)},Ce=N=>{c(N),d(void 0),o(!0)},De=async N=>{u?await r(N):await a(N),o(!1)},Ft=async N=>{await i(N)},ze=(N,C)=>{E(C),N.dataTransfer.effectAllowed="move",N.currentTarget instanceof HTMLElement&&(N.currentTarget.style.opacity="0.5")},H=N=>{N.currentTarget instanceof HTMLElement&&(N.currentTarget.style.opacity="1"),E(null)},V=N=>{N.preventDefault()},Z=(N,C)=>{if(N.preventDefault(),b){const z=t.find(P=>P.id===b);z&&z.date!==C&&r({...z,date:C})}E(null)},me=N=>{switch(N){case"High":return"bg-red-50 text-red-600 border-red-100 dark:bg-red-900/20 dark:text-red-400 dark:border-red-800";case"Medium":return"bg-amber-50 text-amber-600 border-amber-100 dark:bg-amber-900/20 dark:text-amber-400 dark:border-amber-800";case"Low":return"bg-blue-50 text-blue-600 border-blue-100 dark:bg-blue-900/20 dark:text-blue-400 dark:border-blue-800";default:return"bg-slate-50 text-slate-500 border-slate-100 dark:bg-slate-800 dark:text-slate-400 dark:border-slate-700"}},A=N=>{if(N.color){const C={blue:{bg:"bg-blue-100 dark:bg-blue-900/30",text:"text-blue-700 dark:text-blue-400",dot:"bg-blue-500",border:"border-blue-200 dark:border-blue-700/50"},red:{bg:"bg-red-100 dark:bg-red-900/30",text:"text-red-700 dark:text-red-400",dot:"bg-red-500",border:"border-red-200 dark:border-red-700/50"},green:{bg:"bg-emerald-100 dark:bg-emerald-900/30",text:"text-emerald-700 dark:text-emerald-400",dot:"bg-emerald-500",border:"border-emerald-200 dark:border-emerald-700/50"},amber:{bg:"bg-amber-100 dark:bg-amber-900/30",text:"text-amber-700 dark:text-amber-400",dot:"bg-amber-500",border:"border-amber-200 dark:border-amber-700/50"},violet:{bg:"bg-violet-100 dark:bg-violet-900/30",text:"text-violet-700 dark:text-violet-400",dot:"bg-violet-500",border:"border-violet-200 dark:border-violet-700/50"},pink:{bg:"bg-pink-100 dark:bg-pink-900/30",text:"text-pink-700 dark:text-pink-400",dot:"bg-pink-500",border:"border-pink-200 dark:border-pink-700/50"},cyan:{bg:"bg-cyan-100 dark:bg-cyan-900/30",text:"text-cyan-700 dark:text-cyan-400",dot:"bg-cyan-500",border:"border-cyan-200 dark:border-cyan-700/50"},slate:{bg:"bg-slate-100 dark:bg-slate-800",text:"text-slate-700 dark:text-slate-300",dot:"bg-slate-500",border:"border-slate-200 dark:border-slate-700"}};return C[N.color]||C.slate}return{bg:"bg-slate-50 dark:bg-slate-800",text:"text-slate-600",dot:"bg-slate-500",border:"border-slate-200"}},T=N=>{const C=["bg-[#FDF6D8] dark:bg-yellow-900/30 border-[#F5E6A3] dark:border-yellow-900/40 backdrop-blur-sm","bg-[#E3F1FC] dark:bg-blue-900/30 border-[#C8E4FA] dark:border-blue-900/40 backdrop-blur-sm","bg-[#E8F5E9] dark:bg-green-900/30 border-[#C8E6C9] dark:border-green-900/40 backdrop-blur-sm","bg-[#F3E5F5] dark:bg-purple-900/30 border-[#E1BEE7] dark:border-purple-900/40 backdrop-blur-sm","bg-[#FCE4EC] dark:bg-pink-900/30 border-[#F8BBD0] dark:border-pink-900/40 backdrop-blur-sm","bg-[#FFF3E0] dark:bg-orange-900/30 border-[#FFE0B2] dark:border-orange-900/40 backdrop-blur-sm","bg-[#E0F7FA] dark:bg-cyan-900/30 border-[#B2EBF2] dark:border-cyan-900/40 backdrop-blur-sm"];return C[N%C.length]},G=(N,C)=>{const z=N/window.innerWidth,P=C/window.innerHeight;_S({particleCount:80,spread:60,origin:{x:z,y:P},colors:["#017a6c","#00c2cc","#FFD700","#FF69B4"],disableForReducedMotion:!0,zIndex:100,scalar:.8})};x.useMemo(()=>{const N=new Date,C=N.toLocaleDateString("en-CA"),z=new Date(N);z.setDate(z.getDate()+1);const P=z.toLocaleDateString("en-CA"),Q=[...U].sort((ne,I)=>ne.date!==I.date?ne.date.localeCompare(I.date):ne.time&&I.time?ne.time.localeCompare(I.time):ne.time?-1:I.time?1:0),ae={},re=[];return Q.forEach(ne=>{let I="";if(ne.date===C)I="Today";else if(ne.date===P)I="Tomorrow";else{const[Ue,Oe,Ge]=ne.date.split("-").map(Number);I=new Date(Ue,Oe-1,Ge).toLocaleDateString("en-US",{weekday:"long",month:"short",day:"numeric"})}ae[I]||(ae[I]=[],re.push(I)),ae[I].push(ne)}),{groups:ae,order:re}},[U]);const X=x.useMemo(()=>{const N=new Date,C=N.toLocaleDateString("en-CA"),z=new Date(N);z.setDate(z.getDate()+1);const P=z.toLocaleDateString("en-CA"),Q=[];let ae=0;const re=new Set;return(S.timeframe==="all"||S.timeframe==="today"||S.timeframe==="upcoming")&&(S.timeframe!=="upcoming"&&re.add(C),S.timeframe!=="today"&&re.add(P)),U.forEach(I=>{re.add(I.date)}),Array.from(re).sort().forEach(I=>{const Ue=U.filter($=>$.date===I).sort(($,ht)=>($.time||"").localeCompare(ht.time||""));let Oe="";const Ge=I<C;if(I===C)Oe="Today";else if(I===P)Oe="Tomorrow";else{const[$,ht,Xe]=I.split("-").map(Number);Oe=new Date($,ht-1,Xe).toLocaleDateString("en-US",{weekday:"long",month:"short",day:"numeric"})}Q.push({id:I,label:Oe,dateStr:I,tasks:Ue,isOverdue:Ge,index:ae++})}),Q},[U,S.timeframe]),J=x.useMemo(()=>{const N=Array.from({length:p},()=>[]);return X.forEach((C,z)=>{N[z%p].push(C)}),N},[X,p]),F=N=>{const C=A(N),z=me(N.urgency),P=N.status==="active",Q=N.status==="completed",ae=N.type==="event";return y.jsx("div",{draggable:"true",onDragStart:re=>ze(re,N.id),onDragEnd:H,className:`group relative border rounded-2xl p-4 transition-all duration-200 cursor-grab active:cursor-grabbing
        ${C.bg}
        ${P?"border-primary shadow-md shadow-primary/5":`${C.border} hover:border-primary/30 hover:shadow-lg hover:shadow-slate-200/50 dark:hover:shadow-black/30`}
        ${Q?"opacity-60":""}
      `,children:y.jsxs("div",{className:"flex items-center gap-4",children:[ae?y.jsx("div",{className:"shrink-0 w-6 h-6 flex items-center justify-center text-slate-400",children:y.jsx("span",{className:"material-symbols-outlined text-[20px]",children:"event"})}):y.jsx("button",{onClick:re=>{Q||G(re.clientX,re.clientY),n(N.id)},className:`shrink-0 w-6 h-6 rounded-full border-2 transition-all flex items-center justify-center
              ${Q?"bg-primary border-primary text-white":P?"border-primary text-primary":"border-slate-300 dark:border-slate-600 text-transparent hover:border-primary"}`,children:y.jsx("span",{className:`material-symbols-outlined text-[16px] font-bold ${Q?"scale-100":"scale-0"}`,children:"check"})}),y.jsxs("div",{className:"flex-1 min-w-0 flex flex-col sm:flex-row sm:items-center gap-2 sm:gap-6",children:[y.jsxs("div",{className:"flex-1 min-w-0",children:[y.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[y.jsx("h4",{className:`text-base font-bold truncate transition-colors ${Q?"line-through text-slate-400":"text-slate-900 dark:text-white"}`,children:N.title}),ae&&y.jsx("span",{className:"shrink-0 text-[10px] font-bold uppercase tracking-wider bg-slate-100 dark:bg-slate-700 text-slate-500 px-1.5 py-0.5 rounded",children:"Event"})]}),y.jsx("div",{className:"flex items-center gap-3 text-xs font-medium text-slate-500 dark:text-slate-400",children:N.time&&y.jsxs("span",{className:`flex items-center gap-1 ${Q?"text-slate-400":"text-slate-600 dark:text-slate-300"}`,children:[y.jsx("span",{className:"material-symbols-outlined text-[16px]",children:"schedule"}),N.time]})})]}),y.jsxs("div",{className:"flex items-center justify-between sm:justify-end gap-4 w-full sm:w-auto mt-2 sm:mt-0",children:[y.jsxs("span",{className:`px-2.5 py-1 rounded-lg text-xs font-bold border uppercase tracking-wide flex items-center gap-1.5 ${z} ${Q?"opacity-50":""}`,children:[y.jsx("span",{className:`material-symbols-outlined text-[16px] ${N.urgency!=="Normal"?"filled":""}`,children:"flag"}),N.urgency]}),y.jsxs("div",{className:"flex items-center gap-1 sm:opacity-0 sm:group-hover:opacity-100 transition-opacity",children:[y.jsx("button",{onClick:()=>Ce(N),className:"p-2 text-slate-400 hover:text-primary hover:bg-slate-100 dark:hover:bg-slate-700 rounded-lg transition-colors",title:"Edit",children:y.jsx("span",{className:"material-symbols-outlined text-[20px]",children:"edit"})}),y.jsx("button",{onClick:()=>Ft(N.id),className:"p-2 text-slate-400 hover:text-red-500 hover:bg-red-50 dark:hover:bg-red-900/20 rounded-lg transition-colors",title:"Delete",children:y.jsx("span",{className:"material-symbols-outlined text-[20px]",children:"delete"})})]})]})]})]})},N.id)};return y.jsxs(y.Fragment,{children:[y.jsx(RS,{isOpen:s,onClose:()=>o(!1),onSave:De,initialTask:u,initialDate:h,onDelete:i}),y.jsx("div",{className:"flex-1 flex flex-col relative overflow-hidden bg-slate-50/50 dark:bg-transparent",children:y.jsxs("div",{className:"flex-1 overflow-y-auto custom-scrollbar relative z-10",children:[y.jsx("div",{className:"px-6 pt-5 pb-0 flex flex-col sm:flex-row items-center justify-end gap-4",children:y.jsxs("div",{className:"flex items-center gap-4",children:[y.jsxs("button",{onClick:q,className:"h-10 px-5 bg-primary hover:bg-primary-dark text-white rounded-lg text-sm font-bold shadow-sm hover:bg-primary-dark flex items-center justify-center gap-2 transition-colors",children:[y.jsx("span",{className:"material-symbols-outlined text-[20px]",children:"add"}),y.jsx("span",{children:"Add Event"})]}),y.jsxs("div",{className:"relative",ref:R,children:[y.jsxs("button",{onClick:()=>w(!g),className:`flex items-center gap-2 px-4 py-2 rounded-lg text-sm font-bold border transition-all ${g||M>0?"bg-primary text-white border-primary":"bg-slate-50 dark:bg-gray-800 text-gray-700 dark:text-gray-300 border-transparent hover:border-slate-200 dark:hover:border-gray-700"}`,children:[y.jsx("span",{className:"material-symbols-outlined text-[18px]",children:"filter_list"}),"Filter",M>0&&y.jsx("span",{className:"bg-white/20 text-white text-[10px] px-1.5 py-0.5 rounded-full ml-1",children:M})]}),g&&y.jsxs("div",{className:"absolute right-0 top-full mt-2 w-72 bg-white dark:bg-[#1E1E1E] rounded-xl shadow-xl border border-slate-100 dark:border-slate-700 p-5 z-50 animate-in fade-in zoom-in-95 duration-100",children:[y.jsxs("div",{className:"flex justify-between items-center mb-4",children:[y.jsx("h3",{className:"font-bold text-slate-900 dark:text-white",children:"Filters"}),M>0&&y.jsx("button",{onClick:()=>k({status:"all",type:"all",urgency:"all",timeframe:"all"}),className:"text-xs text-primary font-bold hover:underline",children:"Reset"})]}),y.jsxs("div",{className:"space-y-4",children:[y.jsxs("div",{className:"space-y-2",children:[y.jsx("label",{className:"text-xs font-bold text-slate-500 dark:text-slate-400 uppercase tracking-wider",children:"Time"}),y.jsx("div",{className:"grid grid-cols-2 gap-2",children:["all","past","today","upcoming"].map(N=>y.jsx("button",{onClick:()=>k({...S,timeframe:N}),className:`py-1.5 text-xs font-bold rounded-lg border transition-all capitalize ${S.timeframe===N?"bg-primary/10 border-primary text-primary":"bg-white dark:bg-slate-800 border-slate-200 dark:border-slate-700 text-slate-600 dark:text-slate-400 hover:border-slate-300"}`,children:N},N))})]}),y.jsxs("div",{className:"space-y-2",children:[y.jsx("label",{className:"text-xs font-bold text-slate-500 dark:text-slate-400 uppercase tracking-wider",children:"Status"}),y.jsx("div",{className:"flex bg-slate-100 dark:bg-slate-800 p-1 rounded-lg",children:["all","active","completed"].map(N=>y.jsx("button",{onClick:()=>k({...S,status:N}),className:`flex-1 py-1.5 text-xs font-bold rounded-md capitalize transition-all ${S.status===N?"bg-white dark:bg-surface-dark shadow-sm text-slate-900 dark:text-white":"text-slate-500 hover:text-slate-700 dark:hover:text-slate-300"}`,children:N},N))})]}),y.jsxs("div",{className:"space-y-2",children:[y.jsx("label",{className:"text-xs font-bold text-slate-500 dark:text-slate-400 uppercase tracking-wider",children:"Type"}),y.jsx("div",{className:"flex gap-2",children:["all","task","event"].map(N=>y.jsx("button",{onClick:()=>k({...S,type:N}),className:`px-3 py-1.5 text-xs font-bold rounded-lg border transition-all capitalize ${S.type===N?"bg-primary/10 border-primary text-primary":"bg-white dark:bg-slate-800 border-slate-200 dark:border-slate-700 text-slate-600 dark:text-slate-400 hover:border-slate-300"}`,children:N},N))})]}),y.jsxs("div",{className:"space-y-2",children:[y.jsx("label",{className:"text-xs font-bold text-slate-500 dark:text-slate-400 uppercase tracking-wider",children:"Urgency"}),y.jsx("div",{className:"flex flex-wrap gap-2",children:["all","High","Medium","Low","Normal"].map(N=>y.jsx("button",{onClick:()=>k({...S,urgency:N}),className:`px-3 py-1.5 text-xs font-bold rounded-lg border transition-all ${S.urgency===N?"bg-slate-800 dark:bg-white text-white dark:text-slate-900 border-transparent":"bg-white dark:bg-slate-800 border-slate-200 dark:border-slate-700 text-slate-600 dark:text-slate-400 hover:border-slate-300"}`,children:N},N))})]})]})]})]})]})}),y.jsx("div",{className:"flex-1 p-6",children:y.jsx("div",{className:"h-full",children:y.jsx("div",{className:"flex gap-6 pb-20 items-start",children:J.map((N,C)=>y.jsx("div",{className:"flex-1 flex flex-col gap-6",children:N.map(z=>{const P=z.isOverdue?"bg-red-50 dark:bg-red-900/10 border-red-100 dark:border-red-900/20":T(z.index);return y.jsxs("div",{onDragOver:V,onDrop:Q=>Z(Q,z.dateStr),className:`w-full h-fit rounded-[2rem] p-5 border ${P} transition-all shadow-sm flex flex-col`,children:[y.jsx("h3",{className:`text-xl font-bold mb-4 px-2 ${z.isOverdue?"text-red-600 dark:text-red-400":"text-slate-700 dark:text-slate-100"}`,children:z.label}),y.jsxs("div",{className:`space-y-3 ${b?"min-h-[100px] bg-black/5 dark:bg-white/5 rounded-xl transition-all":""}`,children:[z.tasks.length===0&&!b&&y.jsx("div",{className:"py-8 text-center text-slate-400 dark:text-slate-500 text-sm italic",children:"No tasks"}),z.tasks.map(Q=>F(Q))]}),!z.isOverdue&&y.jsxs("button",{onClick:()=>{const[Q,ae,re]=z.dateStr.split("-").map(Number),ne=new Date(Q,ae-1,re);fe(ne)},className:"mt-4 flex items-center gap-2 text-sm font-bold text-slate-500 hover:text-slate-800 dark:text-slate-400 dark:hover:text-slate-200 transition-colors px-2 py-2 rounded-lg hover:bg-black/5 dark:hover:bg-white/5 w-full -ml-1",children:[y.jsx("span",{className:"material-symbols-outlined text-[20px]",children:"add"}),"New Task"]})]},z.id)})},C))})})})]})})]})};var _l={},lE=function(){return typeof Promise=="function"&&Promise.prototype&&Promise.prototype.then},dy={},Ut={};let nf;const sE=[0,26,44,70,100,134,172,196,242,292,346,404,466,532,581,655,733,815,901,991,1085,1156,1258,1364,1474,1588,1706,1828,1921,2051,2185,2323,2465,2611,2761,2876,3034,3196,3362,3532,3706];Ut.getSymbolSize=function(t){if(!t)throw new Error('"version" cannot be null or undefined');if(t<1||t>40)throw new Error('"version" should be in range from 1 to 40');return t*4+17};Ut.getSymbolTotalCodewords=function(t){return sE[t]};Ut.getBCHDigit=function(e){let t=0;for(;e!==0;)t++,e>>>=1;return t};Ut.setToSJISFunction=function(t){if(typeof t!="function")throw new Error('"toSJISFunc" is not a valid function.');nf=t};Ut.isKanjiModeEnabled=function(){return typeof nf<"u"};Ut.toSJIS=function(t){return nf(t)};var xo={};(function(e){e.L={bit:1},e.M={bit:0},e.Q={bit:3},e.H={bit:2};function t(n){if(typeof n!="string")throw new Error("Param is not a string");switch(n.toLowerCase()){case"l":case"low":return e.L;case"m":case"medium":return e.M;case"q":case"quartile":return e.Q;case"h":case"high":return e.H;default:throw new Error("Unknown EC Level: "+n)}}e.isValid=function(a){return a&&typeof a.bit<"u"&&a.bit>=0&&a.bit<4},e.from=function(a,r){if(e.isValid(a))return a;try{return t(a)}catch{return r}}})(xo);function fy(){this.buffer=[],this.length=0}fy.prototype={get:function(e){const t=Math.floor(e/8);return(this.buffer[t]>>>7-e%8&1)===1},put:function(e,t){for(let n=0;n<t;n++)this.putBit((e>>>t-n-1&1)===1)},getLengthInBits:function(){return this.length},putBit:function(e){const t=Math.floor(this.length/8);this.buffer.length<=t&&this.buffer.push(0),e&&(this.buffer[t]|=128>>>this.length%8),this.length++}};var oE=fy;function Sl(e){if(!e||e<1)throw new Error("BitMatrix size must be defined and greater than 0");this.size=e,this.data=new Uint8Array(e*e),this.reservedBit=new Uint8Array(e*e)}Sl.prototype.set=function(e,t,n,a){const r=e*this.size+t;this.data[r]=n,a&&(this.reservedBit[r]=!0)};Sl.prototype.get=function(e,t){return this.data[e*this.size+t]};Sl.prototype.xor=function(e,t,n){this.data[e*this.size+t]^=n};Sl.prototype.isReserved=function(e,t){return this.reservedBit[e*this.size+t]};var uE=Sl,hy={};(function(e){const t=Ut.getSymbolSize;e.getRowColCoords=function(a){if(a===1)return[];const r=Math.floor(a/7)+2,i=t(a),l=i===145?26:Math.ceil((i-13)/(2*r-2))*2,s=[i-7];for(let o=1;o<r-1;o++)s[o]=s[o-1]-l;return s.push(6),s.reverse()},e.getPositions=function(a){const r=[],i=e.getRowColCoords(a),l=i.length;for(let s=0;s<l;s++)for(let o=0;o<l;o++)s===0&&o===0||s===0&&o===l-1||s===l-1&&o===0||r.push([i[s],i[o]]);return r}})(hy);var gy={};const cE=Ut.getSymbolSize,S0=7;gy.getPositions=function(t){const n=cE(t);return[[0,0],[n-S0,0],[0,n-S0]]};var my={};(function(e){e.Patterns={PATTERN000:0,PATTERN001:1,PATTERN010:2,PATTERN011:3,PATTERN100:4,PATTERN101:5,PATTERN110:6,PATTERN111:7};const t={N1:3,N2:3,N3:40,N4:10};e.isValid=function(r){return r!=null&&r!==""&&!isNaN(r)&&r>=0&&r<=7},e.from=function(r){return e.isValid(r)?parseInt(r,10):void 0},e.getPenaltyN1=function(r){const i=r.size;let l=0,s=0,o=0,u=null,c=null;for(let h=0;h<i;h++){s=o=0,u=c=null;for(let d=0;d<i;d++){let f=r.get(h,d);f===u?s++:(s>=5&&(l+=t.N1+(s-5)),u=f,s=1),f=r.get(d,h),f===c?o++:(o>=5&&(l+=t.N1+(o-5)),c=f,o=1)}s>=5&&(l+=t.N1+(s-5)),o>=5&&(l+=t.N1+(o-5))}return l},e.getPenaltyN2=function(r){const i=r.size;let l=0;for(let s=0;s<i-1;s++)for(let o=0;o<i-1;o++){const u=r.get(s,o)+r.get(s,o+1)+r.get(s+1,o)+r.get(s+1,o+1);(u===4||u===0)&&l++}return l*t.N2},e.getPenaltyN3=function(r){const i=r.size;let l=0,s=0,o=0;for(let u=0;u<i;u++){s=o=0;for(let c=0;c<i;c++)s=s<<1&2047|r.get(u,c),c>=10&&(s===1488||s===93)&&l++,o=o<<1&2047|r.get(c,u),c>=10&&(o===1488||o===93)&&l++}return l*t.N3},e.getPenaltyN4=function(r){let i=0;const l=r.data.length;for(let o=0;o<l;o++)i+=r.data[o];return Math.abs(Math.ceil(i*100/l/5)-10)*t.N4};function n(a,r,i){switch(a){case e.Patterns.PATTERN000:return(r+i)%2===0;case e.Patterns.PATTERN001:return r%2===0;case e.Patterns.PATTERN010:return i%3===0;case e.Patterns.PATTERN011:return(r+i)%3===0;case e.Patterns.PATTERN100:return(Math.floor(r/2)+Math.floor(i/3))%2===0;case e.Patterns.PATTERN101:return r*i%2+r*i%3===0;case e.Patterns.PATTERN110:return(r*i%2+r*i%3)%2===0;case e.Patterns.PATTERN111:return(r*i%3+(r+i)%2)%2===0;default:throw new Error("bad maskPattern:"+a)}}e.applyMask=function(r,i){const l=i.size;for(let s=0;s<l;s++)for(let o=0;o<l;o++)i.isReserved(o,s)||i.xor(o,s,n(r,o,s))},e.getBestMask=function(r,i){const l=Object.keys(e.Patterns).length;let s=0,o=1/0;for(let u=0;u<l;u++){i(u),e.applyMask(u,r);const c=e.getPenaltyN1(r)+e.getPenaltyN2(r)+e.getPenaltyN3(r)+e.getPenaltyN4(r);e.applyMask(u,r),c<o&&(o=c,s=u)}return s}})(my);var Eo={};const Zn=xo,Ql=[1,1,1,1,1,1,1,1,1,1,2,2,1,2,2,4,1,2,4,4,2,4,4,4,2,4,6,5,2,4,6,6,2,5,8,8,4,5,8,8,4,5,8,11,4,8,10,11,4,9,12,16,4,9,16,16,6,10,12,18,6,10,17,16,6,11,16,19,6,13,18,21,7,14,21,25,8,16,20,25,8,17,23,25,9,17,23,34,9,18,25,30,10,20,27,32,12,21,29,35,12,23,34,37,12,25,34,40,13,26,35,42,14,28,38,45,15,29,40,48,16,31,43,51,17,33,45,54,18,35,48,57,19,37,51,60,19,38,53,63,20,40,56,66,21,43,59,70,22,45,62,74,24,47,65,77,25,49,68,81],Zl=[7,10,13,17,10,16,22,28,15,26,36,44,20,36,52,64,26,48,72,88,36,64,96,112,40,72,108,130,48,88,132,156,60,110,160,192,72,130,192,224,80,150,224,264,96,176,260,308,104,198,288,352,120,216,320,384,132,240,360,432,144,280,408,480,168,308,448,532,180,338,504,588,196,364,546,650,224,416,600,700,224,442,644,750,252,476,690,816,270,504,750,900,300,560,810,960,312,588,870,1050,336,644,952,1110,360,700,1020,1200,390,728,1050,1260,420,784,1140,1350,450,812,1200,1440,480,868,1290,1530,510,924,1350,1620,540,980,1440,1710,570,1036,1530,1800,570,1064,1590,1890,600,1120,1680,1980,630,1204,1770,2100,660,1260,1860,2220,720,1316,1950,2310,750,1372,2040,2430];Eo.getBlocksCount=function(t,n){switch(n){case Zn.L:return Ql[(t-1)*4+0];case Zn.M:return Ql[(t-1)*4+1];case Zn.Q:return Ql[(t-1)*4+2];case Zn.H:return Ql[(t-1)*4+3];default:return}};Eo.getTotalCodewordsCount=function(t,n){switch(n){case Zn.L:return Zl[(t-1)*4+0];case Zn.M:return Zl[(t-1)*4+1];case Zn.Q:return Zl[(t-1)*4+2];case Zn.H:return Zl[(t-1)*4+3];default:return}};var py={},To={};const zi=new Uint8Array(512),Js=new Uint8Array(256);(function(){let t=1;for(let n=0;n<255;n++)zi[n]=t,Js[t]=n,t<<=1,t&256&&(t^=285);for(let n=255;n<512;n++)zi[n]=zi[n-255]})();To.log=function(t){if(t<1)throw new Error("log("+t+")");return Js[t]};To.exp=function(t){return zi[t]};To.mul=function(t,n){return t===0||n===0?0:zi[Js[t]+Js[n]]};(function(e){const t=To;e.mul=function(a,r){const i=new Uint8Array(a.length+r.length-1);for(let l=0;l<a.length;l++)for(let s=0;s<r.length;s++)i[l+s]^=t.mul(a[l],r[s]);return i},e.mod=function(a,r){let i=new Uint8Array(a);for(;i.length-r.length>=0;){const l=i[0];for(let o=0;o<r.length;o++)i[o]^=t.mul(r[o],l);let s=0;for(;s<i.length&&i[s]===0;)s++;i=i.slice(s)}return i},e.generateECPolynomial=function(a){let r=new Uint8Array([1]);for(let i=0;i<a;i++)r=e.mul(r,new Uint8Array([1,t.exp(i)]));return r}})(py);const yy=py;function af(e){this.genPoly=void 0,this.degree=e,this.degree&&this.initialize(this.degree)}af.prototype.initialize=function(t){this.degree=t,this.genPoly=yy.generateECPolynomial(this.degree)};af.prototype.encode=function(t){if(!this.genPoly)throw new Error("Encoder not initialized");const n=new Uint8Array(t.length+this.degree);n.set(t);const a=yy.mod(n,this.genPoly),r=this.degree-a.length;if(r>0){const i=new Uint8Array(this.degree);return i.set(a,r),i}return a};var dE=af,vy={},ha={},rf={};rf.isValid=function(t){return!isNaN(t)&&t>=1&&t<=40};var un={};const by="[0-9]+",fE="[A-Z $%*+\\-./:]+";let rl="(?:[u3000-u303F]|[u3040-u309F]|[u30A0-u30FF]|[uFF00-uFFEF]|[u4E00-u9FAF]|[u2605-u2606]|[u2190-u2195]|u203B|[u2010u2015u2018u2019u2025u2026u201Cu201Du2225u2260]|[u0391-u0451]|[u00A7u00A8u00B1u00B4u00D7u00F7])+";rl=rl.replace(/u/g,"\\u");const hE="(?:(?![A-Z0-9 $%*+\\-./:]|"+rl+`)(?:.|[\r
]))+`;un.KANJI=new RegExp(rl,"g");un.BYTE_KANJI=new RegExp("[^A-Z0-9 $%*+\\-./:]+","g");un.BYTE=new RegExp(hE,"g");un.NUMERIC=new RegExp(by,"g");un.ALPHANUMERIC=new RegExp(fE,"g");const gE=new RegExp("^"+rl+"$"),mE=new RegExp("^"+by+"$"),pE=new RegExp("^[A-Z0-9 $%*+\\-./:]+$");un.testKanji=function(t){return gE.test(t)};un.testNumeric=function(t){return mE.test(t)};un.testAlphanumeric=function(t){return pE.test(t)};(function(e){const t=rf,n=un;e.NUMERIC={id:"Numeric",bit:1,ccBits:[10,12,14]},e.ALPHANUMERIC={id:"Alphanumeric",bit:2,ccBits:[9,11,13]},e.BYTE={id:"Byte",bit:4,ccBits:[8,16,16]},e.KANJI={id:"Kanji",bit:8,ccBits:[8,10,12]},e.MIXED={bit:-1},e.getCharCountIndicator=function(i,l){if(!i.ccBits)throw new Error("Invalid mode: "+i);if(!t.isValid(l))throw new Error("Invalid version: "+l);return l>=1&&l<10?i.ccBits[0]:l<27?i.ccBits[1]:i.ccBits[2]},e.getBestModeForData=function(i){return n.testNumeric(i)?e.NUMERIC:n.testAlphanumeric(i)?e.ALPHANUMERIC:n.testKanji(i)?e.KANJI:e.BYTE},e.toString=function(i){if(i&&i.id)return i.id;throw new Error("Invalid mode")},e.isValid=function(i){return i&&i.bit&&i.ccBits};function a(r){if(typeof r!="string")throw new Error("Param is not a string");switch(r.toLowerCase()){case"numeric":return e.NUMERIC;case"alphanumeric":return e.ALPHANUMERIC;case"kanji":return e.KANJI;case"byte":return e.BYTE;default:throw new Error("Unknown mode: "+r)}}e.from=function(i,l){if(e.isValid(i))return i;try{return a(i)}catch{return l}}})(ha);(function(e){const t=Ut,n=Eo,a=xo,r=ha,i=rf,l=7973,s=t.getBCHDigit(l);function o(d,f,v){for(let b=1;b<=40;b++)if(f<=e.getCapacity(b,v,d))return b}function u(d,f){return r.getCharCountIndicator(d,f)+4}function c(d,f){let v=0;return d.forEach(function(b){const E=u(b.mode,f);v+=E+b.getBitsLength()}),v}function h(d,f){for(let v=1;v<=40;v++)if(c(d,v)<=e.getCapacity(v,f,r.MIXED))return v}e.from=function(f,v){return i.isValid(f)?parseInt(f,10):v},e.getCapacity=function(f,v,b){if(!i.isValid(f))throw new Error("Invalid QR Code version");typeof b>"u"&&(b=r.BYTE);const E=t.getSymbolTotalCodewords(f),p=n.getTotalCodewordsCount(f,v),m=(E-p)*8;if(b===r.MIXED)return m;const g=m-u(b,f);switch(b){case r.NUMERIC:return Math.floor(g/10*3);case r.ALPHANUMERIC:return Math.floor(g/11*2);case r.KANJI:return Math.floor(g/13);case r.BYTE:default:return Math.floor(g/8)}},e.getBestVersionForData=function(f,v){let b;const E=a.from(v,a.M);if(Array.isArray(f)){if(f.length>1)return h(f,E);if(f.length===0)return 1;b=f[0]}else b=f;return o(b.mode,b.getLength(),E)},e.getEncodedBits=function(f){if(!i.isValid(f)||f<7)throw new Error("Invalid QR Code version");let v=f<<12;for(;t.getBCHDigit(v)-s>=0;)v^=l<<t.getBCHDigit(v)-s;return f<<12|v}})(vy);var wy={};const Gc=Ut,_y=1335,yE=21522,x0=Gc.getBCHDigit(_y);wy.getEncodedBits=function(t,n){const a=t.bit<<3|n;let r=a<<10;for(;Gc.getBCHDigit(r)-x0>=0;)r^=_y<<Gc.getBCHDigit(r)-x0;return(a<<10|r)^yE};var Sy={};const vE=ha;function Lr(e){this.mode=vE.NUMERIC,this.data=e.toString()}Lr.getBitsLength=function(t){return 10*Math.floor(t/3)+(t%3?t%3*3+1:0)};Lr.prototype.getLength=function(){return this.data.length};Lr.prototype.getBitsLength=function(){return Lr.getBitsLength(this.data.length)};Lr.prototype.write=function(t){let n,a,r;for(n=0;n+3<=this.data.length;n+=3)a=this.data.substr(n,3),r=parseInt(a,10),t.put(r,10);const i=this.data.length-n;i>0&&(a=this.data.substr(n),r=parseInt(a,10),t.put(r,i*3+1))};var bE=Lr;const wE=ha,ku=["0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"," ","$","%","*","+","-",".","/",":"];function Hr(e){this.mode=wE.ALPHANUMERIC,this.data=e}Hr.getBitsLength=function(t){return 11*Math.floor(t/2)+6*(t%2)};Hr.prototype.getLength=function(){return this.data.length};Hr.prototype.getBitsLength=function(){return Hr.getBitsLength(this.data.length)};Hr.prototype.write=function(t){let n;for(n=0;n+2<=this.data.length;n+=2){let a=ku.indexOf(this.data[n])*45;a+=ku.indexOf(this.data[n+1]),t.put(a,11)}this.data.length%2&&t.put(ku.indexOf(this.data[n]),6)};var _E=Hr;const SE=ha;function qr(e){this.mode=SE.BYTE,typeof e=="string"?this.data=new TextEncoder().encode(e):this.data=new Uint8Array(e)}qr.getBitsLength=function(t){return t*8};qr.prototype.getLength=function(){return this.data.length};qr.prototype.getBitsLength=function(){return qr.getBitsLength(this.data.length)};qr.prototype.write=function(e){for(let t=0,n=this.data.length;t<n;t++)e.put(this.data[t],8)};var xE=qr;const EE=ha,TE=Ut;function $r(e){this.mode=EE.KANJI,this.data=e}$r.getBitsLength=function(t){return t*13};$r.prototype.getLength=function(){return this.data.length};$r.prototype.getBitsLength=function(){return $r.getBitsLength(this.data.length)};$r.prototype.write=function(e){let t;for(t=0;t<this.data.length;t++){let n=TE.toSJIS(this.data[t]);if(n>=33088&&n<=40956)n-=33088;else if(n>=57408&&n<=60351)n-=49472;else throw new Error("Invalid SJIS character: "+this.data[t]+`
Make sure your charset is UTF-8`);n=(n>>>8&255)*192+(n&255),e.put(n,13)}};var AE=$r,xy={exports:{}};(function(e){var t={single_source_shortest_paths:function(n,a,r){var i={},l={};l[a]=0;var s=t.PriorityQueue.make();s.push(a,0);for(var o,u,c,h,d,f,v,b,E;!s.empty();){o=s.pop(),u=o.value,h=o.cost,d=n[u]||{};for(c in d)d.hasOwnProperty(c)&&(f=d[c],v=h+f,b=l[c],E=typeof l[c]>"u",(E||b>v)&&(l[c]=v,s.push(c,v),i[c]=u))}if(typeof r<"u"&&typeof l[r]>"u"){var p=["Could not find a path from ",a," to ",r,"."].join("");throw new Error(p)}return i},extract_shortest_path_from_predecessor_list:function(n,a){for(var r=[],i=a;i;)r.push(i),n[i],i=n[i];return r.reverse(),r},find_path:function(n,a,r){var i=t.single_source_shortest_paths(n,a,r);return t.extract_shortest_path_from_predecessor_list(i,r)},PriorityQueue:{make:function(n){var a=t.PriorityQueue,r={},i;n=n||{};for(i in a)a.hasOwnProperty(i)&&(r[i]=a[i]);return r.queue=[],r.sorter=n.sorter||a.default_sorter,r},default_sorter:function(n,a){return n.cost-a.cost},push:function(n,a){var r={value:n,cost:a};this.queue.push(r),this.queue.sort(this.sorter)},pop:function(){return this.queue.shift()},empty:function(){return this.queue.length===0}}};e.exports=t})(xy);var kE=xy.exports;(function(e){const t=ha,n=bE,a=_E,r=xE,i=AE,l=un,s=Ut,o=kE;function u(p){return unescape(encodeURIComponent(p)).length}function c(p,m,g){const w=[];let S;for(;(S=p.exec(g))!==null;)w.push({data:S[0],index:S.index,mode:m,length:S[0].length});return w}function h(p){const m=c(l.NUMERIC,t.NUMERIC,p),g=c(l.ALPHANUMERIC,t.ALPHANUMERIC,p);let w,S;return s.isKanjiModeEnabled()?(w=c(l.BYTE,t.BYTE,p),S=c(l.KANJI,t.KANJI,p)):(w=c(l.BYTE_KANJI,t.BYTE,p),S=[]),m.concat(g,w,S).sort(function(R,U){return R.index-U.index}).map(function(R){return{data:R.data,mode:R.mode,length:R.length}})}function d(p,m){switch(m){case t.NUMERIC:return n.getBitsLength(p);case t.ALPHANUMERIC:return a.getBitsLength(p);case t.KANJI:return i.getBitsLength(p);case t.BYTE:return r.getBitsLength(p)}}function f(p){return p.reduce(function(m,g){const w=m.length-1>=0?m[m.length-1]:null;return w&&w.mode===g.mode?(m[m.length-1].data+=g.data,m):(m.push(g),m)},[])}function v(p){const m=[];for(let g=0;g<p.length;g++){const w=p[g];switch(w.mode){case t.NUMERIC:m.push([w,{data:w.data,mode:t.ALPHANUMERIC,length:w.length},{data:w.data,mode:t.BYTE,length:w.length}]);break;case t.ALPHANUMERIC:m.push([w,{data:w.data,mode:t.BYTE,length:w.length}]);break;case t.KANJI:m.push([w,{data:w.data,mode:t.BYTE,length:u(w.data)}]);break;case t.BYTE:m.push([{data:w.data,mode:t.BYTE,length:u(w.data)}])}}return m}function b(p,m){const g={},w={start:{}};let S=["start"];for(let k=0;k<p.length;k++){const R=p[k],U=[];for(let M=0;M<R.length;M++){const q=R[M],fe=""+k+M;U.push(fe),g[fe]={node:q,lastCount:0},w[fe]={};for(let Ce=0;Ce<S.length;Ce++){const De=S[Ce];g[De]&&g[De].node.mode===q.mode?(w[De][fe]=d(g[De].lastCount+q.length,q.mode)-d(g[De].lastCount,q.mode),g[De].lastCount+=q.length):(g[De]&&(g[De].lastCount=q.length),w[De][fe]=d(q.length,q.mode)+4+t.getCharCountIndicator(q.mode,m))}}S=U}for(let k=0;k<S.length;k++)w[S[k]].end=0;return{map:w,table:g}}function E(p,m){let g;const w=t.getBestModeForData(p);if(g=t.from(m,w),g!==t.BYTE&&g.bit<w.bit)throw new Error('"'+p+'" cannot be encoded with mode '+t.toString(g)+`.
 Suggested mode is: `+t.toString(w));switch(g===t.KANJI&&!s.isKanjiModeEnabled()&&(g=t.BYTE),g){case t.NUMERIC:return new n(p);case t.ALPHANUMERIC:return new a(p);case t.KANJI:return new i(p);case t.BYTE:return new r(p)}}e.fromArray=function(m){return m.reduce(function(g,w){return typeof w=="string"?g.push(E(w,null)):w.data&&g.push(E(w.data,w.mode)),g},[])},e.fromString=function(m,g){const w=h(m,s.isKanjiModeEnabled()),S=v(w),k=b(S,g),R=o.find_path(k.map,"start","end"),U=[];for(let M=1;M<R.length-1;M++)U.push(k.table[R[M]].node);return e.fromArray(f(U))},e.rawSplit=function(m){return e.fromArray(h(m,s.isKanjiModeEnabled()))}})(Sy);const Ao=Ut,Ru=xo,RE=oE,CE=uE,OE=hy,NE=gy,Ic=my,Vc=Eo,jE=dE,Qs=vy,DE=wy,UE=ha,Cu=Sy;function ME(e,t){const n=e.size,a=NE.getPositions(t);for(let r=0;r<a.length;r++){const i=a[r][0],l=a[r][1];for(let s=-1;s<=7;s++)if(!(i+s<=-1||n<=i+s))for(let o=-1;o<=7;o++)l+o<=-1||n<=l+o||(s>=0&&s<=6&&(o===0||o===6)||o>=0&&o<=6&&(s===0||s===6)||s>=2&&s<=4&&o>=2&&o<=4?e.set(i+s,l+o,!0,!0):e.set(i+s,l+o,!1,!0))}}function zE(e){const t=e.size;for(let n=8;n<t-8;n++){const a=n%2===0;e.set(n,6,a,!0),e.set(6,n,a,!0)}}function BE(e,t){const n=OE.getPositions(t);for(let a=0;a<n.length;a++){const r=n[a][0],i=n[a][1];for(let l=-2;l<=2;l++)for(let s=-2;s<=2;s++)l===-2||l===2||s===-2||s===2||l===0&&s===0?e.set(r+l,i+s,!0,!0):e.set(r+l,i+s,!1,!0)}}function LE(e,t){const n=e.size,a=Qs.getEncodedBits(t);let r,i,l;for(let s=0;s<18;s++)r=Math.floor(s/3),i=s%3+n-8-3,l=(a>>s&1)===1,e.set(r,i,l,!0),e.set(i,r,l,!0)}function Ou(e,t,n){const a=e.size,r=DE.getEncodedBits(t,n);let i,l;for(i=0;i<15;i++)l=(r>>i&1)===1,i<6?e.set(i,8,l,!0):i<8?e.set(i+1,8,l,!0):e.set(a-15+i,8,l,!0),i<8?e.set(8,a-i-1,l,!0):i<9?e.set(8,15-i-1+1,l,!0):e.set(8,15-i-1,l,!0);e.set(a-8,8,1,!0)}function HE(e,t){const n=e.size;let a=-1,r=n-1,i=7,l=0;for(let s=n-1;s>0;s-=2)for(s===6&&s--;;){for(let o=0;o<2;o++)if(!e.isReserved(r,s-o)){let u=!1;l<t.length&&(u=(t[l]>>>i&1)===1),e.set(r,s-o,u),i--,i===-1&&(l++,i=7)}if(r+=a,r<0||n<=r){r-=a,a=-a;break}}}function qE(e,t,n){const a=new RE;n.forEach(function(o){a.put(o.mode.bit,4),a.put(o.getLength(),UE.getCharCountIndicator(o.mode,e)),o.write(a)});const r=Ao.getSymbolTotalCodewords(e),i=Vc.getTotalCodewordsCount(e,t),l=(r-i)*8;for(a.getLengthInBits()+4<=l&&a.put(0,4);a.getLengthInBits()%8!==0;)a.putBit(0);const s=(l-a.getLengthInBits())/8;for(let o=0;o<s;o++)a.put(o%2?17:236,8);return $E(a,e,t)}function $E(e,t,n){const a=Ao.getSymbolTotalCodewords(t),r=Vc.getTotalCodewordsCount(t,n),i=a-r,l=Vc.getBlocksCount(t,n),s=a%l,o=l-s,u=Math.floor(a/l),c=Math.floor(i/l),h=c+1,d=u-c,f=new jE(d);let v=0;const b=new Array(l),E=new Array(l);let p=0;const m=new Uint8Array(e.buffer);for(let R=0;R<l;R++){const U=R<o?c:h;b[R]=m.slice(v,v+U),E[R]=f.encode(b[R]),v+=U,p=Math.max(p,U)}const g=new Uint8Array(a);let w=0,S,k;for(S=0;S<p;S++)for(k=0;k<l;k++)S<b[k].length&&(g[w++]=b[k][S]);for(S=0;S<d;S++)for(k=0;k<l;k++)g[w++]=E[k][S];return g}function GE(e,t,n,a){let r;if(Array.isArray(e))r=Cu.fromArray(e);else if(typeof e=="string"){let u=t;if(!u){const c=Cu.rawSplit(e);u=Qs.getBestVersionForData(c,n)}r=Cu.fromString(e,u||40)}else throw new Error("Invalid data");const i=Qs.getBestVersionForData(r,n);if(!i)throw new Error("The amount of data is too big to be stored in a QR Code");if(!t)t=i;else if(t<i)throw new Error(`
The chosen QR Code version cannot contain this amount of data.
Minimum version required to store current data is: `+i+`.
`);const l=qE(t,n,r),s=Ao.getSymbolSize(t),o=new CE(s);return ME(o,t),zE(o),BE(o,t),Ou(o,n,0),t>=7&&LE(o,t),HE(o,l),isNaN(a)&&(a=Ic.getBestMask(o,Ou.bind(null,o,n))),Ic.applyMask(a,o),Ou(o,n,a),{modules:o,version:t,errorCorrectionLevel:n,maskPattern:a,segments:r}}dy.create=function(t,n){if(typeof t>"u"||t==="")throw new Error("No input text");let a=Ru.M,r,i;return typeof n<"u"&&(a=Ru.from(n.errorCorrectionLevel,Ru.M),r=Qs.from(n.version),i=Ic.from(n.maskPattern),n.toSJISFunc&&Ao.setToSJISFunction(n.toSJISFunc)),GE(t,r,a,i)};var Ey={},lf={};(function(e){function t(n){if(typeof n=="number"&&(n=n.toString()),typeof n!="string")throw new Error("Color should be defined as hex string");let a=n.slice().replace("#","").split("");if(a.length<3||a.length===5||a.length>8)throw new Error("Invalid hex color: "+n);(a.length===3||a.length===4)&&(a=Array.prototype.concat.apply([],a.map(function(i){return[i,i]}))),a.length===6&&a.push("F","F");const r=parseInt(a.join(""),16);return{r:r>>24&255,g:r>>16&255,b:r>>8&255,a:r&255,hex:"#"+a.slice(0,6).join("")}}e.getOptions=function(a){a||(a={}),a.color||(a.color={});const r=typeof a.margin>"u"||a.margin===null||a.margin<0?4:a.margin,i=a.width&&a.width>=21?a.width:void 0,l=a.scale||4;return{width:i,scale:i?4:l,margin:r,color:{dark:t(a.color.dark||"#000000ff"),light:t(a.color.light||"#ffffffff")},type:a.type,rendererOpts:a.rendererOpts||{}}},e.getScale=function(a,r){return r.width&&r.width>=a+r.margin*2?r.width/(a+r.margin*2):r.scale},e.getImageWidth=function(a,r){const i=e.getScale(a,r);return Math.floor((a+r.margin*2)*i)},e.qrToImageData=function(a,r,i){const l=r.modules.size,s=r.modules.data,o=e.getScale(l,i),u=Math.floor((l+i.margin*2)*o),c=i.margin*o,h=[i.color.light,i.color.dark];for(let d=0;d<u;d++)for(let f=0;f<u;f++){let v=(d*u+f)*4,b=i.color.light;if(d>=c&&f>=c&&d<u-c&&f<u-c){const E=Math.floor((d-c)/o),p=Math.floor((f-c)/o);b=h[s[E*l+p]?1:0]}a[v++]=b.r,a[v++]=b.g,a[v++]=b.b,a[v]=b.a}}})(lf);(function(e){const t=lf;function n(r,i,l){r.clearRect(0,0,i.width,i.height),i.style||(i.style={}),i.height=l,i.width=l,i.style.height=l+"px",i.style.width=l+"px"}function a(){try{return document.createElement("canvas")}catch{throw new Error("You need to specify a canvas element")}}e.render=function(i,l,s){let o=s,u=l;typeof o>"u"&&(!l||!l.getContext)&&(o=l,l=void 0),l||(u=a()),o=t.getOptions(o);const c=t.getImageWidth(i.modules.size,o),h=u.getContext("2d"),d=h.createImageData(c,c);return t.qrToImageData(d.data,i,o),n(h,u,c),h.putImageData(d,0,0),u},e.renderToDataURL=function(i,l,s){let o=s;typeof o>"u"&&(!l||!l.getContext)&&(o=l,l=void 0),o||(o={});const u=e.render(i,l,o),c=o.type||"image/png",h=o.rendererOpts||{};return u.toDataURL(c,h.quality)}})(Ey);var Ty={};const IE=lf;function E0(e,t){const n=e.a/255,a=t+'="'+e.hex+'"';return n<1?a+" "+t+'-opacity="'+n.toFixed(2).slice(1)+'"':a}function Nu(e,t,n){let a=e+t;return typeof n<"u"&&(a+=" "+n),a}function VE(e,t,n){let a="",r=0,i=!1,l=0;for(let s=0;s<e.length;s++){const o=Math.floor(s%t),u=Math.floor(s/t);!o&&!i&&(i=!0),e[s]?(l++,s>0&&o>0&&e[s-1]||(a+=i?Nu("M",o+n,.5+u+n):Nu("m",r,0),r=0,i=!1),o+1<t&&e[s+1]||(a+=Nu("h",l),l=0)):r++}return a}Ty.render=function(t,n,a){const r=IE.getOptions(n),i=t.modules.size,l=t.modules.data,s=i+r.margin*2,o=r.color.light.a?"<path "+E0(r.color.light,"fill")+' d="M0 0h'+s+"v"+s+'H0z"/>':"",u="<path "+E0(r.color.dark,"stroke")+' d="'+VE(l,i,r.margin)+'"/>',c='viewBox="0 0 '+s+" "+s+'"',d='<svg xmlns="http://www.w3.org/2000/svg" '+(r.width?'width="'+r.width+'" height="'+r.width+'" ':"")+c+' shape-rendering="crispEdges">'+o+u+`</svg>
`;return typeof a=="function"&&a(null,d),d};const YE=lE,Yc=dy,Ay=Ey,KE=Ty;function sf(e,t,n,a,r){const i=[].slice.call(arguments,1),l=i.length,s=typeof i[l-1]=="function";if(!s&&!YE())throw new Error("Callback required as last argument");if(s){if(l<2)throw new Error("Too few arguments provided");l===2?(r=n,n=t,t=a=void 0):l===3&&(t.getContext&&typeof r>"u"?(r=a,a=void 0):(r=a,a=n,n=t,t=void 0))}else{if(l<1)throw new Error("Too few arguments provided");return l===1?(n=t,t=a=void 0):l===2&&!t.getContext&&(a=n,n=t,t=void 0),new Promise(function(o,u){try{const c=Yc.create(n,a);o(e(c,t,a))}catch(c){u(c)}})}try{const o=Yc.create(n,a);r(null,e(o,t,a))}catch(o){r(o)}}_l.create=Yc.create;_l.toCanvas=sf.bind(null,Ay.render);_l.toDataURL=sf.bind(null,Ay.renderToDataURL);_l.toString=sf.bind(null,function(e,t,n){return KE.render(e,n)});const PE="a1111111-b222-c333-d444-e55555555555",ju={width:1920,height:1080},T0={width:1080,height:1920},A0=150,Fl={yellow:{bg:"bg-yellow-100 dark:bg-yellow-900/40",border:"border-yellow-200 dark:border-yellow-700",hex:"#fef3c7",accent:"bg-yellow-400"},pink:{bg:"bg-pink-100 dark:bg-pink-900/40",border:"border-pink-200 dark:border-pink-700",hex:"#fce7f3",accent:"bg-pink-400"},blue:{bg:"bg-blue-100 dark:bg-blue-900/40",border:"border-blue-200 dark:border-blue-700",hex:"#dbeafe",accent:"bg-blue-400"},green:{bg:"bg-green-100 dark:bg-green-900/40",border:"border-green-200 dark:border-green-700",hex:"#dcfce7",accent:"bg-green-400"},transparent:{bg:"bg-transparent",border:"border-transparent hover:border-slate-300/50",hex:"transparent",accent:"bg-slate-400"}},ky=({toggleTheme:e,notes:t,setNotes:n,userId:a,isOffline:r,whiteboardId:i,allowShare:l})=>{const s=x.useRef({}),o=i??PE,u=l!==!1,[c,h]=x.useState(!1),d=_=>({id:_.id,user_id:a,whiteboard_id:o,type:_.type,x:_.x,y:_.y,width:_.width,height:_.height,rotation:_.rotation??0,z_index:_.zIndex??0,color:_.color??"yellow",content:_.content??"",title:_.title??"",image_url:_.imageUrl??null,font_size:_.fontSize??16,updated_at:new Date().toISOString()}),f=async _=>{if(r){console.log("Upsert Skipped: Offline");return}if(!a){console.log("Upsert Skipped: No User ID");return}if(!c){console.log("Upsert Skipped: Whiteboard Not Ready");return}const O=d(_),{error:j}=await Te.from("whiteboard_notes").upsert(O,{onConflict:"id"});j?console.error("upsertNote error:",j,O):console.log("Upsert Success:",_.id)},v=async _=>{if(r||!a||!c)return;const{error:O}=await Te.from("whiteboard_notes").delete().eq("id",_);O&&console.error("Error deleting note:",O)};x.useEffect(()=>{(async()=>{if(console.log("Ensure Whiteboard: Starting check",{userId:a,isOffline:r}),r){console.log("Ensure Whiteboard: Offline mode, skipping DB check.");return}if(!a){console.log("Ensure Whiteboard: No userId found yet.");return}h(!1);const{data:O,error:j}=await Te.from("whiteboards").select("id").eq("id",o).maybeSingle();if(j){console.error("whiteboards select error:",j);return}if(O)console.log("Whiteboard exists found:",O);else{console.log("Whiteboard missing, creating...",o);const{error:B}=await Te.from("whiteboards").insert({id:o,title:"My Whiteboard",owner_id:a});if(B){console.error("Failed to create whiteboard:",B);return}console.log("Whiteboard created successfully")}console.log("Whiteboard Ready: TRUE"),h(!0)})()},[a,r]);const b=x.useCallback(_=>({id:_.id,type:_.type,x:_.x??100,y:_.y??100,width:_.width??200,height:_.height??200,rotation:_.rotation??0,zIndex:_.z_index??1,color:_.color??"yellow",content:_.content??"",title:_.title??"",imageUrl:_.image_url,fontSize:_.font_size??16,createdAt:new Date(_.created_at).getTime()}),[]);x.useEffect(()=>{(async()=>{if(r||!a||!c)return;console.log("Fetching Notes...");const{data:O,error:j}=await Te.from("whiteboard_notes").select("*").eq("whiteboard_id",o);if(j){console.error("Error fetching notes:",j);return}if(O){console.log("Notes Fetched:",O.length),O.length>0&&console.log("Sample Note Data:",O[0]);const B=O.map(b),Y=Math.max(...B.map(L=>L.zIndex),10);Mn.current=Y,n(B)}})()},[a,c,r,n,b,o]),x.useEffect(()=>{if(r||!o)return;const _=Te.channel(`whiteboard-${o}`).on("postgres_changes",{event:"*",schema:"public",table:"whiteboard_notes",filter:`whiteboard_id=eq.${o}`},O=>{if(O.eventType==="DELETE")n(j=>j.filter(B=>B.id!==O.old.id));else{const j=b(O.new);n(B=>{const Y=B.findIndex(de=>de.id===j.id);if(Y===-1)return[...B,j];const L=[...B];return L[Y]=j,L})}}).on("postgres_changes",{event:"*",schema:"public",table:"whiteboard_drawings",filter:`whiteboard_id=eq.${o}`},O=>{if(O.eventType==="DELETE")q(j=>j.filter(B=>B.id!==O.old.id));else{const j=O.new;q(B=>{const Y=B.findIndex(de=>de.id===j.id);if(Y===-1)return[...B,j];const L=[...B];return L[Y]=j,L})}}).subscribe();return()=>{Te.removeChannel(_)}},[o,r,b,n]);function E(_){const O=_.id;s.current[O]&&window.clearTimeout(s.current[O]),s.current[O]=window.setTimeout(()=>{f(_),delete s.current[O]},400)}const[p,m]=x.useState({scale:.75}),[g,w]=x.useState(ju),[S,k]=x.useState("select"),[R,U]=x.useState(new Set),[M,q]=x.useState([]),[fe,Ce]=x.useState(!1),[De,Ft]=x.useState("black"),ze=x.useRef([]),H=x.useRef([]),V=x.useRef(null),Z=x.useRef(!1);x.useEffect(()=>{H.current=M},[M]),x.useEffect(()=>{(async()=>{if(!a)return;const{data:O,error:j}=await Te.from("whiteboard_drawings").select("*").eq("whiteboard_id",o);j?console.error("Error fetching drawings:",j):O&&q(O)})()},[a]);const me=async(_,O)=>{if(!a||O.length<2)return;const j={id:_,whiteboard_id:o,user_id:a,path_points:O,color:De},{error:B}=await Te.from("whiteboard_drawings").upsert(j,{onConflict:"id"});B&&console.error("Error saving drawing:",B)},A=async _=>{q(j=>j.filter(B=>B.id!==_));const{error:O}=await Te.from("whiteboard_drawings").delete().eq("id",_);O&&console.error("Error deleting drawing:",O)},T=(_,O)=>{const B=[];if(V.current&&ze.current.length>0&&ze.current.some(L=>Math.sqrt(Math.pow(L.x-_,2)+Math.pow(L.y-O,2))<=10)){Z.current=!0,Ce(!1),ze.current=[];const L=V.current;V.current=null,q(de=>de.filter(we=>we.id!==L));return}H.current.forEach(Y=>{for(const L of Y.path_points)if(Math.sqrt(Math.pow(L.x-_,2)+Math.pow(L.y-O,2))<=10){B.push(Y.id);break}}),B.length>0&&B.forEach(Y=>A(Y)),V.current&&B.includes(V.current)&&(Z.current=!0,Ce(!1),ze.current=[],V.current=null)},G=_=>{if(S==="pen"&&fe){if(Z.current=!0,Ce(!1),ze.current=[],V.current){const O=V.current;q(j=>j.filter(B=>B.id!==O))}V.current=null}k(_)},X=async()=>{if(u){Ue(!0),Ge(null);try{const _="https://evinkor.github.io/To-Do-List",{data:O,error:j}=await Te.from("whiteboard_shares").select("id").eq("whiteboard_id",o).maybeSingle();if(j)throw j;let B=O==null?void 0:O.id;if(!B){B=crypto.randomUUID();const{error:de}=await Te.from("whiteboard_shares").insert({id:B,whiteboard_id:o,created_by:a});if(de)throw de}const Y=`${_.replace(/\/$/,"")}/share/${B}`;ae(Y);const L=await _l.toDataURL(Y,{width:220,margin:1});ne(L),P(!0)}catch(_){console.error("Share error:",_),Ge("Failed to create share link.")}finally{Ue(!1)}}},[J,F]=x.useState(!1),[N,C]=x.useState(!0),[z,P]=x.useState(!1),[Q,ae]=x.useState(null),[re,ne]=x.useState(null),[I,Ue]=x.useState(!1),[Oe,Ge]=x.useState(null),[$,ht]=x.useState(null),[Xe,Va]=x.useState([]),[ga,Wr]=x.useState([]),Un=x.useCallback(()=>{Va(_=>[..._,[...t]].slice(-50)),Wr([])},[t]),ei=x.useCallback(()=>{if(Xe.length===0)return;const _=Xe[Xe.length-1];Wr(O=>[[...t],...O]),Va(O=>O.slice(0,-1)),n(_)},[Xe,t,n]),ma=x.useCallback(()=>{if(ga.length===0)return;const _=ga[0];Va(O=>[...O,[...t]]),Wr(O=>O.slice(1)),n(_)},[ga,t,n]),_t=x.useRef(null),ti=x.useRef(null),pa=x.useRef(null),Mn=x.useRef(10),Ya=x.useRef(window.innerWidth<768?"portrait":"landscape");x.useEffect(()=>{const _=()=>{const O=window.innerWidth<768,j=O?"portrait":"landscape";j!==Ya.current&&(n(B=>B.map(Y=>{if(j==="portrait"){const L=Y.x+Y.width/2,de=Y.y+Y.height/2,we=T0.width-de,St=L;return{...Y,x:we-Y.width/2,y:St-Y.height/2}}else{const L=Y.x+Y.width/2,we=Y.y+Y.height/2,St=ju.height-L;return{...Y,x:we-Y.width/2,y:St-Y.height/2}}})),Ya.current=j,w(O?T0:ju))};return _(),window.addEventListener("resize",_),()=>window.removeEventListener("resize",_)},[n]),x.useEffect(()=>{if(!(!!$&&($.type==="move"||$.type==="resize"||$.type==="rotate"||$.type==="pan")))return;const O=document.body.style.userSelect,j=document.body.style.webkitUserSelect;return document.body.style.userSelect="none",document.body.style.webkitUserSelect="none",()=>{document.body.style.userSelect=O,document.body.style.webkitUserSelect=j}},[$]);const ut=(_,O)=>{if(!ti.current)return{x:0,y:0};const j=ti.current.getBoundingClientRect();return{x:(_-j.left)/p.scale,y:(O-j.top)/p.scale}},ni=_=>{m(O=>{const j=Math.min(Math.max(O.scale+_,.2),3);return{...O,scale:j}})},of=_=>{Mn.current+=1,n(O=>O.map(j=>j.id===_?{...j,zIndex:Mn.current}:j))},xl=(_,O,j="sticky",B)=>{if(_<0||O<0||_>g.width||O>g.height)return;Un();const Y=crypto.randomUUID();Mn.current+=1;let L=256,de=256;j==="text"?(L=400,de=100):j==="image"&&(L=300,de=300);const we={id:Y,type:j,x:j==="text"?_:_-L/2,y:j==="text"?O:O-de/2,width:L,height:de,content:"",imageUrl:B,title:j==="text"?"Text Box":j==="image"?"Image":"New Note",color:j==="text"||j==="image"?"transparent":"yellow",rotation:j==="text"||j==="image"?0:Math.random()*4-2,zIndex:Mn.current,fontSize:j==="text"?24:16,createdAt:Date.now()};n(St=>[...St,we]),U(new Set([Y])),k("select"),f(we)},Cy=_=>{var j;const O=(j=_.target.files)==null?void 0:j[0];O&&ko(O,g.width/2,g.height/2),pa.current&&(pa.current.value="")},ko=(_,O,j)=>{if(!_.type.startsWith("image/"))return;const B=new FileReader;B.onload=Y=>{var de;const L=(de=Y.target)==null?void 0:de.result;xl(O,j,"image",L)},B.readAsDataURL(_)},Oy=_=>{var j;_.preventDefault(),_.stopPropagation();const O=(j=_.dataTransfer.files)==null?void 0:j[0];if(O){const B=ut(_.clientX,_.clientY);ko(O,B.x,B.y)}},Ro=x.useCallback(_=>{var j;const O=(j=_.clipboardData)==null?void 0:j.items;if(O){for(let B=0;B<O.length;B++)if(O[B].type.indexOf("image")!==-1){const Y=O[B].getAsFile();if(Y)if(_t.current){const L=_t.current.getBoundingClientRect(),de=L.left+L.width/2,we=L.top+L.height/2,St=ut(de,we);ko(Y,St.x,St.y)}else xl(g.width/2,g.height/2,"image")}}},[g,ut]);x.useEffect(()=>(window.addEventListener("paste",Ro),()=>window.removeEventListener("paste",Ro)),[Ro]);const Co=x.useCallback(()=>{R.size!==0&&(Un(),R.forEach(_=>v(_)),n(_=>_.filter(O=>!R.has(O.id))),U(new Set))},[R,n,Un]),Ny=()=>{if(R.size!==1)return null;const _=Array.from(R)[0];return t.find(O=>O.id===_)||null},jy=_=>{Un(),n(O=>{const j=O.map(B=>R.has(B.id)?{...B,color:_,type:"sticky"}:B);return j.forEach(B=>{R.has(B.id)&&E(B)}),j}),F(!1)},uf=_=>{n(O=>{const j=O.map(B=>R.has(B.id)?{...B,fontSize:Math.max(8,Math.min(96,B.fontSize+_))}:B);return j.forEach(B=>{R.has(B.id)&&E(B)}),j})},Dy=(_,O)=>{n(j=>{const B=j.map(L=>L.id===_?{...L,content:O}:L),Y=B.find(L=>L.id===_);return Y&&E(Y),B})},Oo=x.useCallback(_=>{var O;if(((O=document.activeElement)==null?void 0:O.tagName)!=="TEXTAREA"){if((_.ctrlKey||_.metaKey)&&_.key==="z"){_.shiftKey?ma():ei();return}if((_.ctrlKey||_.metaKey)&&_.key==="y"){ma();return}(_.key==="Delete"||_.key==="Backspace")&&Co(),_.key==="v"&&k("select"),(_.key==="h"||_.code==="Space")&&(_.code==="Space"&&_.preventDefault(),k("hand")),_.key==="n"&&k("note"),_.key==="t"&&k("text")}},[Co,ei,ma]);x.useEffect(()=>(window.addEventListener("keydown",Oo),()=>window.removeEventListener("keydown",Oo)),[Oo]),x.useEffect(()=>{const _=()=>{if(ht(null),fe){if(Ce(!1),!Z.current&&ze.current.length>0&&V.current&&(me(V.current,ze.current),ze.current=[]),Z.current&&V.current){const O=V.current;q(j=>j.filter(B=>B.id!==O))}Z.current=!1,V.current=null}};return window.addEventListener("pointerup",_),()=>window.removeEventListener("pointerup",_)},[fe]);const Uy=_=>{if(S==="pen"){Ce(!0),Z.current=!1;const O=ut(_.clientX,_.clientY),j={x:O.x,y:O.y};ze.current=[j];const B=crypto.randomUUID();V.current=B,q(Y=>[...Y,{id:B,user_id:a,whiteboard_id:o,path_points:[j],color:De}]);return}if(S==="eraser"){const O=ut(_.clientX,_.clientY);T(O.x,O.y);return}if(S==="hand"){_t.current&&El("pan",{x:_.clientX,y:_.clientY});return}if(S==="note"){const O=ut(_.clientX,_.clientY);xl(O.x,O.y,"sticky");return}if(S==="text"){const O=ut(_.clientX,_.clientY);xl(O.x,O.y,"text");return}(_.target===_t.current||_.target.closest(".canvas-background"))&&(U(new Set),F(!1))},El=(_,O,j,B)=>{_!=="pan"&&Un(),ht({type:_,startMouse:O,startNote:j?{...j}:void 0,handle:B,startScroll:_==="pan"&&_t.current?{x:_t.current.scrollLeft,y:_t.current.scrollTop}:void 0})},My=_=>{if(fe&&S==="pen"){if(Z.current)return;const j=ut(_.clientX,_.clientY),B={x:j.x,y:j.y};ze.current.push(B),q(Y=>{const L=[...Y];if(L.length>0){const de=L.length-1,we=L[de];if(V.current&&we.id!==V.current)return L;L[de]={...we,path_points:[...we.path_points,B],color:"color"in we?we.color:De}}return L});return}if(S==="eraser"&&_.buttons===1){const j=ut(_.clientX,_.clientY);T(j.x,j.y);return}if(!$)return;if($.type==="pan"&&_t.current&&$.startScroll){_.preventDefault();const j=_.clientX-$.startMouse.x,B=_.clientY-$.startMouse.y;_t.current.scrollLeft=$.startScroll.x-j,_t.current.scrollTop=$.startScroll.y-B;return}const O=ut(_.clientX,_.clientY);if($.type==="move"&&$.startNote){const j=O.x-$.startMouse.x,B=O.y-$.startMouse.y;n(Y=>{const L=Y.map(we=>we.id===$.startNote.id?{...we,x:$.startNote.x+j,y:$.startNote.y+B}:we),de=L.find(we=>we.id===$.startNote.id);return de&&E(de),L})}if($.type==="rotate"&&$.startNote){const j=$.startNote,B=j.x+j.width/2,Y=j.y+j.height/2,L=Math.atan2($.startMouse.y-Y,$.startMouse.x-B),we=(Math.atan2(O.y-Y,O.x-B)-L)*(180/Math.PI);n(St=>{const ai=St.map(Mt=>Mt.id===j.id?{...Mt,rotation:j.rotation+we}:Mt),cn=ai.find(Mt=>Mt.id===j.id);return cn&&E(cn),ai})}if($.type==="resize"&&$.startNote&&$.handle){const j=$.startNote,B=O.x-$.startMouse.x,Y=O.y-$.startMouse.y,L=j.rotation*(Math.PI/180),de=Math.cos(-L),we=Math.sin(-L),St=B*de-Y*we,ai=B*we+Y*de;let cn=j.width,Mt=j.height;const cf=$.handle.includes("l"),df=$.handle.includes("r"),ff=$.handle.includes("t"),hf=$.handle.includes("b");cf?cn-=St:df&&(cn+=St),ff?Mt-=ai:hf&&(Mt+=ai);const qy=j.type==="text"?50:A0;cn=Math.max(cn,A0),Mt=Math.max(Mt,qy);const No=cn-j.width,jo=Mt-j.height;let Tl=0,Al=0;cf?Tl=-No/2:df&&(Tl=No/2),ff?Al=-jo/2:hf&&(Al=jo/2);const gf=Math.cos(L),mf=Math.sin(L),$y=Tl*gf-Al*mf,Gy=Tl*mf+Al*gf;n(Iy=>{const pf=Iy.map(ri=>ri.id===j.id?{...ri,width:cn,height:Mt,x:j.x+$y-No/2,y:j.y+Gy-jo/2}:ri),yf=pf.find(ri=>ri.id===j.id);return yf&&E(yf),pf})}},zy=(_,O)=>{console.log("Note Pointer Down:",O),_.stopPropagation(),!R.has(O)&&!_.shiftKey&&U(new Set([O])),of(O);const j=ut(_.clientX,_.clientY),B=t.find(Y=>Y.id===O);B&&El("move",j,B)},zn=(_,O,j)=>{_.stopPropagation();const B=ut(_.clientX,_.clientY);El("resize",B,O,j)},By=(_,O)=>{_.stopPropagation();const j=ut(_.clientX,_.clientY);El("rotate",j,O)},Ly=()=>{if(($==null?void 0:$.type)==="pan"||S==="hand")return"grabbing";if(S==="eraser")return`url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"><circle cx="12" cy="12" r="10" stroke="black" stroke-width="1.5" fill="white" fill-opacity="0.5"/></svg>') 12 12, auto`;if(S==="note"||S==="text"||S==="pen")return"crosshair";if(($==null?void 0:$.type)==="rotate")return"alias";if(($==null?void 0:$.type)==="resize"){const _=$.handle;return _==="t"||_==="b"?"ns-resize":_==="l"||_==="r"?"ew-resize":_==="bl"||_==="tr"?"nesw-resize":"nwse-resize"}return"default"},Wt=Ny(),Hy=()=>M.map(_=>y.jsx("svg",{className:"absolute top-0 left-0 pointer-events-none overflow-visible",width:g.width,height:g.height,style:{zIndex:9999},children:y.jsx("polyline",{points:_.path_points.map(O=>`${O.x},${O.y}`).join(" "),stroke:_.color||"black",strokeWidth:"3",fill:"none",strokeLinecap:"round",strokeLinejoin:"round"})},_.id));return y.jsx("div",{className:"flex flex-col h-full bg-slate-50/50 dark:bg-transparent overflow-hidden font-sans relative",children:y.jsx("div",{className:"relative z-10 flex flex-col h-full overflow-hidden",children:y.jsxs("div",{className:"relative flex-1 bg-transparent overflow-hidden",children:[y.jsxs("div",{className:`absolute top-3 md:top-3 left-1/2 -translate-x-1/2 flex items-center gap-1.5 p-2 bg-white/90 dark:bg-slate-900/90 backdrop-blur-md rounded-full shadow-[0_8px_30px_rgb(0,0,0,0.12)] border border-slate-200 dark:border-slate-800 z-50 transition-all duration-300 ease-[cubic-bezier(0.19,1,0.22,1)] origin-top 
            ${Wt?"opacity-100 translate-y-0 scale-100 pointer-events-auto":"opacity-0 -translate-y-4 scale-95 pointer-events-none"}`,children:[y.jsxs("div",{className:"relative",children:[y.jsxs("button",{onClick:()=>Wt&&F(!J),className:"w-9 h-9 rounded-full border border-slate-300 dark:border-slate-600 shadow-sm transition-transform active:scale-95 relative overflow-hidden",title:"Background Color",children:[y.jsx("span",{className:"absolute inset-0",style:{backgroundColor:Wt&&Wt.color!=="transparent"?Fl[Wt.color].hex:"#fff"}}),(Wt==null?void 0:Wt.color)==="transparent"&&y.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:y.jsx("div",{className:"w-full h-px bg-red-500 transform rotate-45"})})]}),J&&y.jsx("div",{className:"absolute top-full left-0 mt-3 p-2 bg-white dark:bg-slate-800 rounded-2xl shadow-xl border border-slate-200 dark:border-slate-700 grid grid-cols-2 gap-2 z-50 animate-in fade-in zoom-in-95 duration-100 min-w-[100px]",children:Object.keys(Fl).filter(_=>_!=="transparent").map(_=>y.jsx("button",{onClick:()=>jy(_),className:`w-8 h-8 rounded-full border border-slate-300 ${Fl[_].accent} hover:scale-110 transition-transform shadow-sm`},_))})]}),y.jsx("div",{className:"h-6 w-px bg-slate-200 dark:bg-slate-700 mx-1"}),y.jsxs("div",{className:"flex items-center gap-0.5 bg-slate-100 dark:bg-slate-800/50 rounded-full px-1",children:[y.jsx("button",{onClick:()=>uf(-2),className:"w-8 h-8 flex items-center justify-center rounded-full hover:bg-white dark:hover:bg-slate-700 text-slate-600 dark:text-slate-300 transition-colors",children:y.jsx("span",{className:"material-symbols-outlined text-[16px]",children:"remove"})}),y.jsx("div",{className:"w-8 text-center text-sm font-bold",children:Wt?Wt.fontSize:"--"}),y.jsx("button",{onClick:()=>uf(2),className:"w-8 h-8 flex items-center justify-center rounded-full hover:bg-white dark:hover:bg-slate-700 text-slate-600 dark:text-slate-300 transition-colors",children:y.jsx("span",{className:"material-symbols-outlined text-[16px]",children:"add"})})]}),y.jsx("div",{className:"h-6 w-px bg-slate-200 dark:bg-slate-700 mx-1"}),y.jsx("button",{onClick:Co,className:"w-9 h-9 rounded-full text-red-500 hover:bg-red-50 dark:hover:bg-red-900/30 flex items-center justify-center transition-colors",title:"Delete Note (Del)",children:y.jsx("span",{className:"material-symbols-outlined text-[20px]",children:"delete"})})]}),y.jsx("div",{ref:_t,className:"absolute inset-0 w-full h-full overflow-auto flex touch-none [&::-webkit-scrollbar]:hidden [-ms-overflow-style:none] [scrollbar-width:none]",style:{cursor:Ly()},onPointerDown:Uy,onPointerMove:My,onDrop:Oy,onDragOver:_=>{_.preventDefault(),_.stopPropagation()},onWheel:_=>{_.ctrlKey&&(_.preventDefault(),ni(_.deltaY*-.001))},children:y.jsx("div",{className:"relative shrink-0 m-auto transition-all duration-75 ease-out will-change-transform",style:{width:g.width*p.scale,height:g.height*p.scale},children:y.jsxs("div",{ref:ti,className:"absolute top-0 left-0 bg-white dark:bg-slate-900 shadow-2xl border border-slate-300 dark:border-slate-800 origin-top-left canvas-background",style:{width:g.width,height:g.height,transform:`scale(${p.scale})`},children:[y.jsx("div",{className:"absolute top-0 left-0 pointer-events-none w-full h-full z-[9999]",children:Hy()}),y.jsx("div",{className:"absolute inset-0 w-full h-full bg-[linear-gradient(to_right,#80808012_1px,transparent_1px),linear-gradient(to_bottom,#80808012_1px,transparent_1px)] bg-[size:24px_24px] pointer-events-none canvas-background"}),t.map(_=>{var Y;const O=R.has(_.id),j=_.type==="text",B=Fl[_.color];return y.jsxs("div",{onPointerDown:L=>zy(L,_.id),className:`absolute flex flex-col transition-shadow duration-200 group
                        ${O?"z-[9999]":""}
                        ${S==="pen"||S==="eraser"?"pointer-events-none":""}
                      `,style:{left:_.x,top:_.y,width:_.width,height:_.height,transform:`rotate(${_.rotation}deg)`,zIndex:_.zIndex,cursor:S==="hand"?"grabbing":"grab"},children:[O&&y.jsxs(y.Fragment,{children:[y.jsx("div",{className:"absolute -inset-1 border-2 border-blue-500 rounded-lg pointer-events-none"}),y.jsx("div",{className:"absolute -top-1.5 left-1/2 -translate-x-1/2 w-8 h-3 bg-white border-2 border-blue-500 rounded-full cursor-ns-resize z-50 hover:bg-blue-50 transition-colors shadow-sm",onPointerDown:L=>zn(L,_,"t")}),y.jsx("div",{className:"absolute -bottom-1.5 left-1/2 -translate-x-1/2 w-8 h-3 bg-white border-2 border-blue-500 rounded-full cursor-ns-resize z-50 hover:bg-blue-50 transition-colors shadow-sm",onPointerDown:L=>zn(L,_,"b")}),y.jsx("div",{className:"absolute top-1/2 -left-1.5 -translate-y-1/2 w-3 h-8 bg-white border-2 border-blue-500 rounded-full cursor-ew-resize z-50 hover:bg-blue-50 transition-colors shadow-sm",onPointerDown:L=>zn(L,_,"l")}),y.jsx("div",{className:"absolute top-1/2 -right-1.5 -translate-y-1/2 w-3 h-8 bg-white border-2 border-blue-500 rounded-full cursor-ew-resize z-50 hover:bg-blue-50 transition-colors shadow-sm",onPointerDown:L=>zn(L,_,"r")}),y.jsx("div",{className:"absolute -top-1.5 -left-1.5 w-3 h-3 bg-white border-2 border-blue-500 rounded-full cursor-nwse-resize z-50 hover:scale-125 transition-transform",onPointerDown:L=>zn(L,_,"tl")}),y.jsx("div",{className:"absolute -top-1.5 -right-1.5 w-3 h-3 bg-white border-2 border-blue-500 rounded-full cursor-nesw-resize z-50 hover:scale-125 transition-transform",onPointerDown:L=>zn(L,_,"tr")}),y.jsx("div",{className:"absolute -bottom-1.5 -left-1.5 w-3 h-3 bg-white border-2 border-blue-500 rounded-full cursor-nesw-resize z-50 hover:scale-125 transition-transform",onPointerDown:L=>zn(L,_,"bl")}),y.jsx("div",{className:"absolute -bottom-1.5 -right-1.5 w-3 h-3 bg-white border-2 border-blue-500 rounded-full cursor-nwse-resize z-50 hover:scale-125 transition-transform",onPointerDown:L=>zn(L,_,"br")}),y.jsx("div",{className:"absolute -top-12 left-1/2 -translate-x-1/2 w-0.5 h-12 bg-blue-500 pointer-events-none"}),y.jsx("div",{className:"absolute -top-[70px] left-1/2 -translate-x-1/2 w-9 h-9 bg-white border-2 border-blue-500 rounded-full cursor-grab active:cursor-grabbing z-50 hover:bg-blue-50 flex items-center justify-center shadow-sm transition-colors",onPointerDown:L=>By(L,_),children:y.jsx("span",{className:"material-symbols-outlined text-[16px] text-blue-600 font-bold",children:"refresh"})})]}),($==null?void 0:$.type)==="rotate"&&((Y=$.startNote)==null?void 0:Y.id)===_.id&&y.jsxs("div",{className:"absolute -top-32 left-1/2 bg-slate-900 text-white text-md font-bold px-0.5 py-1.5 rounded-lg shadow-xl pointer-events-none z-[100] min-w-[60px] text-center border border-white/10 backdrop-blur-md animate-in fade-in zoom-in-95 duration-150",style:{transform:`translateX(-50%) rotate(${-_.rotation}deg)`},children:[Math.round(_.rotation),""]}),_.type!=="image"&&y.jsx("div",{className:`absolute inset-0 top-0 ${B.bg} rounded-sm ${j?"":"shadow-md"} border ${B.border} transition-colors`}),_.type==="sticky"&&y.jsx("div",{className:"absolute -top-4 left-1/2 -translate-x-1/2 z-30 pointer-events-none drop-shadow-md w-1/2",children:y.jsx("div",{className:"w-full h-9 bg-slate-200/90 dark:bg-white/10 backdrop-blur-md border-white/20 dark:border-white/5 skew-x-1 flex items-center justify-center overflow-hidden [clip-path:polygon(0%_0%,100%_0%,100%_75%,96%_100%,92%_75%,88%_100%,84%_75%,80%_100%,76%_75%,72%_100%,68%_75%,64%_100%,60%_75%,56%_100%,52%_75%,48%_100%,44%_75%,40%_100%,36%_75%,32%_100%,28%_75%,24%_100%,20%_75%,16%_100%,12%_75%,8%_100%,4%_75%,0%_100%)]",children:y.jsx("div",{className:"absolute inset-0 bg-gradient-to-tr from-transparent via-white/30 to-transparent opacity-50"})})}),y.jsx("div",{className:`relative flex-1 flex flex-col z-10 ${_.type==="image"?"p-0":"p-5"} ${_.type==="sticky"?"pt-10":""} h-full`,children:_.type==="image"?y.jsx("div",{className:"flex-1 w-full h-full relative overflow-hidden rounded-md",children:y.jsx("img",{src:_.imageUrl,alt:"Uploaded",className:"absolute inset-0 w-full h-full object-contain pointer-events-none"})}):y.jsx("textarea",{value:_.content,onChange:L=>Dy(_.id,L.target.value),placeholder:"Write something...",className:`flex-1 w-full h-full bg-transparent border-0 resize-none focus:ring-0 p-0 text-slate-800 dark:text-slate-100 font-medium leading-relaxed placeholder:text-slate-500/30 transition-all [&::-webkit-scrollbar]:hidden [-ms-overflow-style:none] [scrollbar-width:none] ${S==="hand"?"pointer-events-none":"cursor-text"}`,style:{fontSize:`${_.fontSize}px`,lineHeight:1.4},spellCheck:!1,onPointerDown:L=>{L.stopPropagation(),R.has(_.id)||U(new Set([_.id])),of(_.id)},autoFocus:O})})]},_.id)})]})})}),u&&y.jsx("div",{className:"absolute top-6 right-6 z-50",children:y.jsx("button",{onClick:X,disabled:I,className:"px-4 py-2 rounded-xl text-sm font-bold bg-white/90 dark:bg-slate-900/90 text-slate-700 dark:text-slate-200 border border-slate-200 dark:border-slate-800 shadow-lg hover:bg-white transition-colors disabled:opacity-60",title:"Share Whiteboard",children:I?"Creating...":"Share"})}),z&&Q&&y.jsx("div",{className:"absolute inset-0 z-[100] flex items-center justify-center bg-black/40 backdrop-blur-sm",children:y.jsxs("div",{className:"w-[320px] rounded-2xl bg-white dark:bg-slate-900 border border-slate-200 dark:border-slate-800 shadow-2xl p-5",children:[y.jsxs("div",{className:"flex items-start justify-between gap-4",children:[y.jsxs("div",{children:[y.jsx("h3",{className:"text-lg font-bold text-slate-900 dark:text-white",children:"Share Whiteboard"}),y.jsx("p",{className:"text-xs text-slate-500 dark:text-slate-400",children:"Scan to open on phone or iPad."})]}),y.jsx("button",{onClick:()=>P(!1),className:"size-8 rounded-lg hover:bg-slate-100 dark:hover:bg-slate-800 text-slate-500",children:y.jsx("span",{className:"material-symbols-outlined text-[20px]",children:"close"})})]}),y.jsx("div",{className:"mt-4 flex items-center justify-center",children:y.jsx("div",{className:"p-3 bg-white rounded-xl border border-slate-200",children:re?y.jsx("img",{src:re,alt:"Whiteboard QR",className:"w-[200px] h-[200px]"}):y.jsx("div",{className:"w-[200px] h-[200px] flex items-center justify-center text-xs text-slate-400",children:"Generating QR..."})})}),y.jsxs("div",{className:"mt-4",children:[y.jsx("label",{className:"text-[11px] font-semibold uppercase tracking-wider text-slate-500",children:"Share Link"}),y.jsxs("div",{className:"mt-1 flex items-center gap-2",children:[y.jsx("input",{className:"flex-1 text-xs rounded-lg border border-slate-200 dark:border-slate-700 bg-slate-50 dark:bg-slate-800 px-2 py-1.5 text-slate-700 dark:text-slate-200",value:Q,readOnly:!0}),y.jsx("button",{onClick:()=>navigator.clipboard.writeText(Q),className:"px-2.5 py-1.5 text-xs font-semibold rounded-lg bg-primary text-white",children:"Copy"})]})]}),Oe&&y.jsx("div",{className:"mt-2 text-xs text-red-500",children:Oe})]})}),y.jsxs("div",{className:`absolute flex flex-row md:flex-col items-center bg-white/90 dark:bg-slate-900/90 backdrop-blur-md shadow-[0_-8px_30px_rgb(0,0,0,0.06)] md:shadow-[0_8px_30px_rgb(0,0,0,0.12)] border-t md:border border-slate-100 dark:border-slate-800 z-50 transition-all duration-300 ease-[cubic-bezier(0.19,1,0.22,1)]
            ${N?"bottom-0 left-0 right-0 md:bottom-auto md:left-6 md:top-1/2 md:-translate-y-1/2 md:right-auto md:w-auto p-2 rounded-t-[32px] md:rounded-2xl gap-1 md:gap-2 justify-between md:justify-center":"bottom-0 left-1/2 -translate-x-1/2 md:left-0 md:top-1/2 md:-translate-y-1/2 md:translate-x-0 md:bottom-auto p-0 rounded-t-xl md:rounded-r-xl md:rounded-l-none md:rounded-b-none gap-0"}`,children:[y.jsxs("button",{onClick:()=>C(!N),className:`transition-all text-slate-400 dark:text-slate-500 hover:text-slate-600 flex items-center justify-center
              md:static absolute -top-7 left-1/2 -translate-x-1/2 bg-white/90 dark:bg-slate-900/90 backdrop-blur-md rounded-t-2xl px-6 py-0.5 
              md:bg-transparent md:border-none md:px-1 py-6  md:rounded-xl md:translate-x-0 md:top-auto
              shadow-[0_-4px_10px_rgb(0,0,0,0.03)] md:shadow-none`,title:N?"Hide Toolbar":"Show Toolbar",children:[y.jsx("span",{className:`md:hidden material-symbols-outlined transition-transform duration-500 text-[26px] 
              ${N?"":"rotate-180"}`,children:"keyboard_arrow_down"}),y.jsx("span",{className:`hidden md:block material-symbols-outlined transition-transform duration-500 text-[26px] 
              ${N?"":"rotate-180"}`,children:"chevron_left"})]}),y.jsxs("div",{className:`flex flex-1 md:flex-none flex-row md:flex-col items-center justify-around md:justify-center gap-1 md:gap-3 transition-all duration-300 ${N?"opacity-100":"opacity-0 pointer-events-none w-0 h-0 md:h-0 overflow-hidden"}`,children:[y.jsx("div",{className:"hidden md:block w-full h-px bg-slate-100 dark:bg-slate-800 my-1"}),y.jsx("button",{onClick:()=>k("select"),className:`p-3 rounded-xl transition-all group relative flex items-center justify-center ${S==="select"?"bg-blue-600 text-white shadow-md":"text-slate-500 dark:text-slate-400 hover:bg-slate-100 dark:hover:bg-slate-800"}`,title:"Select Tool (V)",children:y.jsx("span",{className:"material-symbols-outlined",children:"near_me"})}),y.jsx("button",{onClick:()=>k("hand"),className:`p-3 rounded-xl transition-all group relative flex items-center justify-center ${S==="hand"?"bg-blue-600 text-white shadow-md":"text-slate-500 dark:text-slate-400 hover:bg-slate-100 dark:hover:bg-slate-800"}`,title:"Hand Tool (Space)",children:y.jsx("span",{className:"material-symbols-outlined",children:"pan_tool"})}),y.jsx("button",{onClick:()=>G("pen"),className:`p-3 rounded-xl transition-all group relative flex items-center justify-center ${S==="pen"?"bg-blue-600 text-white shadow-md":"text-slate-500 dark:text-slate-400 hover:bg-slate-100 dark:hover:bg-slate-800"}`,title:"Pen Tool",children:y.jsx("span",{className:"material-symbols-outlined",children:"edit"})}),S==="pen"&&y.jsx("div",{className:"absolute left-full ml-3 top-1/2 -translate-y-1/2 flex flex-col gap-2 p-2 bg-white dark:bg-slate-800 rounded-xl shadow-xl border border-slate-200 dark:border-slate-700 animate-in fade-in zoom-in-95 duration-200 z-[60]",children:["black","#ef4444","#3b82f6","#22c55e","#f97316"].map(_=>y.jsx("button",{onClick:O=>{O.stopPropagation(),Ft(_)},className:`w-6 h-6 rounded-full border border-slate-200 dark:border-slate-600 ${De===_?"scale-125 ring-2 ring-blue-500 ring-offset-2":"hover:scale-110"} transition-all`,style:{backgroundColor:_},title:_},_))}),y.jsx("button",{onClick:()=>G("eraser"),className:`p-3 rounded-xl transition-all group relative flex items-center justify-center ${S==="eraser"?"bg-blue-600 text-white shadow-md":"text-slate-500 dark:text-slate-400 hover:bg-slate-100 dark:hover:bg-slate-800"}`,title:"Eraser Tool",children:y.jsx("span",{className:"material-symbols-outlined",children:"ink_eraser"})}),y.jsx("div",{className:"hidden md:block w-full h-px bg-slate-100 dark:bg-slate-800 my-1"}),y.jsx("button",{onClick:()=>k("note"),className:`p-3 rounded-xl transition-all group relative flex items-center justify-center ${S==="note"?"bg-blue-600 text-white shadow-md":"text-slate-500 dark:text-slate-400 hover:bg-slate-100 dark:hover:bg-slate-800"}`,title:"Sticky Note (N)",children:y.jsx("span",{className:"material-symbols-outlined",children:"sticky_note_2"})}),y.jsx("button",{onClick:()=>k("text"),className:`p-3 rounded-xl transition-all group relative flex items-center justify-center ${S==="text"?"bg-blue-600 text-white shadow-md":"text-slate-500 dark:text-slate-400 hover:bg-slate-100 dark:hover:bg-slate-800"}`,title:"Text Box (T)",children:y.jsx("span",{className:"material-symbols-outlined",children:"text_fields"})}),y.jsxs("div",{className:"relative",children:[y.jsx("input",{type:"file",ref:pa,onChange:Cy,accept:"image/*",className:"hidden"}),y.jsx("button",{onClick:()=>{var _;return(_=pa.current)==null?void 0:_.click()},className:`p-3 rounded-xl transition-all group relative flex items-center justify-center ${S==="image"?"bg-blue-600 text-white shadow-md":"text-slate-500 dark:text-slate-400 hover:bg-slate-100 dark:hover:bg-slate-800"}`,title:"Upload Image",children:y.jsx("span",{className:"material-symbols-outlined",children:"image"})})]}),y.jsx("div",{className:"hidden md:block w-full h-px bg-slate-100 dark:bg-slate-800 my-1"}),y.jsx("button",{onClick:ei,disabled:Xe.length===0,className:`p-3 rounded-xl transition-all group relative flex items-center justify-center ${Xe.length===0?"opacity-30 cursor-not-allowed":"text-slate-500 dark:text-slate-400 hover:bg-slate-100 dark:hover:bg-slate-800"}`,title:"Undo (Ctrl+Z)",children:y.jsx("span",{className:"material-symbols-outlined",children:"undo"})}),y.jsx("button",{onClick:ma,disabled:ga.length===0,className:`p-3 rounded-xl transition-all group relative flex items-center justify-center ${ga.length===0?"opacity-30 cursor-not-allowed":"text-slate-500 dark:text-slate-400 hover:bg-slate-100 dark:hover:bg-slate-800"}`,title:"Redo (Ctrl+Y)",children:y.jsx("span",{className:"material-symbols-outlined",children:"redo"})})]})]}),y.jsx("div",{className:"absolute bottom-6 right-4 md:right-6 flex flex-col gap-3 z-50",children:y.jsxs("div",{className:"flex flex-col bg-white/90 dark:bg-slate-900/90 backdrop-blur-md shadow-xl rounded-2xl border border-slate-100 dark:border-slate-800 overflow-hidden",children:[y.jsx("button",{onClick:()=>ni(.1),className:"p-3 hover:bg-slate-100 dark:hover:bg-slate-800 text-slate-600 dark:text-slate-300 transition-colors",children:y.jsx("span",{className:"material-symbols-outlined text-[20px]",children:"add"})}),y.jsxs("div",{className:"px-1 py-1 text-[10px] font-black text-center text-slate-400 dark:text-slate-500 border-y border-slate-50 dark:border-slate-800 select-none bg-slate-50/50 dark:bg-slate-800/30",children:[Math.round(p.scale*100),"%"]}),y.jsx("button",{onClick:()=>ni(-.1),className:"p-3 hover:bg-slate-100 dark:hover:bg-slate-800 text-slate-600 dark:text-slate-300 transition-colors",children:y.jsx("span",{className:"material-symbols-outlined text-[20px]",children:"remove"})})]})})]})})})};function XE({onLoginSuccess:e}){const[t,n]=x.useState(!1),[a,r]=x.useState(""),[i,l]=x.useState(""),[s,o]=x.useState(!1),[u,c]=x.useState(null),[h,d]=x.useState(null),f=async v=>{v.preventDefault(),o(!0),c(null),d(null);try{if(t){const{error:b}=await Te.auth.signUp({email:a,password:i});if(b)throw b;d("Check your email for the confirmation link!")}else{const{error:b}=await Te.auth.signInWithPassword({email:a,password:i});if(b)throw b;e()}}catch(b){c(b.message||"An error occurred")}finally{o(!1)}};return y.jsxs("div",{className:"min-h-screen flex items-center justify-center bg-slate-50 dark:bg-slate-900 overflow-hidden relative",children:[y.jsxs("div",{className:"absolute top-0 left-0 w-full h-full overflow-hidden pointer-events-none",children:[y.jsx("div",{className:"absolute top-[-20%] left-[-10%] w-[60%] h-[60%] bg-blue-400/20 rounded-full blur-[120px] animate-pulse"}),y.jsx("div",{className:"absolute bottom-[-20%] right-[-10%] w-[60%] h-[60%] bg-purple-400/20 rounded-full blur-[120px] animate-pulse delay-700"})]}),y.jsxs("div",{className:"relative z-10 w-full max-w-md p-8 bg-white/70 dark:bg-slate-800/50 backdrop-blur-xl rounded-3xl shadow-2xl border border-white/20 dark:border-white/10",children:[y.jsxs("div",{className:"flex flex-col items-center mb-8",children:[y.jsx("div",{className:"size-16 rounded-2xl bg-gradient-to-br from-blue-500 to-purple-600 flex items-center justify-center shadow-lg mb-4",children:y.jsx("span",{className:"text-3xl font-bold text-white",children:"P"})}),y.jsx("h1",{className:"text-3xl font-bold text-slate-900 dark:text-white mb-2",children:t?"Create Account":"Welcome Back"}),y.jsx("p",{className:"text-slate-500 dark:text-slate-400 text-center",children:t?"Sign up to start organizing":"Sign in to access your dashboard"})]}),u&&y.jsx("div",{className:"mb-6 p-4 rounded-xl bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800/50 text-red-600 dark:text-red-400 text-sm",children:u}),h&&y.jsx("div",{className:"mb-6 p-4 rounded-xl bg-green-50 dark:bg-green-900/20 border border-green-200 dark:border-green-800/50 text-green-600 dark:text-green-400 text-sm",children:h}),y.jsxs("form",{onSubmit:f,className:"space-y-5",children:[y.jsxs("div",{children:[y.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1.5 ml-1",children:"Email"}),y.jsx("input",{type:"email",required:!0,value:a,onChange:v=>r(v.target.value),className:"w-full px-5 py-3 rounded-xl bg-white dark:bg-slate-900/50 border border-slate-200 dark:border-slate-700 focus:ring-2 focus:ring-blue-500/50 focus:border-blue-500 outline-none transition-all dark:text-white",placeholder:"name@company.com"})]}),y.jsxs("div",{children:[y.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1.5 ml-1",children:"Password"}),y.jsx("input",{type:"password",required:!0,value:i,onChange:v=>l(v.target.value),className:"w-full px-5 py-3 rounded-xl bg-white dark:bg-slate-900/50 border border-slate-200 dark:border-slate-700 focus:ring-2 focus:ring-blue-500/50 focus:border-blue-500 outline-none transition-all dark:text-white",placeholder:""})]}),y.jsx("button",{type:"submit",disabled:s,className:"w-full py-3.5 rounded-xl bg-gradient-to-r from-blue-600 to-purple-600 hover:from-blue-700 hover:to-purple-700 text-white font-bold shadow-lg hover:shadow-xl hover:scale-[1.02] active:scale-[0.98] transition-all disabled:opacity-70 disabled:cursor-not-allowed flex items-center justify-center",children:s?y.jsx("div",{className:"w-5 h-5 border-2 border-white/30 border-t-white rounded-full animate-spin"}):t?"Sign Up":"Sign In"})]}),y.jsx("div",{className:"mt-8 text-center",children:y.jsx("button",{onClick:()=>{n(!t),c(null),d(null)},className:"text-sm font-medium text-slate-500 dark:text-slate-400 hover:text-blue-600 dark:hover:text-blue-400 transition-colors",children:t?"Already have an account? Sign In":"Don't have an account? Sign Up"})})]})]})}new Date().toLocaleDateString("en-CA"),new Date().toLocaleDateString("en-CA"),new Date(Date.now()+864e5).toLocaleDateString("en-CA");const JE=["tasks","whiteboard"];function QE(){const[e,t]=x.useState(!1),[n,a]=x.useState([]),[r,i]=x.useState([]),[l,s]=x.useState("whiteboard"),[o,u]=x.useState(null),[c,h]=x.useState(!0);x.useEffect(()=>{Te.auth.getSession().then(({data:{session:k}})=>{u((k==null?void 0:k.user.id)??null),h(!1)});const{data:{subscription:S}}=Te.auth.onAuthStateChange((k,R)=>{u((R==null?void 0:R.user.id)??null),h(!1)});return()=>S.unsubscribe()},[]),x.useEffect(()=>{e?document.documentElement.classList.add("dark"):document.documentElement.classList.remove("dark")},[e]);const d=()=>t(S=>!S),f=new Date().toLocaleDateString("en-CA"),v=x.useMemo(()=>n.filter(S=>S.date>=f&&S.status!=="completed").length,[n,f]),[b,E]=x.useState(null);if(x.useEffect(()=>{o&&(async()=>{if(console.log("ensureTaskList: Checking for user",o),!o)return;const{data:k,error:R}=await Te.from("task_lists").select("id").eq("user_id",o).maybeSingle();if(k)console.log("ensureTaskList: Found list",k.id),E(k.id);else{console.log("ensureTaskList: Creating new list...");const{data:U,error:M}=await Te.from("task_lists").insert({user_id:o,title:"My Tasks"}).select().single();U&&(console.log("ensureTaskList: Created list",U.id),E(U.id)),M&&console.error("Error creating task list:",M)}})()},[o]),x.useEffect(()=>{(async()=>{if(console.log("fetchTasks: Triggered",{userId:o}),!o)return;const{data:k,error:R}=await Te.from("tasks").select("*").eq("user_id",o).order("date",{ascending:!0});if(R){console.error("Error fetching tasks:",R);return}if(k){console.log("fetchTasks: Data received",k.length);const U=k.map(M=>({id:M.id,title:M.title,category:M.category||"Deep Work",type:M.type,color:M.color,urgency:M.urgency,duration:M.duration||"1h",date:M.date,time:M.time,status:M.status,progress:M.progress||0}));a(U)}})()},[o]),c)return y.jsx("div",{className:"h-screen flex items-center justify-center bg-slate-50 dark:bg-slate-900",children:y.jsx("div",{className:"flex flex-col items-center gap-4",children:y.jsx("div",{className:"w-8 h-8 border-4 border-blue-500 border-t-transparent rounded-full animate-spin"})})});if(!o)return y.jsx(XE,{onLoginSuccess:()=>{}});const p=async S=>{if(!o)return;a(R=>[...R,S]);const{error:k}=await Te.from("tasks").insert({id:S.id,user_id:o,title:S.title,category:S.category||"Deep Work",date:S.date,time:S.time,status:S.status,type:S.type,urgency:S.urgency,color:S.color,duration:S.duration||"1h"});k&&console.error("Error adding task:",k)},m=async S=>{if(!o)return;a(R=>R.map(U=>U.id===S.id?S:U));const{error:k}=await Te.from("tasks").update({title:S.title,category:S.category,date:S.date,time:S.time,status:S.status,type:S.type,urgency:S.urgency,color:S.color,duration:S.duration}).eq("id",S.id);k&&console.error("Error updating task:",k)},g=async S=>{if(!o)return;a(R=>R.filter(U=>U.id!==S));const{error:k}=await Te.from("tasks").delete().eq("id",S);k&&console.error("Error deleting task:",k)},w=async S=>{const k=n.find(M=>M.id===S);if(!k)return;const R=k.status==="completed"?"todo":"completed";a(M=>M.map(q=>q.id===S?{...q,status:R}:q));const{error:U}=await Te.from("tasks").update({status:R}).eq("id",S);U&&console.error("Error toggling task status:",U)};return y.jsxs("div",{className:"h-screen flex flex-col bg-background-light dark:bg-background-dark text-slate-900 dark:text-slate-50",children:[y.jsx("header",{className:"sticky top-0 z-20 bg-white/70 dark:bg-[#0f172a]/70 backdrop-blur-xl border-b border-slate-200/50 dark:border-slate-800/50 transition-all duration-300",children:y.jsxs("div",{className:"mx-auto w-full max-w-[1440px] px-6 h-20 flex items-center justify-between gap-8",children:[y.jsxs("div",{className:"flex items-center gap-4 group cursor-default min-w-0",children:[y.jsxs("div",{className:"relative",children:[y.jsx("div",{className:"absolute -inset-1 bg-gradient-to-r from-primary to-blue-500 rounded-xl blur opacity-25 group-hover:opacity-50 transition duration-500"}),y.jsx("div",{className:"relative size-11 rounded-xl bg-white dark:bg-slate-900 border border-slate-200 dark:border-slate-800 flex items-center justify-center text-xl font-bold shadow-sm",children:y.jsx("span",{className:"bg-gradient-to-br from-primary to-blue-600 bg-clip-text text-transparent text-[24px]",children:"P"})})]}),y.jsx("div",{className:"hidden sm:block overflow-hidden",children:y.jsx("h1",{className:"text-2xl font-bold tracking-tight text-slate-900 dark:text-white leading-none mb-1",children:"To-do List"})})]}),y.jsx("nav",{className:"flex items-center bg-slate-100/80 dark:bg-slate-800/50 p-1 rounded-2xl border border-slate-200/50 dark:border-white/5 shadow-inner",children:JE.map(S=>{const k=l===S;return y.jsxs("button",{onClick:()=>s(S),className:`
                    relative px-6 py-2 rounded-xl text-sm font-bold transition-all duration-300 flex items-center gap-2
                    ${k?"text-white shadow-lg scale-[1.02]":"text-slate-500 dark:text-slate-400 hover:text-slate-900 dark:hover:text-white"}
                  `,children:[k&&y.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-primary to-blue-600 rounded-xl animate-in fade-in zoom-in-95 duration-300"}),y.jsxs("span",{className:"relative z-10 flex items-center gap-2",children:[y.jsx("span",{className:"material-symbols-outlined text-[18px]",children:S==="tasks"?"inventory":S==="whiteboard"?"dashboard_customize":"draw"}),S==="tasks"?`Tasks (${v})`:"Whiteboard"]})]},S)})}),y.jsxs("div",{className:"flex items-center gap-3",children:[y.jsx("button",{onClick:async()=>await Te.auth.signOut(),className:"px-4 py-2 rounded-xl text-sm font-medium text-slate-500 dark:text-slate-400 hover:bg-slate-100 dark:hover:bg-white/5 transition-colors",children:"Sign Out"}),y.jsx("button",{onClick:d,className:"size-11 rounded-xl flex items-center justify-center text-slate-500 dark:text-slate-400 hover:bg-slate-100 dark:hover:bg-white/5 border border-transparent hover:border-slate-200 dark:hover:border-slate-800 transition-all duration-300",title:e?"Switch to Light Mode":"Switch to Dark Mode",children:y.jsx("span",{className:"material-symbols-outlined text-[22px]",children:e?"light_mode":"dark_mode"})})]})]})}),y.jsx("main",{className:"flex-1 w-full flex flex-col",children:l==="tasks"?y.jsx("div",{className:"mx-auto max-w-6xl w-full px-4 pb-12 pt-4",children:y.jsx(iE,{toggleTheme:d,isDarkMode:e,tasks:n,onToggleTaskStatus:w,onAddTask:p,onEditTask:m,onDeleteTask:g,userId:o||""})}):y.jsx(ky,{toggleTheme:d,isDarkMode:e,notes:r,setNotes:i,userId:o})})]})}function ZE(){const{shareId:e}=A_(),[t,n]=x.useState(null),[a,r]=x.useState(null),[i,l]=x.useState([]),[s,o]=x.useState(!0),[u,c]=x.useState(null);return x.useEffect(()=>{const h=localStorage.getItem("whiteboard_guest_id");if(h)n(h);else{const d=crypto.randomUUID();localStorage.setItem("whiteboard_guest_id",d),n(d)}},[]),x.useEffect(()=>{(async()=>{if(!e){c("Invalid share link."),o(!1);return}const{data:d,error:f}=await Te.from("whiteboard_shares").select("whiteboard_id").eq("id",e).maybeSingle();if(f){c("Failed to load share."),o(!1);return}if(!d){c("Share not found."),o(!1);return}r(d.whiteboard_id),o(!1)})()},[e]),s?y.jsx("div",{className:"h-screen flex items-center justify-center bg-slate-50 dark:bg-slate-900",children:y.jsxs("div",{className:"flex flex-col items-center gap-4",children:[y.jsx("div",{className:"w-8 h-8 border-4 border-blue-500 border-t-transparent rounded-full animate-spin"}),y.jsx("div",{className:"text-sm text-slate-500",children:"Loading shared whiteboard..."})]})}):u||!t||!a?y.jsx("div",{className:"h-screen flex items-center justify-center bg-slate-50 dark:bg-slate-900",children:y.jsx("div",{className:"text-sm text-red-500",children:u||"Unable to load share."})}):y.jsx("div",{className:"h-screen flex flex-col bg-background-light dark:bg-background-dark text-slate-900 dark:text-slate-50",children:y.jsx("main",{className:"flex-1 w-full flex flex-col",children:y.jsx(ky,{toggleTheme:()=>{},isDarkMode:!1,notes:i,setNotes:l,userId:t,whiteboardId:a,allowShare:!1})})})}function FE(){return y.jsxs($_,{children:[y.jsx(Oc,{path:"/share/:shareId",element:y.jsx(ZE,{})}),y.jsx(Oc,{path:"/*",element:y.jsx(QE,{})})]})}const Ry=document.getElementById("root");if(!Ry)throw new Error("Could not find root element to mount to");const WE=Gw.createRoot(Ry);WE.render(y.jsx(ov.StrictMode,{children:y.jsx(dS,{children:y.jsx(FE,{})})}));
